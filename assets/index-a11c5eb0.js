var Xw=Object.defineProperty;var Jw=(t,e,n)=>e in t?Xw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wc=(t,e,n)=>(Jw(t,typeof e!="symbol"?e+"":e,n),n);function Zw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xv={exports:{}},uu={},Dv={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),eT=Symbol.for("react.portal"),tT=Symbol.for("react.fragment"),nT=Symbol.for("react.strict_mode"),rT=Symbol.for("react.profiler"),iT=Symbol.for("react.provider"),oT=Symbol.for("react.context"),sT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),lT=Symbol.for("react.memo"),uT=Symbol.for("react.lazy"),vm=Symbol.iterator;function cT(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var Lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mv=Object.assign,Vv={};function ao(t,e,n){this.props=t,this.context=e,this.refs=Vv,this.updater=n||Lv}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jv(){}jv.prototype=ao.prototype;function Uh(t,e,n){this.props=t,this.context=e,this.refs=Vv,this.updater=n||Lv}var qh=Uh.prototype=new jv;qh.constructor=Uh;Mv(qh,ao.prototype);qh.isPureReactComponent=!0;var _m=Array.isArray,Fv=Object.prototype.hasOwnProperty,$h={current:null},Bv={key:!0,ref:!0,__self:!0,__source:!0};function Uv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Fv.call(e,r)&&!Bv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ks,type:t,key:o,ref:s,props:i,_owner:$h.current}}function fT(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function hT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Em=/\/+/g;function Tc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hT(""+t.key):e.toString(36)}function Qa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ks:case eT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Tc(s,0):r,_m(i)?(n="",t!=null&&(n=t.replace(Em,"$&/")+"/"),Qa(i,e,n,"",function(c){return c})):i!=null&&(zh(i)&&(i=fT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Em,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",_m(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Tc(o,a);s+=Qa(o,e,n,l,i)}else if(l=cT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Tc(o,a++),s+=Qa(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ea(t,e,n){if(t==null)return t;var r=[],i=0;return Qa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Ya={transition:null},pT={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:$h};function qv(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Ea,forEach:function(t,e,n){Ea(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ea(t,function(){e++}),e},toArray:function(t){return Ea(t,function(e){return e})||[]},only:function(t){if(!zh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ao;Ie.Fragment=tT;Ie.Profiler=rT;Ie.PureComponent=Uh;Ie.StrictMode=nT;Ie.Suspense=aT;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pT;Ie.act=qv;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=$h.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fv.call(e,l)&&!Bv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ks,type:t.type,key:i,ref:o,props:r,_owner:s}};Ie.createContext=function(t){return t={$$typeof:oT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iT,_context:t},t.Consumer=t};Ie.createElement=Uv;Ie.createFactory=function(t){var e=Uv.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:sT,render:t}};Ie.isValidElement=zh;Ie.lazy=function(t){return{$$typeof:uT,_payload:{_status:-1,_result:t},_init:dT}};Ie.memo=function(t,e){return{$$typeof:lT,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Ya.transition;Ya.transition={};try{t()}finally{Ya.transition=e}};Ie.unstable_act=qv;Ie.useCallback=function(t,e){return Dt.current.useCallback(t,e)};Ie.useContext=function(t){return Dt.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Dt.current.useEffect(t,e)};Ie.useId=function(){return Dt.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Dt.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};Ie.useRef=function(t){return Dt.current.useRef(t)};Ie.useState=function(t){return Dt.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Dt.current.useTransition()};Ie.version="18.3.1";Dv.exports=Ie;var le=Dv.exports;const $v=Cv(le),df=Zw({__proto__:null,default:$v},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT=le,gT=Symbol.for("react.element"),yT=Symbol.for("react.fragment"),vT=Object.prototype.hasOwnProperty,_T=mT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ET={key:!0,ref:!0,__self:!0,__source:!0};function zv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vT.call(e,r)&&!ET.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gT,type:t,key:o,ref:s,props:i,_owner:_T.current}}uu.Fragment=yT;uu.jsx=zv;uu.jsxs=zv;xv.exports=uu;var Hh=xv.exports;const Cr=Hh.Fragment,F=Hh.jsx,se=Hh.jsxs;var Hv={exports:{}},tn={},Wv={exports:{}},Kv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,q){var j=Q.length;Q.push(q);e:for(;0<j;){var x=j-1>>>1,M=Q[x];if(0<i(M,q))Q[x]=q,Q[j]=M,j=x;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var q=Q[0],j=Q.pop();if(j!==q){Q[0]=j;e:for(var x=0,M=Q.length,B=M>>>1;x<B;){var K=2*(x+1)-1,z=Q[K],V=K+1,$=Q[V];if(0>i(z,j))V<M&&0>i($,z)?(Q[x]=$,Q[V]=j,x=V):(Q[x]=z,Q[K]=j,x=K);else if(V<M&&0>i($,j))Q[x]=$,Q[V]=j,x=V;else break e}}return q}function i(Q,q){var j=Q.sortIndex-q.sortIndex;return j!==0?j:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,E=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=Q)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function y(Q){if(_=!1,v(Q),!E)if(n(l)!==null)E=!0,H(k);else{var q=n(c);q!==null&&W(y,q.startTime-Q)}}function k(Q,q){E=!1,_&&(_=!1,g(T),T=-1),p=!0;var j=f;try{for(v(q),h=n(l);h!==null&&(!(h.expirationTime>q)||Q&&!A());){var x=h.callback;if(typeof x=="function"){h.callback=null,f=h.priorityLevel;var M=x(h.expirationTime<=q);q=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),v(q)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var K=n(c);K!==null&&W(y,K.startTime-q),B=!1}return B}finally{h=null,f=j,p=!1}}var C=!1,S=null,T=-1,N=5,I=-1;function A(){return!(t.unstable_now()-I<N)}function O(){if(S!==null){var Q=t.unstable_now();I=Q;var q=!0;try{q=S(!0,Q)}finally{q?P():(C=!1,S=null)}}else C=!1}var P;if(typeof m=="function")P=function(){m(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=O,P=function(){U.postMessage(null)}}else P=function(){w(O,0)};function H(Q){S=Q,C||(C=!0,P())}function W(Q,q){T=w(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,H(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var j=f;f=q;try{return Q()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var j=f;f=Q;try{return q()}finally{f=j}},t.unstable_scheduleCallback=function(Q,q,j){var x=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?x+j:x):j=x,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=j+M,Q={id:d++,callback:q,priorityLevel:Q,startTime:j,expirationTime:M,sortIndex:-1},j>x?(Q.sortIndex=j,e(c,Q),n(l)===null&&Q===n(c)&&(_?(g(T),T=-1):_=!0,W(y,j-x))):(Q.sortIndex=M,e(l,Q),E||p||(E=!0,H(k))),Q},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Q){var q=f;return function(){var j=f;f=q;try{return Q.apply(this,arguments)}finally{f=j}}}})(Kv);Wv.exports=Kv;var wT=Wv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=le,Jt=wT;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gv=new Set,vs={};function ui(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(vs[t]=e,t=0;t<e.length;t++)Gv.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wm={},Tm={};function ST(t){return pf.call(Tm,t)?!0:pf.call(wm,t)?!1:bT.test(t)?Tm[t]=!0:(wm[t]=!0,!1)}function AT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IT(t,e,n,r){if(e===null||typeof e>"u"||AT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wh=/[\-:]([a-z])/g;function Kh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wh,Kh);_t[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wh,Kh);_t[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wh,Kh);_t[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gh(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IT(e,n,i,r)&&(n=null),r||i===null?ST(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qn=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),mf=Symbol.for("react.profiler"),Qv=Symbol.for("react.provider"),Yv=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),yf=Symbol.for("react.suspense_list"),Xh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Xv=Symbol.for("react.offscreen"),bm=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=bm&&t[bm]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,bc;function Qo(t){if(bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||""}return`
`+bc+t}var Sc=!1;function Ac(t,e){if(!t||Sc)return"";Sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function kT(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Ac(t.type,!1),t;case 11:return t=Ac(t.type.render,!1),t;case 1:return t=Ac(t.type,!0),t;default:return""}}function vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Ii:return"Portal";case mf:return"Profiler";case Qh:return"StrictMode";case gf:return"Suspense";case yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yv:return(t.displayName||"Context")+".Consumer";case Qv:return(t._context.displayName||"Context")+".Provider";case Yh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xh:return e=t.displayName||null,e!==null?e:vf(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return vf(t(e))}catch{}}return null}function PT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vf(e);case 8:return e===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OT(t){var e=Jv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=OT(t))}function Zv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _f(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e_(t,e){e=e.checked,e!=null&&Gh(t,"checked",e,!1)}function Ef(t,e){e_(t,e);var n=br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Am(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Im(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Yo(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function t_(t,e){var n=br(e.value),r=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function km(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ba,r_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NT=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(t){NT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rs[e]=rs[t]})});function i_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rs.hasOwnProperty(t)&&rs[t]?(""+e).trim():e+"px"}function o_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=i_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var RT=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(RT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=null;function Jh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kf=null,Fi=null,Bi=null;function Pm(t){if(t=Ys(t)){if(typeof kf!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=pu(e),kf(t.stateNode,t.type,e))}}function s_(t){Fi?Bi?Bi.push(t):Bi=[t]:Fi=t}function a_(){if(Fi){var t=Fi,e=Bi;if(Bi=Fi=null,Pm(t),e)for(t=0;t<e.length;t++)Pm(e[t])}}function l_(t,e){return t(e)}function u_(){}var Ic=!1;function c_(t,e,n){if(Ic)return t(e,n);Ic=!0;try{return l_(t,e,n)}finally{Ic=!1,(Fi!==null||Bi!==null)&&(u_(),a_())}}function Es(t,e){var n=t.stateNode;if(n===null)return null;var r=pu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Pf=!1;if(Un)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Pf=!1}function CT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var is=!1,gl=null,yl=!1,Of=null,xT={onError:function(t){is=!0,gl=t}};function DT(t,e,n,r,i,o,s,a,l){is=!1,gl=null,CT.apply(xT,arguments)}function LT(t,e,n,r,i,o,s,a,l){if(DT.apply(this,arguments),is){if(is){var c=gl;is=!1,gl=null}else throw Error(oe(198));yl||(yl=!0,Of=c)}}function ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Om(t){if(ci(t)!==t)throw Error(oe(188))}function MT(t){var e=t.alternate;if(!e){if(e=ci(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Om(i),t;if(o===r)return Om(i),e;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function h_(t){return t=MT(t),t!==null?d_(t):null}function d_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d_(t);if(e!==null)return e;t=t.sibling}return null}var p_=Jt.unstable_scheduleCallback,Nm=Jt.unstable_cancelCallback,VT=Jt.unstable_shouldYield,jT=Jt.unstable_requestPaint,et=Jt.unstable_now,FT=Jt.unstable_getCurrentPriorityLevel,Zh=Jt.unstable_ImmediatePriority,m_=Jt.unstable_UserBlockingPriority,vl=Jt.unstable_NormalPriority,BT=Jt.unstable_LowPriority,g_=Jt.unstable_IdlePriority,cu=null,In=null;function UT(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(cu,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:zT,qT=Math.log,$T=Math.LN2;function zT(t){return t>>>=0,t===0?32:31-(qT(t)/$T|0)|0}var Sa=64,Aa=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xo(a):(o&=s,o!==0&&(r=Xo(o)))}else s=n&~i,s!==0?r=Xo(s):o!==0&&(r=Xo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),i=1<<n,r|=t[n],e&=~i;return r}function HT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y_(){var t=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),t}function kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function KT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ed(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function v_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var __,td,E_,w_,T_,Rf=!1,Ia=[],cr=null,fr=null,hr=null,ws=new Map,Ts=new Map,ir=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(e.pointerId)}}function jo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ys(e),e!==null&&td(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QT(t,e,n,r,i){switch(e){case"focusin":return cr=jo(cr,t,e,n,r,i),!0;case"dragenter":return fr=jo(fr,t,e,n,r,i),!0;case"mouseover":return hr=jo(hr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ws.set(o,jo(ws.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ts.set(o,jo(Ts.get(o)||null,t,e,n,r,i)),!0}return!1}function b_(t){var e=Kr(t.target);if(e!==null){var n=ci(e);if(n!==null){if(e=n.tag,e===13){if(e=f_(n),e!==null){t.blockedOn=e,T_(t.priority,function(){E_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);If=r,n.target.dispatchEvent(r),If=null}else return e=Ys(n),e!==null&&td(e),t.blockedOn=n,!1;e.shift()}return!0}function Cm(t,e,n){Xa(t)&&n.delete(e)}function YT(){Rf=!1,cr!==null&&Xa(cr)&&(cr=null),fr!==null&&Xa(fr)&&(fr=null),hr!==null&&Xa(hr)&&(hr=null),ws.forEach(Cm),Ts.forEach(Cm)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,YT)))}function bs(t){function e(i){return Fo(i,t)}if(0<Ia.length){Fo(Ia[0],t);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&Fo(cr,t),fr!==null&&Fo(fr,t),hr!==null&&Fo(hr,t),ws.forEach(e),Ts.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)b_(n),n.blockedOn===null&&ir.shift()}var Ui=Qn.ReactCurrentBatchConfig,El=!0;function XT(t,e,n,r){var i=Le,o=Ui.transition;Ui.transition=null;try{Le=1,nd(t,e,n,r)}finally{Le=i,Ui.transition=o}}function JT(t,e,n,r){var i=Le,o=Ui.transition;Ui.transition=null;try{Le=4,nd(t,e,n,r)}finally{Le=i,Ui.transition=o}}function nd(t,e,n,r){if(El){var i=Cf(t,e,n,r);if(i===null)Vc(t,e,r,wl,n),Rm(t,r);else if(QT(i,t,e,n,r))r.stopPropagation();else if(Rm(t,r),e&4&&-1<GT.indexOf(t)){for(;i!==null;){var o=Ys(i);if(o!==null&&__(o),o=Cf(t,e,n,r),o===null&&Vc(t,e,r,wl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vc(t,e,r,null,n)}}var wl=null;function Cf(t,e,n,r){if(wl=null,t=Jh(r),t=Kr(t),t!==null)if(e=ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function S_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FT()){case Zh:return 1;case m_:return 4;case vl:case BT:return 16;case g_:return 536870912;default:return 16}default:return 16}}var sr=null,rd=null,Ja=null;function A_(){if(Ja)return Ja;var t,e=rd,n=e.length,r,i="value"in sr?sr.value:sr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ja=i.slice(t,1<r?1-r:void 0)}function Za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function xm(){return!1}function nn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ka:xm,this.isPropagationStopped=xm,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=nn(lo),Qs=Ge({},lo,{view:0,detail:0}),ZT=nn(Qs),Pc,Oc,Bo,fu=Ge({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bo&&(Bo&&t.type==="mousemove"?(Pc=t.screenX-Bo.screenX,Oc=t.screenY-Bo.screenY):Oc=Pc=0,Bo=t),Pc)},movementY:function(t){return"movementY"in t?t.movementY:Oc}}),Dm=nn(fu),eb=Ge({},fu,{dataTransfer:0}),tb=nn(eb),nb=Ge({},Qs,{relatedTarget:0}),Nc=nn(nb),rb=Ge({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=nn(rb),ob=Ge({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sb=nn(ob),ab=Ge({},lo,{data:0}),Lm=nn(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cb[t])?!!e[t]:!1}function od(){return fb}var hb=Ge({},Qs,{key:function(t){if(t.key){var e=lb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ub[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),db=nn(hb),pb=Ge({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=nn(pb),mb=Ge({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),gb=nn(mb),yb=Ge({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vb=nn(yb),_b=Ge({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Eb=nn(_b),wb=[9,13,27,32],sd=Un&&"CompositionEvent"in window,os=null;Un&&"documentMode"in document&&(os=document.documentMode);var Tb=Un&&"TextEvent"in window&&!os,I_=Un&&(!sd||os&&8<os&&11>=os),Vm=String.fromCharCode(32),jm=!1;function k_(t,e){switch(t){case"keyup":return wb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function bb(t,e){switch(t){case"compositionend":return P_(e);case"keypress":return e.which!==32?null:(jm=!0,Vm);case"textInput":return t=e.data,t===Vm&&jm?null:t;default:return null}}function Sb(t,e){if(Pi)return t==="compositionend"||!sd&&k_(t,e)?(t=A_(),Ja=rd=sr=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I_&&e.locale!=="ko"?null:e.data;default:return null}}var Ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ab[t.type]:e==="textarea"}function O_(t,e,n,r){s_(r),e=Tl(e,"onChange"),0<e.length&&(n=new id("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ss=null,Ss=null;function Ib(t){B_(t,0)}function hu(t){var e=Ri(t);if(Zv(e))return t}function kb(t,e){if(t==="change")return e}var N_=!1;if(Un){var Rc;if(Un){var Cc="oninput"in document;if(!Cc){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Cc=typeof Bm.oninput=="function"}Rc=Cc}else Rc=!1;N_=Rc&&(!document.documentMode||9<document.documentMode)}function Um(){ss&&(ss.detachEvent("onpropertychange",R_),Ss=ss=null)}function R_(t){if(t.propertyName==="value"&&hu(Ss)){var e=[];O_(e,Ss,t,Jh(t)),c_(Ib,e)}}function Pb(t,e,n){t==="focusin"?(Um(),ss=e,Ss=n,ss.attachEvent("onpropertychange",R_)):t==="focusout"&&Um()}function Ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Ss)}function Nb(t,e){if(t==="click")return hu(e)}function Rb(t,e){if(t==="input"||t==="change")return hu(e)}function Cb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:Cb;function As(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pf.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,e){var n=qm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qm(n)}}function C_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x_(){for(var t=window,e=ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ml(t.document)}return e}function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xb(t){var e=x_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C_(n.ownerDocument.documentElement,n)){if(r!==null&&ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$m(n,o);var s=$m(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Db=Un&&"documentMode"in document&&11>=document.documentMode,Oi=null,xf=null,as=null,Df=!1;function zm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Df||Oi==null||Oi!==ml(r)||(r=Oi,"selectionStart"in r&&ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),as&&As(as,r)||(as=r,r=Tl(xf,"onSelect"),0<r.length&&(e=new id("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oi)))}function Pa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ni={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},xc={},D_={};Un&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function du(t){if(xc[t])return xc[t];if(!Ni[t])return t;var e=Ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D_)return xc[t]=e[n];return t}var L_=du("animationend"),M_=du("animationiteration"),V_=du("animationstart"),j_=du("transitionend"),F_=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){F_.set(t,e),ui(e,[t])}for(var Dc=0;Dc<Hm.length;Dc++){var Lc=Hm[Dc],Lb=Lc.toLowerCase(),Mb=Lc[0].toUpperCase()+Lc.slice(1);xr(Lb,"on"+Mb)}xr(L_,"onAnimationEnd");xr(M_,"onAnimationIteration");xr(V_,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(j_,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Wm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LT(r,e,void 0,t),t.currentTarget=null}function B_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Wm(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Wm(i,a,c),o=l}}}if(yl)throw t=Of,yl=!1,Of=null,t}function Be(t,e){var n=e[Ff];n===void 0&&(n=e[Ff]=new Set);var r=t+"__bubble";n.has(r)||(U_(e,t,2,!1),n.add(r))}function Mc(t,e,n){var r=0;e&&(r|=4),U_(n,t,r,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[Oa]){t[Oa]=!0,Gv.forEach(function(n){n!=="selectionchange"&&(Vb.has(n)||Mc(n,!1,t),Mc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,Mc("selectionchange",!1,e))}}function U_(t,e,n,r){switch(S_(e)){case 1:var i=XT;break;case 4:i=JT;break;default:i=nd}n=i.bind(null,e,n,t),i=void 0,!Pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}c_(function(){var c=o,d=Jh(n),h=[];e:{var f=F_.get(t);if(f!==void 0){var p=id,E=t;switch(t){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":p=db;break;case"focusin":E="focus",p=Nc;break;case"focusout":E="blur",p=Nc;break;case"beforeblur":case"afterblur":p=Nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gb;break;case L_:case M_:case V_:p=ib;break;case j_:p=vb;break;case"scroll":p=ZT;break;case"wheel":p=Eb;break;case"copy":case"cut":case"paste":p=sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mm}var _=(e&4)!==0,w=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,v;m!==null;){v=m;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,g!==null&&(y=Es(m,g),y!=null&&_.push(ks(m,y,v)))),w)break;m=m.return}0<_.length&&(f=new p(f,E,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==If&&(E=n.relatedTarget||n.fromElement)&&(Kr(E)||E[qn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(E=n.relatedTarget||n.toElement,p=c,E=E?Kr(E):null,E!==null&&(w=ci(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(p=null,E=c),p!==E)){if(_=Dm,y="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Mm,y="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:Ri(p),v=E==null?f:Ri(E),f=new _(y,m+"leave",p,n,d),f.target=w,f.relatedTarget=v,y=null,Kr(d)===c&&(_=new _(g,m+"enter",E,n,d),_.target=v,_.relatedTarget=w,y=_),w=y,p&&E)t:{for(_=p,g=E,m=0,v=_;v;v=wi(v))m++;for(v=0,y=g;y;y=wi(y))v++;for(;0<m-v;)_=wi(_),m--;for(;0<v-m;)g=wi(g),v--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=wi(_),g=wi(g)}_=null}else _=null;p!==null&&Km(h,f,p,_,!1),E!==null&&w!==null&&Km(h,w,E,_,!0)}}e:{if(f=c?Ri(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=kb;else if(Fm(f))if(N_)k=Rb;else{k=Ob;var C=Pb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Nb);if(k&&(k=k(t,c))){O_(h,k,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&wf(f,"number",f.value)}switch(C=c?Ri(c):window,t){case"focusin":(Fm(C)||C.contentEditable==="true")&&(Oi=C,xf=c,as=null);break;case"focusout":as=xf=Oi=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,zm(h,n,d);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":zm(h,n,d)}var S;if(sd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pi?k_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(I_&&n.locale!=="ko"&&(Pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pi&&(S=A_()):(sr=d,rd="value"in sr?sr.value:sr.textContent,Pi=!0)),C=Tl(c,T),0<C.length&&(T=new Lm(T,t,null,n,d),h.push({event:T,listeners:C}),S?T.data=S:(S=P_(n),S!==null&&(T.data=S)))),(S=Tb?bb(t,n):Sb(t,n))&&(c=Tl(c,"onBeforeInput"),0<c.length&&(d=new Lm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}B_(h,e)})}function ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Es(t,n),o!=null&&r.unshift(ks(t,o,i)),o=Es(t,e),o!=null&&r.push(ks(t,o,i))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Km(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Es(n,o),l!=null&&s.unshift(ks(n,l,a))):i||(l=Es(n,o),l!=null&&s.push(ks(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Gm(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Fb,"")}function Na(t,e,n){if(e=Gm(e),Gm(t)!==e&&n)throw Error(oe(425))}function bl(){}var Lf=null,Mf=null;function Vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jf=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(t){return Qm.resolve(null).then(t).catch(qb)}:jf;function qb(t){setTimeout(function(){throw t})}function jc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bs(e)}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ym(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),An="__reactFiber$"+uo,Ps="__reactProps$"+uo,qn="__reactContainer$"+uo,Ff="__reactEvents$"+uo,$b="__reactListeners$"+uo,zb="__reactHandles$"+uo;function Kr(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ym(t);t!==null;){if(n=t[An])return n;t=Ym(t)}return e}t=n,n=t.parentNode}return null}function Ys(t){return t=t[An]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function pu(t){return t[Ps]||null}var Bf=[],Ci=-1;function Dr(t){return{current:t}}function qe(t){0>Ci||(t.current=Bf[Ci],Bf[Ci]=null,Ci--)}function je(t,e){Ci++,Bf[Ci]=t.current,t.current=e}var Sr={},Nt=Dr(Sr),Ut=Dr(!1),ei=Sr;function Ki(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function Sl(){qe(Ut),qe(Nt)}function Xm(t,e,n){if(Nt.current!==Sr)throw Error(oe(168));je(Nt,e),je(Ut,n)}function q_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,PT(t)||"Unknown",i));return Ge({},n,r)}function Al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,ei=Nt.current,je(Nt,t),je(Ut,Ut.current),!0}function Jm(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=q_(t,e,ei),r.__reactInternalMemoizedMergedChildContext=t,qe(Ut),qe(Nt),je(Nt,t)):qe(Ut),je(Ut,n)}var Vn=null,mu=!1,Fc=!1;function $_(t){Vn===null?Vn=[t]:Vn.push(t)}function Hb(t){mu=!0,$_(t)}function Lr(){if(!Fc&&Vn!==null){Fc=!0;var t=0,e=Le;try{var n=Vn;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vn=null,mu=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),p_(Zh,Lr),i}finally{Le=e,Fc=!1}}return null}var xi=[],Di=0,Il=null,kl=0,rn=[],on=0,ti=null,jn=1,Fn="";function qr(t,e){xi[Di++]=kl,xi[Di++]=Il,Il=t,kl=e}function z_(t,e,n){rn[on++]=jn,rn[on++]=Fn,rn[on++]=ti,ti=t;var r=jn;t=Fn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var o=32-vn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jn=1<<32-vn(e)+i|n<<i|r,Fn=o+t}else jn=1<<o|n<<i|r,Fn=t}function ld(t){t.return!==null&&(qr(t,1),z_(t,1,0))}function ud(t){for(;t===Il;)Il=xi[--Di],xi[Di]=null,kl=xi[--Di],xi[Di]=null;for(;t===ti;)ti=rn[--on],rn[on]=null,Fn=rn[--on],rn[on]=null,jn=rn[--on],rn[on]=null}var Xt=null,Gt=null,$e=!1,gn=null;function H_(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:jn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Gt=null,!0):!1;default:return!1}}function Uf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if($e){var e=Gt;if(e){var n=e;if(!Zm(t,e)){if(Uf(t))throw Error(oe(418));e=dr(n.nextSibling);var r=Xt;e&&Zm(t,e)?H_(r,n):(t.flags=t.flags&-4097|2,$e=!1,Xt=t)}}else{if(Uf(t))throw Error(oe(418));t.flags=t.flags&-4097|2,$e=!1,Xt=t}}}function eg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Ra(t){if(t!==Xt)return!1;if(!$e)return eg(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vf(t.type,t.memoizedProps)),e&&(e=Gt)){if(Uf(t))throw W_(),Error(oe(418));for(;e;)H_(t,e),e=dr(e.nextSibling)}if(eg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Xt?dr(t.stateNode.nextSibling):null;return!0}function W_(){for(var t=Gt;t;)t=dr(t.nextSibling)}function Gi(){Gt=Xt=null,$e=!1}function cd(t){gn===null?gn=[t]:gn.push(t)}var Wb=Qn.ReactCurrentBatchConfig;function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tg(t){var e=t._init;return e(t._payload)}function K_(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=yr(g,m),g.index=0,g.sibling=null,g}function o(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,y){return m===null||m.tag!==6?(m=Wc(v,g.mode,y),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,y){var k=v.type;return k===ki?d(g,m,v.props.children,y,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&tg(k)===m.type)?(y=i(m,v.props),y.ref=Uo(g,m,v),y.return=g,y):(y=sl(v.type,v.key,v.props,null,g.mode,y),y.ref=Uo(g,m,v),y.return=g,y)}function c(g,m,v,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Kc(v,g.mode,y),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function d(g,m,v,y,k){return m===null||m.tag!==7?(m=Jr(v,g.mode,y,k),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wc(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wa:return v=sl(m.type,m.key,m.props,null,g.mode,v),v.ref=Uo(g,null,m),v.return=g,v;case Ii:return m=Kc(m,g.mode,v),m.return=g,m;case nr:var y=m._init;return h(g,y(m._payload),v)}if(Yo(m)||Mo(m))return m=Jr(m,g.mode,v,null),m.return=g,m;Ca(g,m)}return null}function f(g,m,v,y){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:return v.key===k?l(g,m,v,y):null;case Ii:return v.key===k?c(g,m,v,y):null;case nr:return k=v._init,f(g,m,k(v._payload),y)}if(Yo(v)||Mo(v))return k!==null?null:d(g,m,v,y,null);Ca(g,v)}return null}function p(g,m,v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(v)||null,a(m,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return g=g.get(y.key===null?v:y.key)||null,l(m,g,y,k);case Ii:return g=g.get(y.key===null?v:y.key)||null,c(m,g,y,k);case nr:var C=y._init;return p(g,m,v,C(y._payload),k)}if(Yo(y)||Mo(y))return g=g.get(v)||null,d(m,g,y,k,null);Ca(m,y)}return null}function E(g,m,v,y){for(var k=null,C=null,S=m,T=m=0,N=null;S!==null&&T<v.length;T++){S.index>T?(N=S,S=null):N=S.sibling;var I=f(g,S,v[T],y);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(g,S),m=o(I,m,T),C===null?k=I:C.sibling=I,C=I,S=N}if(T===v.length)return n(g,S),$e&&qr(g,T),k;if(S===null){for(;T<v.length;T++)S=h(g,v[T],y),S!==null&&(m=o(S,m,T),C===null?k=S:C.sibling=S,C=S);return $e&&qr(g,T),k}for(S=r(g,S);T<v.length;T++)N=p(S,g,T,v[T],y),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),m=o(N,m,T),C===null?k=N:C.sibling=N,C=N);return t&&S.forEach(function(A){return e(g,A)}),$e&&qr(g,T),k}function _(g,m,v,y){var k=Mo(v);if(typeof k!="function")throw Error(oe(150));if(v=k.call(v),v==null)throw Error(oe(151));for(var C=k=null,S=m,T=m=0,N=null,I=v.next();S!==null&&!I.done;T++,I=v.next()){S.index>T?(N=S,S=null):N=S.sibling;var A=f(g,S,I.value,y);if(A===null){S===null&&(S=N);break}t&&S&&A.alternate===null&&e(g,S),m=o(A,m,T),C===null?k=A:C.sibling=A,C=A,S=N}if(I.done)return n(g,S),$e&&qr(g,T),k;if(S===null){for(;!I.done;T++,I=v.next())I=h(g,I.value,y),I!==null&&(m=o(I,m,T),C===null?k=I:C.sibling=I,C=I);return $e&&qr(g,T),k}for(S=r(g,S);!I.done;T++,I=v.next())I=p(S,g,T,I.value,y),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),m=o(I,m,T),C===null?k=I:C.sibling=I,C=I);return t&&S.forEach(function(O){return e(g,O)}),$e&&qr(g,T),k}function w(g,m,v,y){if(typeof v=="object"&&v!==null&&v.type===ki&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:e:{for(var k=v.key,C=m;C!==null;){if(C.key===k){if(k=v.type,k===ki){if(C.tag===7){n(g,C.sibling),m=i(C,v.props.children),m.return=g,g=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&tg(k)===C.type){n(g,C.sibling),m=i(C,v.props),m.ref=Uo(g,C,v),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===ki?(m=Jr(v.props.children,g.mode,y,v.key),m.return=g,g=m):(y=sl(v.type,v.key,v.props,null,g.mode,y),y.ref=Uo(g,m,v),y.return=g,g=y)}return s(g);case Ii:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Kc(v,g.mode,y),m.return=g,g=m}return s(g);case nr:return C=v._init,w(g,m,C(v._payload),y)}if(Yo(v))return E(g,m,v,y);if(Mo(v))return _(g,m,v,y);Ca(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=Wc(v,g.mode,y),m.return=g,g=m),s(g)):n(g,m)}return w}var Qi=K_(!0),G_=K_(!1),Pl=Dr(null),Ol=null,Li=null,fd=null;function hd(){fd=Li=Ol=null}function dd(t){var e=Pl.current;qe(Pl),t._currentValue=e}function $f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qi(t,e){Ol=t,fd=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(fd!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(Ol===null)throw Error(oe(308));Li=t,Ol.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var Gr=null;function pd(t){Gr===null?Gr=[t]:Gr.push(t)}function Q_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pd(e)):(n.next=i.next,i.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$n(t,n)}return i=r.interleaved,i===null?(e.next=e,pd(r)):(e.next=i.next,i.next=e),r.interleaved=e,$n(t,n)}function el(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ed(t,n)}}function ng(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,r){var i=t.updateQueue;rr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(f=e,p=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){h=E.call(p,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,f=typeof E=="function"?E.call(p,h,f):E,f==null)break e;h=Ge({},h,f);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ri|=s,t.lanes=s,t.memoizedState=h}}function rg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Xs={},kn=Dr(Xs),Os=Dr(Xs),Ns=Dr(Xs);function Qr(t){if(t===Xs)throw Error(oe(174));return t}function gd(t,e){switch(je(Ns,e),je(Os,t),je(kn,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bf(e,t)}qe(kn),je(kn,e)}function Yi(){qe(kn),qe(Os),qe(Ns)}function X_(t){Qr(Ns.current);var e=Qr(kn.current),n=bf(e,t.type);e!==n&&(je(Os,t),je(kn,n))}function yd(t){Os.current===t&&(qe(kn),qe(Os))}var We=Dr(0);function Rl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bc=[];function vd(){for(var t=0;t<Bc.length;t++)Bc[t]._workInProgressVersionPrimary=null;Bc.length=0}var tl=Qn.ReactCurrentDispatcher,Uc=Qn.ReactCurrentBatchConfig,ni=0,Ke=null,it=null,ct=null,Cl=!1,ls=!1,Rs=0,Kb=0;function St(){throw Error(oe(321))}function _d(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Ed(t,e,n,r,i,o){if(ni=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tl.current=t===null||t.memoizedState===null?Xb:Jb,t=n(r,i),ls){o=0;do{if(ls=!1,Rs=0,25<=o)throw Error(oe(301));o+=1,ct=it=null,e.updateQueue=null,tl.current=Zb,t=n(r,i)}while(ls)}if(tl.current=xl,e=it!==null&&it.next!==null,ni=0,ct=it=Ke=null,Cl=!1,e)throw Error(oe(300));return t}function wd(){var t=Rs!==0;return Rs=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=t:ct=ct.next=t,ct}function cn(){if(it===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ct===null?Ke.memoizedState:ct.next;if(e!==null)ct=e,it=t;else{if(t===null)throw Error(oe(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Ke.memoizedState=ct=t:ct=ct.next=t}return ct}function Cs(t,e){return typeof e=="function"?e(t):e}function qc(t){var e=cn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ni&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ke.lanes|=d,ri|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,wn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ke.lanes|=o,ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $c(t){var e=cn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wn(o,e.memoizedState)||(Bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function J_(){}function Z_(t,e){var n=Ke,r=cn(),i=e(),o=!wn(r.memoizedState,i);if(o&&(r.memoizedState=i,Bt=!0),r=r.queue,Td(n0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,xs(9,t0.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(oe(349));ni&30||e0(n,e,i)}return i}function e0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function t0(t,e,n,r){e.value=n,e.getSnapshot=r,r0(e)&&i0(t)}function n0(t,e,n){return n(function(){r0(e)&&i0(t)})}function r0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function i0(t){var e=$n(t,1);e!==null&&_n(e,t,1,-1)}function ig(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},e.queue=t,t=t.dispatch=Yb.bind(null,Ke,t),[e.memoizedState,t]}function xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function o0(){return cn().memoizedState}function nl(t,e,n,r){var i=Sn();Ke.flags|=t,i.memoizedState=xs(1|e,n,void 0,r===void 0?null:r)}function gu(t,e,n,r){var i=cn();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&_d(r,s.deps)){i.memoizedState=xs(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=xs(1|e,n,o,r)}function og(t,e){return nl(8390656,8,t,e)}function Td(t,e){return gu(2048,8,t,e)}function s0(t,e){return gu(4,2,t,e)}function a0(t,e){return gu(4,4,t,e)}function l0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u0(t,e,n){return n=n!=null?n.concat([t]):null,gu(4,4,l0.bind(null,e,t),n)}function bd(){}function c0(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_d(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f0(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_d(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h0(t,e,n){return ni&21?(wn(n,e)||(n=y_(),Ke.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function Gb(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Uc.transition;Uc.transition={};try{t(!1),e()}finally{Le=n,Uc.transition=r}}function d0(){return cn().memoizedState}function Qb(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p0(t))m0(e,n);else if(n=Q_(t,e,n,r),n!==null){var i=xt();_n(n,t,r,i),g0(n,e,r)}}function Yb(t,e,n){var r=gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p0(t))m0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,s)){var l=e.interleaved;l===null?(i.next=i,pd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Q_(t,e,i,r),n!==null&&(i=xt(),_n(n,t,r,i),g0(n,e,r))}}function p0(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function m0(t,e){ls=Cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function g0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ed(t,n)}}var xl={readContext:un,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Xb={readContext:un,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:og,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nl(4194308,4,l0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return nl(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qb.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:ig,useDebugValue:bd,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=ig(!1),e=t[0];return t=Gb.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Sn();if($e){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),ft===null)throw Error(oe(349));ni&30||e0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,og(n0.bind(null,r,o,t),[t]),r.flags|=2048,xs(9,t0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sn(),e=ft.identifierPrefix;if($e){var n=Fn,r=jn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jb={readContext:un,useCallback:c0,useContext:un,useEffect:Td,useImperativeHandle:u0,useInsertionEffect:s0,useLayoutEffect:a0,useMemo:f0,useReducer:qc,useRef:o0,useState:function(){return qc(Cs)},useDebugValue:bd,useDeferredValue:function(t){var e=cn();return h0(e,it.memoizedState,t)},useTransition:function(){var t=qc(Cs)[0],e=cn().memoizedState;return[t,e]},useMutableSource:J_,useSyncExternalStore:Z_,useId:d0,unstable_isNewReconciler:!1},Zb={readContext:un,useCallback:c0,useContext:un,useEffect:Td,useImperativeHandle:u0,useInsertionEffect:s0,useLayoutEffect:a0,useMemo:f0,useReducer:$c,useRef:o0,useState:function(){return $c(Cs)},useDebugValue:bd,useDeferredValue:function(t){var e=cn();return it===null?e.memoizedState=t:h0(e,it.memoizedState,t)},useTransition:function(){var t=$c(Cs)[0],e=cn().memoizedState;return[t,e]},useMutableSource:J_,useSyncExternalStore:Z_,useId:d0,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yu={isMounted:function(t){return(t=t._reactInternals)?ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=gr(t),o=Bn(r,i);o.payload=e,n!=null&&(o.callback=n),e=pr(t,o,i),e!==null&&(_n(e,t,i,r),el(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=gr(t),o=Bn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pr(t,o,i),e!==null&&(_n(e,t,i,r),el(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=gr(t),i=Bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=pr(t,i,r),e!==null&&(_n(e,t,r,n),el(e,t,r))}};function sg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!As(n,r)||!As(i,o):!0}function y0(t,e,n){var r=!1,i=Sr,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(i=qt(e)?ei:Nt.current,r=e.contextTypes,o=(r=r!=null)?Ki(t,i):Sr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ag(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yu.enqueueReplaceState(e,e.state,null)}function Hf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},md(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=un(o):(o=qt(e)?ei:Nt.current,i.context=Ki(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yu.enqueueReplaceState(i,i.state,null),Nl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",r=e;do n+=kT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function zc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function v0(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ll||(Ll=!0,nh=r),Wf(t,e)},n}function _0(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wf(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function lg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pS.bind(null,t,e,n),e.then(t,t))}function ug(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var tS=Qn.ReactCurrentOwner,Bt=!1;function Ct(t,e,n,r){e.child=t===null?G_(e,null,n,r):Qi(e,t.child,n,r)}function fg(t,e,n,r,i){n=n.render;var o=e.ref;return qi(e,i),r=Ed(t,e,n,r,o,i),n=wd(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):($e&&n&&ld(e),e.flags|=1,Ct(t,e,r,i),e.child)}function hg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Rd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,E0(t,e,o,r,i)):(t=sl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(s,r)&&t.ref===e.ref)return zn(t,e,i)}return e.flags|=1,t=yr(o,r),t.ref=e.ref,t.return=e,e.child=t}function E0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(As(o,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,zn(t,e,i)}return Kf(t,e,n,r,i)}function w0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Vi,Wt),Wt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Vi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(Vi,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,je(Vi,Wt),Wt|=r;return Ct(t,e,i,n),e.child}function T0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kf(t,e,n,r,i){var o=qt(n)?ei:Nt.current;return o=Ki(e,o),qi(e,i),n=Ed(t,e,n,r,o,i),r=wd(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):($e&&r&&ld(e),e.flags|=1,Ct(t,e,n,i),e.child)}function dg(t,e,n,r,i){if(qt(n)){var o=!0;Al(e)}else o=!1;if(qi(e,i),e.stateNode===null)rl(t,e),y0(e,n,r),Hf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=qt(n)?ei:Nt.current,c=Ki(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ag(e,s,r,c),rr=!1;var f=e.memoizedState;s.state=f,Nl(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ut.current||rr?(typeof d=="function"&&(zf(e,n,d,r),l=e.memoizedState),(a=rr||sg(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Y_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=qt(n)?ei:Nt.current,l=Ki(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ag(e,s,r,l),rr=!1,f=e.memoizedState,s.state=f,Nl(e,r,s,i);var E=e.memoizedState;a!==h||f!==E||Ut.current||rr?(typeof p=="function"&&(zf(e,n,p,r),E=e.memoizedState),(c=rr||sg(e,n,c,r,f,E,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gf(t,e,n,r,o,i)}function Gf(t,e,n,r,i,o){T0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Jm(e,n,!1),zn(t,e,o);r=e.stateNode,tS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qi(e,t.child,null,o),e.child=Qi(e,null,a,o)):Ct(t,e,a,o),e.memoizedState=r.state,i&&Jm(e,n,!0),e.child}function b0(t){var e=t.stateNode;e.pendingContext?Xm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xm(t,e.context,!1),gd(t,e.containerInfo)}function pg(t,e,n,r,i){return Gi(),cd(i),e.flags|=256,Ct(t,e,n,r),e.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function S0(t,e,n){var r=e.pendingProps,i=We.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(We,i&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Eu(s,r,0,null),t=Jr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yf(n),e.memoizedState=Qf,t):Sd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=yr(a,o):(o=Jr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Yf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Qf,r}return o=t.child,t=o.sibling,r=yr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sd(t,e){return e=Eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xa(t,e,n,r){return r!==null&&cd(r),Qi(e,t.child,null,n),t=Sd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=zc(Error(oe(422))),xa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Eu({mode:"visible",children:r.children},i,0,null),o=Jr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qi(e,t.child,null,s),e.child.memoizedState=Yf(s),e.memoizedState=Qf,o);if(!(e.mode&1))return xa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(oe(419)),r=zc(o,r,void 0),xa(t,e,s,r)}if(a=(s&t.childLanes)!==0,Bt||a){if(r=ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$n(t,i),_n(r,t,i,-1))}return Nd(),r=zc(Error(oe(421))),xa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gt=dr(i.nextSibling),Xt=e,$e=!0,gn=null,t!==null&&(rn[on++]=jn,rn[on++]=Fn,rn[on++]=ti,jn=t.id,Fn=t.overflow,ti=e),e=Sd(e,r.children),e.flags|=4096,e)}function mg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$f(t.return,e,n)}function Hc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function A0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ct(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mg(t,n,e);else if(t.tag===19)mg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hc(e,!0,n,null,o);break;case"together":Hc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rS(t,e,n){switch(e.tag){case 3:b0(e),Gi();break;case 5:X_(e);break;case 1:qt(e.type)&&Al(e);break;case 4:gd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?S0(t,e,n):(je(We,We.current&1),t=zn(t,e,n),t!==null?t.sibling:null);je(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return A0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,w0(t,e,n)}return zn(t,e,n)}var I0,Xf,k0,P0;I0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xf=function(){};k0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(kn.current);var o=null;switch(n){case"input":i=_f(t,i),r=_f(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Tf(t,i),r=Tf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bl)}Sf(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};P0=function(t,e,n,r){n!==r&&(e.flags|=4)};function qo(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iS(t,e,n){var r=e.pendingProps;switch(ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return qt(e.type)&&Sl(),At(e),null;case 3:return r=e.stateNode,Yi(),qe(Ut),qe(Nt),vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ra(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(oh(gn),gn=null))),Xf(t,e),At(e),null;case 5:yd(e);var i=Qr(Ns.current);if(n=e.type,t!==null&&e.stateNode!=null)k0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return At(e),null}if(t=Qr(kn.current),Ra(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[An]=e,r[Ps]=o,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Jo.length;i++)Be(Jo[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Sm(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Im(r,o),Be("invalid",r)}Sf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Na(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Na(r.textContent,a,t),i=["children",""+a]):vs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Be("scroll",r)}switch(n){case"input":Ta(r),Am(r,o,!0);break;case"textarea":Ta(r),km(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[An]=e,t[Ps]=r,I0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Af(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jo.length;i++)Be(Jo[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":Sm(t,r),i=_f(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Im(t,r),i=Tf(t,r),Be("invalid",t);break;default:i=r}Sf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?o_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_s(t,l):typeof l=="number"&&_s(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Be("scroll",t):l!=null&&Gh(t,o,l,s))}switch(n){case"input":Ta(t),Am(t,r,!1);break;case"textarea":Ta(t),km(t);break;case"option":r.value!=null&&t.setAttribute("value",""+br(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)P0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Qr(Ns.current),Qr(kn.current),Ra(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(o=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Na(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Na(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return At(e),null;case 13:if(qe(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Gt!==null&&e.mode&1&&!(e.flags&128))W_(),Gi(),e.flags|=98560,o=!1;else if(o=Ra(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[An]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else gn!==null&&(oh(gn),gn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?st===0&&(st=3):Nd())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return Yi(),Xf(t,e),t===null&&Is(e.stateNode.containerInfo),At(e),null;case 10:return dd(e.type._context),At(e),null;case 17:return qt(e.type)&&Sl(),At(e),null;case 19:if(qe(We),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)qo(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Rl(t),s!==null){for(e.flags|=128,qo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(We,We.current&1|2),e.child}t=t.sibling}o.tail!==null&&et()>Ji&&(e.flags|=128,r=!0,qo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Rl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return At(e),null}else 2*et()-o.renderingStartTime>Ji&&n!==1073741824&&(e.flags|=128,r=!0,qo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=et(),e.sibling=null,n=We.current,je(We,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Od(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function oS(t,e){switch(ud(e),e.tag){case 1:return qt(e.type)&&Sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yi(),qe(Ut),qe(Nt),vd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yd(e),null;case 13:if(qe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(We),null;case 4:return Yi(),null;case 10:return dd(e.type._context),null;case 22:case 23:return Od(),null;case 24:return null;default:return null}}var Da=!1,Pt=!1,sS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Jf(t,e,n){try{n()}catch(r){Je(t,e,r)}}var gg=!1;function aS(t,e){if(Lf=El,t=x_(),ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:t,selectionRange:n},El=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,w=E.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:pn(e.type,_),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(y){Je(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return E=gg,gg=!1,E}function us(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jf(e,n,o)}i=i.next}while(i!==r)}}function vu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O0(t){var e=t.alternate;e!==null&&(t.alternate=null,O0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[Ps],delete e[Ff],delete e[$b],delete e[zb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N0(t){return t.tag===5||t.tag===3||t.tag===4}function yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bl));else if(r!==4&&(t=t.child,t!==null))for(eh(t,e,n),t=t.sibling;t!==null;)eh(t,e,n),t=t.sibling}function th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}var mt=null,mn=!1;function tr(t,e,n){for(n=n.child;n!==null;)R0(t,e,n),n=n.sibling}function R0(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:Pt||Mi(n,e);case 6:var r=mt,i=mn;mt=null,tr(t,e,n),mt=r,mn=i,mt!==null&&(mn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(mn?(t=mt,n=n.stateNode,t.nodeType===8?jc(t.parentNode,n):t.nodeType===1&&jc(t,n),bs(t)):jc(mt,n.stateNode));break;case 4:r=mt,i=mn,mt=n.stateNode.containerInfo,mn=!0,tr(t,e,n),mt=r,mn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Jf(n,e,s),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!Pt&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,tr(t,e,n),Pt=r):tr(t,e,n);break;default:tr(t,e,n)}}function vg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sS),e.forEach(function(r){var i=gS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,mn=!1;break e;case 3:mt=a.stateNode.containerInfo,mn=!0;break e;case 4:mt=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(mt===null)throw Error(oe(160));R0(o,s,i),mt=null,mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C0(e,t),e=e.sibling}function C0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Tn(t),r&4){try{us(3,t,t.return),vu(3,t)}catch(_){Je(t,t.return,_)}try{us(5,t,t.return)}catch(_){Je(t,t.return,_)}}break;case 1:dn(e,t),Tn(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(dn(e,t),Tn(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{_s(i,"")}catch(_){Je(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&e_(i,o),Af(a,s);var c=Af(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?o_(i,h):d==="dangerouslySetInnerHTML"?r_(i,h):d==="children"?_s(i,h):Gh(i,d,h,c)}switch(a){case"input":Ef(i,o);break;case"textarea":t_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ji(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?ji(i,!!o.multiple,o.defaultValue,!0):ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ps]=o}catch(_){Je(t,t.return,_)}}break;case 6:if(dn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Je(t,t.return,_)}}break;case 3:if(dn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bs(e.containerInfo)}catch(_){Je(t,t.return,_)}break;case 4:dn(e,t),Tn(t);break;case 13:dn(e,t),Tn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kd=et())),r&4&&vg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,dn(e,t),Pt=c):dn(e,t),Tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(de=t,d=t.child;d!==null;){for(h=de=d;de!==null;){switch(f=de,p=f.child,f.tag){case 0:case 11:case 14:case 15:us(4,f,f.return);break;case 1:Mi(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Je(r,n,_)}}break;case 5:Mi(f,f.return);break;case 22:if(f.memoizedState!==null){Eg(h);continue}}p!==null?(p.return=f,de=p):Eg(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=i_("display",s))}catch(_){Je(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Je(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(e,t),Tn(t),r&4&&vg(t);break;case 21:break;default:dn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N0(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_s(i,""),r.flags&=-33);var o=yg(t);th(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yg(t);eh(t,a,s);break;default:throw Error(oe(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lS(t,e,n){de=t,x0(t)}function x0(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Da;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=Da;var c=Pt;if(Da=s,(Pt=l)&&!c)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?wg(i):l!==null?(l.return=s,de=l):wg(i);for(;o!==null;)de=o,x0(o),o=o.sibling;de=i,Da=a,Pt=c}_g(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):_g(t)}}function _g(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||vu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&rg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&bs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Pt||e.flags&512&&Zf(e)}catch(f){Je(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Eg(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function wg(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vu(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Je(e,i,l)}}var o=e.return;try{Zf(e)}catch(l){Je(e,o,l)}break;case 5:var s=e.return;try{Zf(e)}catch(l){Je(e,s,l)}}}catch(l){Je(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var uS=Math.ceil,Dl=Qn.ReactCurrentDispatcher,Ad=Qn.ReactCurrentOwner,an=Qn.ReactCurrentBatchConfig,Ce=0,ft=null,nt=null,vt=0,Wt=0,Vi=Dr(0),st=0,Ds=null,ri=0,_u=0,Id=0,cs=null,jt=null,kd=0,Ji=1/0,Mn=null,Ll=!1,nh=null,mr=null,La=!1,ar=null,Ml=0,fs=0,rh=null,il=-1,ol=0;function xt(){return Ce&6?et():il!==-1?il:il=et()}function gr(t){return t.mode&1?Ce&2&&vt!==0?vt&-vt:Wb.transition!==null?(ol===0&&(ol=y_()),ol):(t=Le,t!==0||(t=window.event,t=t===void 0?16:S_(t.type)),t):1}function _n(t,e,n,r){if(50<fs)throw fs=0,rh=null,Error(oe(185));Gs(t,n,r),(!(Ce&2)||t!==ft)&&(t===ft&&(!(Ce&2)&&(_u|=n),st===4&&or(t,vt)),$t(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ji=et()+500,mu&&Lr()))}function $t(t,e){var n=t.callbackNode;WT(t,e);var r=_l(t,t===ft?vt:0);if(r===0)n!==null&&Nm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nm(n),e===1)t.tag===0?Hb(Tg.bind(null,t)):$_(Tg.bind(null,t)),Ub(function(){!(Ce&6)&&Lr()}),n=null;else{switch(v_(r)){case 1:n=Zh;break;case 4:n=m_;break;case 16:n=vl;break;case 536870912:n=g_;break;default:n=vl}n=U0(n,D0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D0(t,e){if(il=-1,ol=0,Ce&6)throw Error(oe(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=_l(t,t===ft?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vl(t,r);else{e=r;var i=Ce;Ce|=2;var o=M0();(ft!==t||vt!==e)&&(Mn=null,Ji=et()+500,Xr(t,e));do try{hS();break}catch(a){L0(t,a)}while(1);hd(),Dl.current=o,Ce=i,nt!==null?e=0:(ft=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=Nf(t),i!==0&&(r=i,e=ih(t,i))),e===1)throw n=Ds,Xr(t,0),or(t,r),$t(t,et()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!cS(i)&&(e=Vl(t,r),e===2&&(o=Nf(t),o!==0&&(r=o,e=ih(t,o))),e===1))throw n=Ds,Xr(t,0),or(t,r),$t(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:$r(t,jt,Mn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=kd+500-et(),10<e)){if(_l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jf($r.bind(null,t,jt,Mn),e);break}$r(t,jt,Mn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-vn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uS(r/1960))-r,10<r){t.timeoutHandle=jf($r.bind(null,t,jt,Mn),r);break}$r(t,jt,Mn);break;case 5:$r(t,jt,Mn);break;default:throw Error(oe(329))}}}return $t(t,et()),t.callbackNode===n?D0.bind(null,t):null}function ih(t,e){var n=cs;return t.current.memoizedState.isDehydrated&&(Xr(t,e).flags|=256),t=Vl(t,e),t!==2&&(e=jt,jt=n,e!==null&&oh(e)),t}function oh(t){jt===null?jt=t:jt.push.apply(jt,t)}function cS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Id,e&=~_u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function Tg(t){if(Ce&6)throw Error(oe(327));$i();var e=_l(t,0);if(!(e&1))return $t(t,et()),null;var n=Vl(t,e);if(t.tag!==0&&n===2){var r=Nf(t);r!==0&&(e=r,n=ih(t,r))}if(n===1)throw n=Ds,Xr(t,0),or(t,e),$t(t,et()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,jt,Mn),$t(t,et()),null}function Pd(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ji=et()+500,mu&&Lr())}}function ii(t){ar!==null&&ar.tag===0&&!(Ce&6)&&$i();var e=Ce;Ce|=1;var n=an.transition,r=Le;try{if(an.transition=null,Le=1,t)return t()}finally{Le=r,an.transition=n,Ce=e,!(Ce&6)&&Lr()}}function Od(){Wt=Vi.current,qe(Vi)}function Xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bb(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sl();break;case 3:Yi(),qe(Ut),qe(Nt),vd();break;case 5:yd(r);break;case 4:Yi();break;case 13:qe(We);break;case 19:qe(We);break;case 10:dd(r.type._context);break;case 22:case 23:Od()}n=n.return}if(ft=t,nt=t=yr(t.current,null),vt=Wt=e,st=0,Ds=null,Id=_u=ri=0,jt=cs=null,Gr!==null){for(e=0;e<Gr.length;e++)if(n=Gr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Gr=null}return t}function L0(t,e){do{var n=nt;try{if(hd(),tl.current=xl,Cl){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(ni=0,ct=it=Ke=null,ls=!1,Rs=0,Ad.current=null,n===null||n.return===null){st=1,Ds=e,nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ug(s);if(p!==null){p.flags&=-257,cg(p,s,a,o,e),p.mode&1&&lg(o,c,e),e=p,l=c;var E=e.updateQueue;if(E===null){var _=new Set;_.add(l),e.updateQueue=_}else E.add(l);break e}else{if(!(e&1)){lg(o,c,e),Nd();break e}l=Error(oe(426))}}else if($e&&a.mode&1){var w=ug(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cg(w,s,a,o,e),cd(Xi(l,a));break e}}o=l=Xi(l,a),st!==4&&(st=2),cs===null?cs=[o]:cs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=v0(o,l,e);ng(o,g);break e;case 1:a=l;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mr===null||!mr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=_0(o,a,e);ng(o,y);break e}}o=o.return}while(o!==null)}j0(n)}catch(k){e=k,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function M0(){var t=Dl.current;return Dl.current=xl,t===null?xl:t}function Nd(){(st===0||st===3||st===2)&&(st=4),ft===null||!(ri&268435455)&&!(_u&268435455)||or(ft,vt)}function Vl(t,e){var n=Ce;Ce|=2;var r=M0();(ft!==t||vt!==e)&&(Mn=null,Xr(t,e));do try{fS();break}catch(i){L0(t,i)}while(1);if(hd(),Ce=n,Dl.current=r,nt!==null)throw Error(oe(261));return ft=null,vt=0,st}function fS(){for(;nt!==null;)V0(nt)}function hS(){for(;nt!==null&&!VT();)V0(nt)}function V0(t){var e=B0(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?j0(t):nt=e,Ad.current=null}function j0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oS(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,nt=null;return}}else if(n=iS(n,e,Wt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);st===0&&(st=5)}function $r(t,e,n){var r=Le,i=an.transition;try{an.transition=null,Le=1,dS(t,e,n,r)}finally{an.transition=i,Le=r}return null}function dS(t,e,n,r){do $i();while(ar!==null);if(Ce&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(KT(t,o),t===ft&&(nt=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,U0(vl,function(){return $i(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var s=Le;Le=1;var a=Ce;Ce|=4,Ad.current=null,aS(t,n),C0(n,t),xb(Mf),El=!!Lf,Mf=Lf=null,t.current=n,lS(n),jT(),Ce=a,Le=s,an.transition=o}else t.current=n;if(La&&(La=!1,ar=t,Ml=i),o=t.pendingLanes,o===0&&(mr=null),UT(n.stateNode),$t(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ll)throw Ll=!1,t=nh,nh=null,t;return Ml&1&&t.tag!==0&&$i(),o=t.pendingLanes,o&1?t===rh?fs++:(fs=0,rh=t):fs=0,Lr(),null}function $i(){if(ar!==null){var t=v_(Ml),e=an.transition,n=Le;try{if(an.transition=null,Le=16>t?16:t,ar===null)var r=!1;else{if(t=ar,ar=null,Ml=0,Ce&6)throw Error(oe(331));var i=Ce;for(Ce|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:us(8,d,o)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var f=d.sibling,p=d.return;if(O0(d),d===c){de=null;break}if(f!==null){f.return=p,de=f;break}de=p}}}var E=o.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:us(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,de=g;break e}de=o.return}}var m=t.current;for(de=m;de!==null;){s=de;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,de=v;else e:for(s=m;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vu(9,a)}}catch(k){Je(a,a.return,k)}if(a===s){de=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,de=y;break e}de=a.return}}if(Ce=i,Lr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(cu,t)}catch{}r=!0}return r}finally{Le=n,an.transition=e}}return!1}function bg(t,e,n){e=Xi(n,e),e=v0(t,e,1),t=pr(t,e,1),e=xt(),t!==null&&(Gs(t,1,e),$t(t,e))}function Je(t,e,n){if(t.tag===3)bg(t,t,n);else for(;e!==null;){if(e.tag===3){bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=Xi(n,t),t=_0(e,t,1),e=pr(e,t,1),t=xt(),e!==null&&(Gs(e,1,t),$t(e,t));break}}e=e.return}}function pS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>et()-kd?Xr(t,0):Id|=n),$t(t,e)}function F0(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var n=xt();t=$n(t,e),t!==null&&(Gs(t,e,n),$t(t,n))}function mS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function gS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),F0(t,n)}var B0;B0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,rS(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,$e&&e.flags&1048576&&z_(e,kl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rl(t,e),t=e.pendingProps;var i=Ki(e,Nt.current);qi(e,n),i=Ed(null,e,r,t,i,n);var o=wd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(o=!0,Al(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,md(e),i.updater=yu,e.stateNode=i,i._reactInternals=e,Hf(e,r,t,n),e=Gf(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&ld(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vS(r),t=pn(r,t),i){case 0:e=Kf(null,e,r,t,n);break e;case 1:e=dg(null,e,r,t,n);break e;case 11:e=fg(null,e,r,t,n);break e;case 14:e=hg(null,e,r,pn(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Kf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),dg(t,e,r,i,n);case 3:e:{if(b0(e),t===null)throw Error(oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Y_(t,e),Nl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xi(Error(oe(423)),e),e=pg(t,e,r,n,i);break e}else if(r!==i){i=Xi(Error(oe(424)),e),e=pg(t,e,r,n,i);break e}else for(Gt=dr(e.stateNode.containerInfo.firstChild),Xt=e,$e=!0,gn=null,n=G_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===i){e=zn(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return X_(e),t===null&&qf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Vf(r,i)?s=null:o!==null&&Vf(r,o)&&(e.flags|=32),T0(t,e),Ct(t,e,s,n),e.child;case 6:return t===null&&qf(e),null;case 13:return S0(t,e,n);case 4:return gd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qi(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),fg(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,je(Pl,r._currentValue),r._currentValue=s,o!==null)if(wn(o.value,s)){if(o.children===i.children&&!Ut.current){e=zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$f(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(oe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$f(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qi(e,n),i=un(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),hg(t,e,r,i,n);case 15:return E0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),rl(t,e),e.tag=1,qt(r)?(t=!0,Al(e)):t=!1,qi(e,n),y0(e,r,i),Hf(e,r,i,n),Gf(null,e,r,!0,t,n);case 19:return A0(t,e,n);case 22:return w0(t,e,n)}throw Error(oe(156,e.tag))};function U0(t,e){return p_(t,e)}function yS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new yS(t,e,n,r)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vS(t){if(typeof t=="function")return Rd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yh)return 11;if(t===Xh)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Rd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ki:return Jr(n.children,i,o,e);case Qh:s=8,i|=8;break;case mf:return t=sn(12,n,e,i|2),t.elementType=mf,t.lanes=o,t;case gf:return t=sn(13,n,e,i),t.elementType=gf,t.lanes=o,t;case yf:return t=sn(19,n,e,i),t.elementType=yf,t.lanes=o,t;case Xv:return Eu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qv:s=10;break e;case Yv:s=9;break e;case Yh:s=11;break e;case Xh:s=14;break e;case nr:s=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=sn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Jr(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function Eu(t,e,n,r){return t=sn(22,t,r,e),t.elementType=Xv,t.lanes=n,t.stateNode={isHidden:!1},t}function Wc(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Kc(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _S(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cd(t,e,n,r,i,o,s,a,l){return t=new _S(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(o),t}function ES(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q0(t){if(!t)return Sr;t=t._reactInternals;e:{if(ci(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(qt(n))return q_(t,n,e)}return e}function $0(t,e,n,r,i,o,s,a,l){return t=Cd(n,r,!0,t,i,o,s,a,l),t.context=q0(null),n=t.current,r=xt(),i=gr(n),o=Bn(r,i),o.callback=e??null,pr(n,o,i),t.current.lanes=i,Gs(t,i,r),$t(t,r),t}function wu(t,e,n,r){var i=e.current,o=xt(),s=gr(i);return n=q0(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(i,e,s),t!==null&&(_n(t,i,s,o),el(t,i,s)),s}function jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xd(t,e){Sg(t,e),(t=t.alternate)&&Sg(t,e)}function wS(){return null}var z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dd(t){this._internalRoot=t}Tu.prototype.render=Dd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));wu(t,e,null,null)};Tu.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){wu(null,t,null,null)}),e[qn]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=w_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&b_(t)}};function Ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ag(){}function TS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=jl(s);o.call(c)}}var s=$0(e,r,t,0,null,!1,!1,"",Ag);return t._reactRootContainer=s,t[qn]=s.current,Is(t.nodeType===8?t.parentNode:t),ii(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=jl(l);a.call(c)}}var l=Cd(t,0,!1,null,null,!1,!1,"",Ag);return t._reactRootContainer=l,t[qn]=l.current,Is(t.nodeType===8?t.parentNode:t),ii(function(){wu(e,l,n,r)}),l}function Su(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=jl(s);a.call(l)}}wu(e,s,t,i)}else s=TS(n,e,t,i,r);return jl(s)}__=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(ed(e,n|1),$t(e,et()),!(Ce&6)&&(Ji=et()+500,Lr()))}break;case 13:ii(function(){var r=$n(t,1);if(r!==null){var i=xt();_n(r,t,1,i)}}),xd(t,1)}};td=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=xt();_n(e,t,134217728,n)}xd(t,134217728)}};E_=function(t){if(t.tag===13){var e=gr(t),n=$n(t,e);if(n!==null){var r=xt();_n(n,t,e,r)}xd(t,e)}};w_=function(){return Le};T_=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};kf=function(t,e,n){switch(e){case"input":if(Ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pu(r);if(!i)throw Error(oe(90));Zv(r),Ef(r,i)}}}break;case"textarea":t_(t,n);break;case"select":e=n.value,e!=null&&ji(t,!!n.multiple,e,!1)}};l_=Pd;u_=ii;var bS={usingClientEntryPoint:!1,Events:[Ys,Ri,pu,s_,a_,Pd]},$o={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h_(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{cu=Ma.inject(SS),In=Ma}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(e))throw Error(oe(200));return ES(t,e,null,n)};tn.createRoot=function(t,e){if(!Ld(t))throw Error(oe(299));var n=!1,r="",i=z0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cd(t,1,!1,null,null,n,!1,r,i),t[qn]=e.current,Is(t.nodeType===8?t.parentNode:t),new Dd(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=h_(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return ii(t)};tn.hydrate=function(t,e,n){if(!bu(e))throw Error(oe(200));return Su(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Ld(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=z0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$0(e,null,t,1,n??null,i,!1,o,s),t[qn]=e.current,Is(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tu(e)};tn.render=function(t,e,n){if(!bu(e))throw Error(oe(200));return Su(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!bu(t))throw Error(oe(40));return t._reactRootContainer?(ii(function(){Su(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};tn.unstable_batchedUpdates=Pd;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bu(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Su(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function H0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H0)}catch(t){console.error(t)}}H0(),Hv.exports=tn;var W0=Hv.exports,K0,Ig=W0;K0=Ig.createRoot,Ig.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(this,arguments)}var lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lr||(lr={}));const kg="popstate";function AS(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return sh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fl(i)}return kS(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IS(){return Math.random().toString(36).substr(2,8)}function Pg(t,e){return{usr:t.state,key:t.key,idx:e}}function sh(t,e,n,r){return n===void 0&&(n=null),Ls({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?co(e):e,{state:n,key:e&&e.key||r||IS()})}function Fl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=lr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Ls({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=lr.Pop;let w=d(),g=w==null?null:w-c;c=w,l&&l({action:a,location:_.location,delta:g})}function f(w,g){a=lr.Push;let m=sh(_.location,w,g);n&&n(m,w),c=d()+1;let v=Pg(m,c),y=_.createHref(m);try{s.pushState(v,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(y)}o&&l&&l({action:a,location:_.location,delta:1})}function p(w,g){a=lr.Replace;let m=sh(_.location,w,g);n&&n(m,w),c=d();let v=Pg(m,c),y=_.createHref(m);s.replaceState(v,"",y),o&&l&&l({action:a,location:_.location,delta:0})}function E(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Fl(w);return m=m.replace(/ $/,"%20"),rt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let _={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kg,h),l=w,()=>{i.removeEventListener(kg,h),l=null}},createHref(w){return e(i,w)},createURL:E,encodeLocation(w){let g=E(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return s.go(w)}};return _}var Og;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Og||(Og={}));function PS(t,e,n){return n===void 0&&(n="/"),OS(t,e,n,!1)}function OS(t,e,n,r){let i=typeof e=="string"?co(e):e,o=Md(i.pathname||"/",n);if(o==null)return null;let s=Q0(t);NS(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=US(o);a=FS(s[l],c,r)}return a}function Q0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Q0(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:VS(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Y0(o.path))i(o,s,l)}),e}function Y0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Y0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RS=/^:[\w-]+$/,CS=3,xS=2,DS=1,LS=10,MS=-2,Ng=t=>t==="*";function VS(t,e){let n=t.split("/"),r=n.length;return n.some(Ng)&&(r+=MS),e&&(r+=xS),n.filter(i=>!Ng(i)).reduce((i,o)=>i+(RS.test(o)?CS:o===""?DS:LS),r)}function jS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=Rg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Rg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:vr([o,h.pathname]),pathnameBase:HS(vr([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=vr([o,h.pathnameBase]))}return s}function Rg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const E=a[h];return p&&!E?c[f]=void 0:c[f]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function BS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),G0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function US(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return G0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Md(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?co(t):t;return{pathname:n?n.startsWith("/")?n:$S(n,e):e,search:WS(r),hash:KS(i)}}function $S(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X0(t,e){let n=zS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function J0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=co(t):(i=Ls({},t),rt(!i.pathname||!i.pathname.includes("?"),Gc("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Gc("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Gc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=qS(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),HS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z0=["post","put","patch","delete"];new Set(Z0);const QS=["get",...Z0];new Set(QS);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}const Vd=le.createContext(null),YS=le.createContext(null),fi=le.createContext(null),Au=le.createContext(null),Yn=le.createContext({outlet:null,matches:[],isDataRoute:!1}),e1=le.createContext(null);function XS(t,e){let{relative:n}=e===void 0?{}:e;Js()||rt(!1);let{basename:r,navigator:i}=le.useContext(fi),{hash:o,pathname:s,search:a}=n1(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:vr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Js(){return le.useContext(Au)!=null}function Iu(){return Js()||rt(!1),le.useContext(Au).location}function t1(t){le.useContext(fi).static||le.useLayoutEffect(t)}function jd(){let{isDataRoute:t}=le.useContext(Yn);return t?dA():JS()}function JS(){Js()||rt(!1);let t=le.useContext(Vd),{basename:e,future:n,navigator:r}=le.useContext(fi),{matches:i}=le.useContext(Yn),{pathname:o}=Iu(),s=JSON.stringify(X0(i,n.v7_relativeSplatPath)),a=le.useRef(!1);return t1(()=>{a.current=!0}),le.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=J0(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}const ZS=le.createContext(null);function eA(t){let e=le.useContext(Yn).outlet;return e&&le.createElement(ZS.Provider,{value:t},e)}function tA(){let{matches:t}=le.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function n1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=le.useContext(fi),{matches:i}=le.useContext(Yn),{pathname:o}=Iu(),s=JSON.stringify(X0(i,r.v7_relativeSplatPath));return le.useMemo(()=>J0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function nA(t,e){return rA(t,e)}function rA(t,e,n,r){Js()||rt(!1);let{navigator:i}=le.useContext(fi),{matches:o}=le.useContext(Yn),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Iu(),d;if(e){var h;let w=typeof e=="string"?co(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||rt(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=PS(t,{pathname:p}),_=lA(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:vr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:vr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&_?le.createElement(Au.Provider,{value:{location:Ms({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lr.Pop}},_):_}function iA(){let t=hA(),e=GS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:i},n):null,o)}const oA=le.createElement(iA,null);class sA extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?le.createElement(Yn.Provider,{value:this.props.routeContext},le.createElement(e1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aA(t){let{routeContext:e,match:n,children:r}=t,i=le.useContext(Vd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(Yn.Provider,{value:e},r)}function lA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||rt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||E){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,E=!1,_=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||oA,l&&(c<0&&f===0?(pA("route-fallback",!1),E=!0,w=null):c===f&&(E=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),m=()=>{let v;return p?v=_:E?v=w:h.route.Component?v=le.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,le.createElement(aA,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?le.createElement(sA,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var r1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r1||{}),Bl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bl||{});function uA(t){let e=le.useContext(Vd);return e||rt(!1),e}function cA(t){let e=le.useContext(YS);return e||rt(!1),e}function fA(t){let e=le.useContext(Yn);return e||rt(!1),e}function i1(t){let e=fA(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function hA(){var t;let e=le.useContext(e1),n=cA(Bl.UseRouteError),r=i1(Bl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dA(){let{router:t}=uA(r1.UseNavigateStable),e=i1(Bl.UseNavigateStable),n=le.useRef(!1);return t1(()=>{n.current=!0}),le.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ms({fromRouteId:e},o)))},[t,e])}const Cg={};function pA(t,e,n){!e&&!Cg[t]&&(Cg[t]=!0)}function mA(t){return eA(t.context)}function Ht(t){rt(!1)}function gA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lr.Pop,navigator:o,static:s=!1,future:a}=t;Js()&&rt(!1);let l=e.replace(/^\/*/,"/"),c=le.useMemo(()=>({basename:l,navigator:o,static:s,future:Ms({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=co(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:E="default"}=r,_=le.useMemo(()=>{let w=Md(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:E},navigationType:i}},[l,d,h,f,p,E,i]);return _==null?null:le.createElement(fi.Provider,{value:c},le.createElement(Au.Provider,{children:n,value:_}))}function yA(t){let{children:e,location:n}=t;return nA(ah(e),n)}new Promise(()=>{});function ah(t,e){e===void 0&&(e=[]);let n=[];return le.Children.forEach(t,(r,i)=>{if(!le.isValidElement(r))return;let o=[...e,i];if(r.type===le.Fragment){n.push.apply(n,ah(r.props.children,o));return}r.type!==Ht&&rt(!1),!r.props.index||!r.props.children||rt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ah(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function vA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _A(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EA(t,e){return t.button===0&&(!e||e==="_self")&&!_A(t)}const wA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TA="6";try{window.__reactRouterVersion=TA}catch{}const bA="startTransition",xg=df[bA];function SA(t){let{basename:e,children:n,future:r,window:i}=t,o=le.useRef();o.current==null&&(o.current=AS({window:i,v5Compat:!0}));let s=o.current,[a,l]=le.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=le.useCallback(h=>{c&&xg?xg(()=>l(h)):l(h)},[l,c]);return le.useLayoutEffect(()=>s.listen(d),[s,d]),le.createElement(gA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=le.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=vA(e,wA),{basename:p}=le.useContext(fi),E,_=!1;if(typeof c=="string"&&IA.test(c)&&(E=c,AA))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),k=Md(y.pathname,p);y.origin===v.origin&&k!=null?c=k+y.search+y.hash:_=!0}catch{}let w=XS(c,{relative:i}),g=kA(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||g(v)}return le.createElement("a",lh({},f,{href:E||w,onClick:_||o?r:m,ref:n,target:l}))});var Dg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dg||(Dg={}));var Lg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lg||(Lg={}));function kA(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=jd(),c=Iu(),d=n1(t,{relative:s});return le.useCallback(h=>{if(EA(h,n)){h.preventDefault();let f=r!==void 0?r:Fl(c)===Fl(d);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,d,r,i,n,t,o,s,a])}var o1={exports:{}},s1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=le;function PA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OA=typeof Object.is=="function"?Object.is:PA,NA=Zs.useSyncExternalStore,RA=Zs.useRef,CA=Zs.useEffect,xA=Zs.useMemo,DA=Zs.useDebugValue;s1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=RA(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=xA(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&s.hasValue){var E=s.value;if(i(E,p))return h=E}return h=p}if(E=h,OA(d,p))return E;var _=r(p);return i!==void 0&&i(E,_)?E:(d=p,h=_)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=NA(t,o[0],o[1]);return CA(function(){s.hasValue=!0,s.value=a},[a]),DA(a),a};o1.exports=s1;var LA=o1.exports,Qt="default"in df?$v:df,Mg=Symbol.for("react-redux-context"),Vg=typeof globalThis<"u"?globalThis:{};function MA(){if(!Qt.createContext)return{};const t=Vg[Mg]??(Vg[Mg]=new Map);let e=t.get(Qt.createContext);return e||(e=Qt.createContext(null),t.set(Qt.createContext,e)),e}var Ar=MA(),VA=()=>{throw new Error("uSES not initialized!")};function Fd(t=Ar){return function(){return Qt.useContext(t)}}var a1=Fd(),l1=VA,jA=t=>{l1=t},FA=(t,e)=>t===e;function BA(t=Ar){const e=t===Ar?a1:Fd(t),n=(r,i={})=>{const{equalityFn:o=FA,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:h}=e();Qt.useRef(!0);const f=Qt.useCallback({[r.name](E){return r(E)}}[r.name],[r,d,s.stabilityCheck]),p=l1(l.addNestedSub,a.getState,c||a.getState,f,o);return Qt.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var al=BA();function UA(t){t()}function qA(){let t=null,e=null;return{clear(){t=null,e=null},notify(){UA(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var jg={notify(){},get:()=>[]};function $A(t,e){let n,r=jg,i=0,o=!1;function s(_){d();const w=r.subscribe(_);let g=!1;return()=>{g||(g=!0,w(),h())}}function a(){r.notify()}function l(){E.onStateChange&&E.onStateChange()}function c(){return o}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=qA())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=jg)}function f(){o||(o=!0,d())}function p(){o&&(o=!1,h())}const E={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return E}var zA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HA=typeof navigator<"u"&&navigator.product==="ReactNative",WA=zA||HA?Qt.useLayoutEffect:Qt.useEffect;function KA({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=Qt.useMemo(()=>{const c=$A(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[t,r,i,o]),a=Qt.useMemo(()=>t.getState(),[t]);WA(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||Ar;return Qt.createElement(l.Provider,{value:s},n)}var GA=KA;function u1(t=Ar){const e=t===Ar?a1:Fd(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var QA=u1();function YA(t=Ar){const e=t===Ar?QA:u1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ku=YA();jA(LA.useSyncExternalStoreWithSelector);function pt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var XA=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Fg=XA,Qc=()=>Math.random().toString(36).substring(7).split("").join("."),JA={INIT:`@@redux/INIT${Qc()}`,REPLACE:`@@redux/REPLACE${Qc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qc()}`},Ul=JA;function Bd(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function c1(t,e,n){if(typeof t!="function")throw new Error(pt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pt(1));return n(c1)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((w,g)=>{s.set(g,w)}))}function d(){if(l)throw new Error(pt(3));return i}function h(w){if(typeof w!="function")throw new Error(pt(4));if(l)throw new Error(pt(5));let g=!0;c();const m=a++;return s.set(m,w),function(){if(g){if(l)throw new Error(pt(6));g=!1,c(),s.delete(m),o=null}}}function f(w){if(!Bd(w))throw new Error(pt(7));if(typeof w.type>"u")throw new Error(pt(8));if(typeof w.type!="string")throw new Error(pt(17));if(l)throw new Error(pt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(o=s).forEach(m=>{m()}),w}function p(w){if(typeof w!="function")throw new Error(pt(10));r=w,f({type:Ul.REPLACE})}function E(){const w=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(pt(11));function m(){const y=g;y.next&&y.next(d())}return m(),{unsubscribe:w(m)}},[Fg](){return this}}}return f({type:Ul.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[Fg]:E}}function ZA(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ul.INIT})>"u")throw new Error(pt(12));if(typeof n(void 0,{type:Ul.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function eI(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{ZA(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],p=s[h],E=f(p,a);if(typeof E>"u")throw a&&a.type,new Error(pt(14));c[h]=E,l=l||E!==p}return l=l||r.length!==Object.keys(s).length,l?c:s}}function ql(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tI(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(pt(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=t.map(l=>l(s));return o=ql(...a)(i.dispatch),{...i,dispatch:o}}}function nI(t){return Bd(t)&&"type"in t&&typeof t.type=="string"}var f1=Symbol.for("immer-nothing"),Bg=Symbol.for("immer-draftable"),Zt=Symbol.for("immer-state");function yn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zi=Object.getPrototypeOf;function oi(t){return!!t&&!!t[Zt]}function Hn(t){var e;return t?h1(t)||Array.isArray(t)||!!t[Bg]||!!((e=t.constructor)!=null&&e[Bg])||Ou(t)||Nu(t):!1}var rI=Object.prototype.constructor.toString();function h1(t){if(!t||typeof t!="object")return!1;const e=Zi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===rI}function $l(t,e){Pu(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Pu(t){const e=t[Zt];return e?e.type_:Array.isArray(t)?1:Ou(t)?2:Nu(t)?3:0}function uh(t,e){return Pu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function d1(t,e,n){const r=Pu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function iI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ou(t){return t instanceof Map}function Nu(t){return t instanceof Set}function zr(t){return t.copy_||t.base_}function ch(t,e){if(Ou(t))return new Map(t);if(Nu(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=h1(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Zt];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Zi(t),r)}else{const r=Zi(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Ud(t,e=!1){return Ru(t)||oi(t)||!Hn(t)||(Pu(t)>1&&(t.set=t.add=t.clear=t.delete=oI),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Ud(r,!0))),t}function oI(){yn(2)}function Ru(t){return Object.isFrozen(t)}var sI={};function si(t){const e=sI[t];return e||yn(0,t),e}var Vs;function p1(){return Vs}function aI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ug(t,e){e&&(si("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fh(t){hh(t),t.drafts_.forEach(lI),t.drafts_=null}function hh(t){t===Vs&&(Vs=t.parent_)}function qg(t){return Vs=aI(Vs,t)}function lI(t){const e=t[Zt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $g(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Zt].modified_&&(fh(e),yn(4)),Hn(t)&&(t=zl(e,t),e.parent_||Hl(e,t)),e.patches_&&si("Patches").generateReplacementPatches_(n[Zt].base_,t,e.patches_,e.inversePatches_)):t=zl(e,n,[]),fh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==f1?t:void 0}function zl(t,e,n){if(Ru(e))return e;const r=e[Zt];if(!r)return $l(e,(i,o)=>zg(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hl(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),$l(o,(a,l)=>zg(t,r,i,a,l,n,s)),Hl(t,i,!1),n&&t.patches_&&si("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function zg(t,e,n,r,i,o,s){if(oi(i)){const a=o&&e&&e.type_!==3&&!uh(e.assigned_,r)?o.concat(r):void 0,l=zl(t,i,a);if(d1(n,r,l),oi(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Hn(i)&&!Ru(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;zl(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hl(t,i)}}function Hl(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ud(e,n)}function uI(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:p1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=qd;n&&(i=[r],o=js);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var qd={get(t,e){if(e===Zt)return t;const n=zr(t);if(!uh(n,e))return cI(t,n,e);const r=n[e];return t.finalized_||!Hn(r)?r:r===Yc(t.base_,e)?(Xc(t),t.copy_[e]=ph(r,t)):r},has(t,e){return e in zr(t)},ownKeys(t){return Reflect.ownKeys(zr(t))},set(t,e,n){const r=m1(zr(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Yc(zr(t),e),o=i==null?void 0:i[Zt];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(iI(n,i)&&(n!==void 0||uh(t.base_,e)))return!0;Xc(t),dh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yc(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xc(t),dh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yn(11)},getPrototypeOf(t){return Zi(t.base_)},setPrototypeOf(){yn(12)}},js={};$l(qd,(t,e)=>{js[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});js.deleteProperty=function(t,e){return js.set.call(this,t,e,void 0)};js.set=function(t,e,n){return qd.set.call(this,t[0],e,n,t[0])};function Yc(t,e){const n=t[Zt];return(n?zr(n):t)[e]}function cI(t,e,n){var i;const r=m1(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function m1(t,e){if(!(e in t))return;let n=Zi(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Zi(n)}}function dh(t){t.modified_||(t.modified_=!0,t.parent_&&dh(t.parent_))}function Xc(t){t.copy_||(t.copy_=ch(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&yn(6),r!==void 0&&typeof r!="function"&&yn(7);let i;if(Hn(e)){const o=qg(this),s=ph(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?fh(o):hh(o)}return Ug(o,r),$g(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===f1&&(i=void 0),this.autoFreeze_&&Ud(i,!0),r){const o=[],s=[];si("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else yn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Hn(t)||yn(8),oi(t)&&(t=hI(t));const e=qg(this),n=ph(t,void 0);return n[Zt].isManual_=!0,hh(e),n}finishDraft(t,e){const n=t&&t[Zt];(!n||!n.isManual_)&&yn(9);const{scope_:r}=n;return Ug(r,e),$g(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=si("Patches").applyPatches_;return oi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ph(t,e){const n=Ou(t)?si("MapSet").proxyMap_(t,e):Nu(t)?si("MapSet").proxySet_(t,e):uI(t,e);return(e?e.scope_:p1()).drafts_.push(n),n}function hI(t){return oi(t)||yn(10,t),g1(t)}function g1(t){if(!Hn(t)||Ru(t))return t;const e=t[Zt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ch(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ch(t,!0);return $l(n,(r,i)=>{d1(n,r,g1(i))}),e&&(e.finalized_=!1),n}var en=new fI,y1=en.produce;en.produceWithPatches.bind(en);en.setAutoFreeze.bind(en);en.setUseStrictShallowCopy.bind(en);en.applyPatches.bind(en);en.createDraft.bind(en);en.finishDraft.bind(en);function v1(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var dI=v1(),pI=v1,mI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ql:ql.apply(null,arguments)},gI=t=>t&&typeof t.match=="function";function hs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Pn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>nI(r)&&r.type===t,n}var _1=class Zo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Zo.prototype)}static get[Symbol.species](){return Zo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Zo(...e[0].concat(this)):new Zo(...e.concat(this))}};function Hg(t){return Hn(t)?y1(t,()=>{}):t}function Wg(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Pn(10));const r=n.insert(e,t);return t.set(e,r),r}function yI(t){return typeof t=="boolean"}var vI=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new _1;return n&&(yI(n)?s.push(dI):s.push(pI(n.extraArgument))),s},_I="RTK_autoBatch",E1=t=>e=>{setTimeout(e,t)},EI=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:E1(10),wI=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?EI:t.type==="callback"?t.queueNotification:E1(t.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[_I]),o=!i,o&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},TI=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new _1(t);return r&&i.push(wI(typeof r=="object"?r:void 0)),i};function bI(t){const e=vI(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Bd(n))a=eI(n);else throw new Error(Pn(1));let l;typeof r=="function"?l=r(e):l=e();let c=ql;i&&(c=mI({trace:!1,...typeof i=="object"&&i}));const d=tI(...l),h=TI(d);let f=typeof s=="function"?s(h):h();const p=c(...f);return c1(a,o,p)}function w1(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Pn(28));if(a in e)throw new Error(Pn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function SI(t){return typeof t=="function"}function AI(t,e){let[n,r,i]=w1(e),o;if(SI(t))o=()=>Hg(t());else{const a=Hg(t);o=()=>a}function s(a=o(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(oi(d)){const p=h(d,l);return p===void 0?d:p}else{if(Hn(d))return y1(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return s.getInitialState=o,s}var II=(t,e)=>gI(t)?t.match(e):t(e);function kI(...t){return e=>t.some(n=>II(n,e))}var PI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T1=(t=21)=>{let e="",n=t;for(;n--;)e+=PI[Math.random()*64|0];return e},OI=["name","message","stack","code"],Jc=class{constructor(t,e){wc(this,"_type");this.payload=t,this.meta=e}},Kg=class{constructor(t,e){wc(this,"_type");this.payload=t,this.meta=e}},NI=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of OI)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Cu=(()=>{function t(e,n,r){const i=hs(e+"/fulfilled",(l,c,d,h)=>({payload:l,meta:{...h||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),o=hs(e+"/pending",(l,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:l,requestStatus:"pending"}})),s=hs(e+"/rejected",(l,c,d,h,f)=>({payload:h,error:(r&&r.serializeError||NI)(l||"Rejected"),meta:{...f||{},arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,d,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(l):T1(),p=new AbortController;let E,_;function w(m){_=m,p.abort()}const g=async function(){var y,k;let m;try{let C=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:d,extra:h});if(CI(C)&&(C=await C),C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((T,N)=>{E=()=>{N({name:"AbortError",message:_||"Aborted"})},p.signal.addEventListener("abort",E)});c(o(f,l,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:f,arg:l},{getState:d,extra:h}))),m=await Promise.race([S,Promise.resolve(n(l,{dispatch:c,getState:d,extra:h,requestId:f,signal:p.signal,abort:w,rejectWithValue:(T,N)=>new Jc(T,N),fulfillWithValue:(T,N)=>new Kg(T,N)})).then(T=>{if(T instanceof Jc)throw T;return T instanceof Kg?i(T.payload,f,l,T.meta):i(T,f,l)})])}catch(C){m=C instanceof Jc?s(null,f,l,C.payload,C.meta):s(C,f,l)}finally{E&&p.signal.removeEventListener("abort",E)}return r&&!r.dispatchConditionRejection&&s.match(m)&&m.meta.condition||c(m),m}();return Object.assign(g,{abort:w,requestId:f,arg:l,unwrap(){return g.then(RI)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:kI(s,i),typePrefix:e})}return t.withTypes=()=>t,t})();function RI(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function CI(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var xI=Symbol.for("rtk-slice-createasyncthunk");function DI(t,e){return`${t}/${e}`}function LI({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[xI];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Pn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(jI()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(v,y){const k=typeof v=="string"?v:v.type;if(!k)throw new Error(Pn(12));if(k in c.sliceCaseReducersByType)throw new Error(Pn(13));return c.sliceCaseReducersByType[k]=y,d},addMatcher(v,y){return c.sliceMatchers.push({matcher:v,reducer:y}),d},exposeAction(v,y){return c.actionCreators[v]=y,d},exposeCaseReducer(v,y){return c.sliceCaseReducersByName[v]=y,d}};l.forEach(v=>{const y=a[v],k={reducerName:v,type:DI(o,v),createNotation:typeof i.reducers=="function"};BI(y)?qI(k,y,d,e):FI(k,y,d)});function h(){const[v={},y=[],k=void 0]=typeof i.extraReducers=="function"?w1(i.extraReducers):[i.extraReducers],C={...v,...c.sliceCaseReducersByType};return AI(i.initialState,S=>{for(let T in C)S.addCase(T,C[T]);for(let T of c.sliceMatchers)S.addMatcher(T.matcher,T.reducer);for(let T of y)S.addMatcher(T.matcher,T.reducer);k&&S.addDefaultCase(k)})}const f=v=>v,p=new Map;let E;function _(v,y){return E||(E=h()),E(v,y)}function w(){return E||(E=h()),E.getInitialState()}function g(v,y=!1){function k(S){let T=S[v];return typeof T>"u"&&y&&(T=w()),T}function C(S=f){const T=Wg(p,y,{insert:()=>new WeakMap});return Wg(T,S,{insert:()=>{const N={};for(const[I,A]of Object.entries(i.selectors??{}))N[I]=MI(A,S,w,y);return N}})}return{reducerPath:v,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const m={name:o,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...g(s),injectInto(v,{reducerPath:y,...k}={}){const C=y??s;return v.inject({reducerPath:C,reducer:_},k),{...m,...g(C,!0)}}};return m}}function MI(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var VI=LI();function jI(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function FI({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!UI(r))throw new Error(Pn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?hs(t,s):hs(t))}function BI(t){return t._reducerDefinitionType==="asyncThunk"}function UI(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qI({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Pn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:d}=n,h=i(t,o,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||Va,pending:a||Va,rejected:l||Va,settled:c||Va})}function Va(){}function Pn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$I=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},S1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$I(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new zI;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HI=function(t){const e=b1(t);return S1.encodeByteArray(e,!0)},Wl=function(t){return HI(t).replace(/\./g,"")},WI=function(t){try{return S1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=()=>KI().__FIREBASE_DEFAULTS__,QI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return GI()||QI()||YI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XI=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JI=t=>{const e=XI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},A1=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wl(JSON.stringify(n)),Wl(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n2(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r2(){return!n2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i2(){try{return typeof indexedDB=="object"}catch{return!1}}function o2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="FirebaseError";class fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s2,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I1.prototype.create)}}class I1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fo(i,a,r)}}function a2(t,e){return t.replace(l2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l2=/\{\$([^}]+)}/g;function mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Gg(o)&&Gg(s)){if(!mh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c2(t){return t===Hr?void 0:t}function f2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const d2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},p2=Ne.INFO,m2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},g2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=m2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k1{constructor(e){this.name=e,this._logLevel=p2,this._logHandler=g2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const y2=(t,e)=>e.some(n=>t instanceof n);let Qg,Yg;function v2(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return Yg||(Yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,gh=new WeakMap,O1=new WeakMap,Zc=new WeakMap,zd=new WeakMap;function E2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(_r(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&P1.set(n,t)}).catch(()=>{}),zd.set(e,t),e}function w2(t){if(gh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gh.set(t,e)}let yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T2(t){yh=t(yh)}function b2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ef(this),e,...n);return O1.set(r,e.sort?e.sort():[e]),_r(r)}:_2().includes(t)?function(...e){return t.apply(ef(this),e),_r(P1.get(this))}:function(...e){return _r(t.apply(ef(this),e))}}function S2(t){return typeof t=="function"?b2(t):(t instanceof IDBTransaction&&w2(t),y2(t,v2())?new Proxy(t,yh):t)}function _r(t){if(t instanceof IDBRequest)return E2(t);if(Zc.has(t))return Zc.get(t);const e=S2(t);return e!==t&&(Zc.set(t,e),zd.set(e,t)),e}const ef=t=>zd.get(t);function A2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=_r(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_r(s.result),l.oldVersion,l.newVersion,_r(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const I2=["get","getKey","getAll","getAllKeys","count"],k2=["put","add","delete","clear"],tf=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I2.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return tf.set(e,o),o}T2(t=>({...t,get:(e,n,r)=>Xg(e,n)||t.get(e,n,r),has:(e,n)=>!!Xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vh="@firebase/app",Jg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new k1("@firebase/app"),N2="@firebase/app-compat",R2="@firebase/analytics-compat",C2="@firebase/analytics",x2="@firebase/app-check-compat",D2="@firebase/app-check",L2="@firebase/auth",M2="@firebase/auth-compat",V2="@firebase/database",j2="@firebase/data-connect",F2="@firebase/database-compat",B2="@firebase/functions",U2="@firebase/functions-compat",q2="@firebase/installations",$2="@firebase/installations-compat",z2="@firebase/messaging",H2="@firebase/messaging-compat",W2="@firebase/performance",K2="@firebase/performance-compat",G2="@firebase/remote-config",Q2="@firebase/remote-config-compat",Y2="@firebase/storage",X2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/vertexai",ek="@firebase/firestore-compat",tk="firebase",nk="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="[DEFAULT]",rk={[vh]:"fire-core",[N2]:"fire-core-compat",[C2]:"fire-analytics",[R2]:"fire-analytics-compat",[D2]:"fire-app-check",[x2]:"fire-app-check-compat",[L2]:"fire-auth",[M2]:"fire-auth-compat",[V2]:"fire-rtdb",[j2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[B2]:"fire-fn",[U2]:"fire-fn-compat",[q2]:"fire-iid",[$2]:"fire-iid-compat",[z2]:"fire-fcm",[H2]:"fire-fcm-compat",[W2]:"fire-perf",[K2]:"fire-perf-compat",[G2]:"fire-rc",[Q2]:"fire-rc-compat",[Y2]:"fire-gcs",[X2]:"fire-gcs-compat",[J2]:"fire-fst",[ek]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,ik=new Map,Eh=new Map;function Zg(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gl(t){const e=t.name;if(Eh.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,t);for(const n of Kl.values())Zg(n,t);for(const n of ik.values())Zg(n,t);return!0}function ok(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new I1("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=nk;function N1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_h,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=A1()),!n)throw Er.create("no-options");const o=Kl.get(i);if(o){if(mh(n,o.options)&&mh(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}const s=new h2(i);for(const l of Eh.values())s.addComponent(l);const a=new ak(n,r,s);return Kl.set(i,a),a}function uk(t=_h){const e=Kl.get(t);if(!e&&t===_h&&A1())return N1();if(!e)throw Er.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let i=(r=rk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}Gl(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="firebase-heartbeat-database",fk=1,Bs="firebase-heartbeat-store";let nf=null;function R1(){return nf||(nf=A2(ck,fk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),nf}async function hk(t){try{const n=(await R1()).transaction(Bs),r=await n.objectStore(Bs).get(C1(t));return await n.done,r}catch(e){if(e instanceof fo)Wn.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function ey(t,e){try{const r=(await R1()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(e,C1(t)),await r.done}catch(n){if(n instanceof fo)Wn.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(r.message)}}}function C1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,pk=30*24*60*60*1e3;class mk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ty();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=pk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ty(),{heartbeatsToSend:r,unsentEntries:i}=gk(this._heartbeatsCache.heartbeats),o=Wl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Wn.warn(n),""}}}function ty(){return new Date().toISOString().substring(0,10)}function gk(t,e=dk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ny(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i2()?o2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ny(t){return Wl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){Gl(new Fs("platform-logger",e=>new P2(e),"PRIVATE")),Gl(new Fs("heartbeat",e=>new mk(e),"PRIVATE")),zi(vh,Jg,t),zi(vh,Jg,"esm2017"),zi("fire-js","")}vk("");var _k="firebase",Ek="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(_k,Ek,"app");var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,x1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function N(){}N.prototype=T.prototype,S.D=T.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(I,A,O){for(var P=Array(arguments.length-2),L=2;L<arguments.length;L++)P[L-2]=arguments[L];return T.prototype[A].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,N){N||(N=0);var I=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)I[A]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(A=0;16>A;++A)I[A]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=S.g[0],N=S.g[1],A=S.g[2];var O=S.g[3],P=T+(O^N&(A^O))+I[0]+3614090360&4294967295;T=N+(P<<7&4294967295|P>>>25),P=O+(A^T&(N^A))+I[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=A+(N^O&(T^N))+I[2]+606105819&4294967295,A=O+(P<<17&4294967295|P>>>15),P=N+(T^A&(O^T))+I[3]+3250441966&4294967295,N=A+(P<<22&4294967295|P>>>10),P=T+(O^N&(A^O))+I[4]+4118548399&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(A^T&(N^A))+I[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=A+(N^O&(T^N))+I[6]+2821735955&4294967295,A=O+(P<<17&4294967295|P>>>15),P=N+(T^A&(O^T))+I[7]+4249261313&4294967295,N=A+(P<<22&4294967295|P>>>10),P=T+(O^N&(A^O))+I[8]+1770035416&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(A^T&(N^A))+I[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=A+(N^O&(T^N))+I[10]+4294925233&4294967295,A=O+(P<<17&4294967295|P>>>15),P=N+(T^A&(O^T))+I[11]+2304563134&4294967295,N=A+(P<<22&4294967295|P>>>10),P=T+(O^N&(A^O))+I[12]+1804603682&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(A^T&(N^A))+I[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=A+(N^O&(T^N))+I[14]+2792965006&4294967295,A=O+(P<<17&4294967295|P>>>15),P=N+(T^A&(O^T))+I[15]+1236535329&4294967295,N=A+(P<<22&4294967295|P>>>10),P=T+(A^O&(N^A))+I[1]+4129170786&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^A&(T^N))+I[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=A+(T^N&(O^T))+I[11]+643717713&4294967295,A=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(A^O))+I[0]+3921069994&4294967295,N=A+(P<<20&4294967295|P>>>12),P=T+(A^O&(N^A))+I[5]+3593408605&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^A&(T^N))+I[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=A+(T^N&(O^T))+I[15]+3634488961&4294967295,A=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(A^O))+I[4]+3889429448&4294967295,N=A+(P<<20&4294967295|P>>>12),P=T+(A^O&(N^A))+I[9]+568446438&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^A&(T^N))+I[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=A+(T^N&(O^T))+I[3]+4107603335&4294967295,A=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(A^O))+I[8]+1163531501&4294967295,N=A+(P<<20&4294967295|P>>>12),P=T+(A^O&(N^A))+I[13]+2850285829&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^A&(T^N))+I[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=A+(T^N&(O^T))+I[7]+1735328473&4294967295,A=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(A^O))+I[12]+2368359562&4294967295,N=A+(P<<20&4294967295|P>>>12),P=T+(N^A^O)+I[5]+4294588738&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^A)+I[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=A+(O^T^N)+I[11]+1839030562&4294967295,A=O+(P<<16&4294967295|P>>>16),P=N+(A^O^T)+I[14]+4259657740&4294967295,N=A+(P<<23&4294967295|P>>>9),P=T+(N^A^O)+I[1]+2763975236&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^A)+I[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=A+(O^T^N)+I[7]+4139469664&4294967295,A=O+(P<<16&4294967295|P>>>16),P=N+(A^O^T)+I[10]+3200236656&4294967295,N=A+(P<<23&4294967295|P>>>9),P=T+(N^A^O)+I[13]+681279174&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^A)+I[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=A+(O^T^N)+I[3]+3572445317&4294967295,A=O+(P<<16&4294967295|P>>>16),P=N+(A^O^T)+I[6]+76029189&4294967295,N=A+(P<<23&4294967295|P>>>9),P=T+(N^A^O)+I[9]+3654602809&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^A)+I[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=A+(O^T^N)+I[15]+530742520&4294967295,A=O+(P<<16&4294967295|P>>>16),P=N+(A^O^T)+I[2]+3299628645&4294967295,N=A+(P<<23&4294967295|P>>>9),P=T+(A^(N|~O))+I[0]+4096336452&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~A))+I[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=A+(T^(O|~N))+I[14]+2878612391&4294967295,A=O+(P<<15&4294967295|P>>>17),P=N+(O^(A|~T))+I[5]+4237533241&4294967295,N=A+(P<<21&4294967295|P>>>11),P=T+(A^(N|~O))+I[12]+1700485571&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~A))+I[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=A+(T^(O|~N))+I[10]+4293915773&4294967295,A=O+(P<<15&4294967295|P>>>17),P=N+(O^(A|~T))+I[1]+2240044497&4294967295,N=A+(P<<21&4294967295|P>>>11),P=T+(A^(N|~O))+I[8]+1873313359&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~A))+I[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=A+(T^(O|~N))+I[6]+2734768916&4294967295,A=O+(P<<15&4294967295|P>>>17),P=N+(O^(A|~T))+I[13]+1309151649&4294967295,N=A+(P<<21&4294967295|P>>>11),P=T+(A^(N|~O))+I[4]+4149444226&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~A))+I[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=A+(T^(O|~N))+I[2]+718787259&4294967295,A=O+(P<<15&4294967295|P>>>17),P=N+(O^(A|~T))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var N=T-this.blockSize,I=this.B,A=this.h,O=0;O<T;){if(A==0)for(;O<=N;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<T;)if(I[A++]=S.charCodeAt(O++),A==this.blockSize){i(this,I),A=0;break}}else for(;O<T;)if(I[A++]=S[O++],A==this.blockSize){i(this,I),A=0;break}}this.h=A,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var N=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.u(S),S=Array(16),T=N=0;4>T;++T)for(var I=0;32>I;I+=8)S[N++]=this.g[T]>>>I&255;return S};function o(S,T){var N=a;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=T(S)}function s(S,T){this.h=T;for(var N=[],I=!0,A=S.length-1;0<=A;A--){var O=S[A]|0;I&&O==T||(N[A]=O,I=!1)}this.g=N}var a={};function l(S){return-128<=S&&128>S?o(S,function(T){return new s([T|0],0>T?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return w(c(-S));for(var T=[],N=1,I=0;S>=N;I++)T[I]=S/N|0,N*=4294967296;return new s(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return w(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(T,8)),I=h,A=0;A<S.length;A+=8){var O=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+O),T);8>O?(O=c(Math.pow(T,O)),I=I.j(O).add(c(P))):(I=I.j(N),I=I.add(c(P)))}return I}var h=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-w(this).m();for(var S=0,T=1,N=0;N<this.g.length;N++){var I=this.i(N);S+=(0<=I?I:4294967296+I)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(_(this))return"-"+w(this).toString(S);for(var T=c(Math.pow(S,6)),N=this,I="";;){var A=y(N,T).g;N=g(N,A.j(T));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=A,E(N))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=g(this,S),_(S)?-1:E(S)?0:1};function w(S){for(var T=S.g.length,N=[],I=0;I<T;I++)N[I]=~S.g[I];return new s(N,~S.h).add(f)}t.abs=function(){return _(this)?w(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0,A=0;A<=T;A++){var O=I+(this.i(A)&65535)+(S.i(A)&65535),P=(O>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);I=P>>>16,O&=65535,P&=65535,N[A]=P<<16|O}return new s(N,N[N.length-1]&-2147483648?-1:0)};function g(S,T){return S.add(w(T))}t.j=function(S){if(E(this)||E(S))return h;if(_(this))return _(S)?w(this).j(w(S)):w(w(this).j(S));if(_(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var T=this.g.length+S.g.length,N=[],I=0;I<2*T;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var A=0;A<S.g.length;A++){var O=this.i(I)>>>16,P=this.i(I)&65535,L=S.i(A)>>>16,U=S.i(A)&65535;N[2*I+2*A]+=P*U,m(N,2*I+2*A),N[2*I+2*A+1]+=O*U,m(N,2*I+2*A+1),N[2*I+2*A+1]+=P*L,m(N,2*I+2*A+1),N[2*I+2*A+2]+=O*L,m(N,2*I+2*A+2)}for(I=0;I<T;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=T;I<2*T;I++)N[I]=0;return new s(N,0)};function m(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function v(S,T){this.g=S,this.h=T}function y(S,T){if(E(T))throw Error("division by zero");if(E(S))return new v(h,h);if(_(S))return T=y(w(S),T),new v(w(T.g),w(T.h));if(_(T))return T=y(S,w(T)),new v(w(T.g),T.h);if(30<S.g.length){if(_(S)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var N=f,I=T;0>=I.l(S);)N=k(N),I=k(I);var A=C(N,1),O=C(I,1);for(I=C(I,2),N=C(N,2);!E(I);){var P=O.add(I);0>=P.l(S)&&(A=A.add(N),O=P),I=C(I,1),N=C(N,1)}return T=g(S,A.j(T)),new v(A,T)}for(A=h;0<=S.l(T);){for(N=Math.max(1,Math.floor(S.m()/T.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=c(N),P=O.j(T);_(P)||0<P.l(S);)N-=I,O=c(N),P=O.j(T);E(O)&&(O=f),A=A.add(O),S=g(S,P)}return new v(A,S)}t.A=function(S){return y(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)&S.i(I);return new s(N,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)|S.i(I);return new s(N,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)^S.i(I);return new s(N,this.h^S.h)};function k(S){for(var T=S.g.length+1,N=[],I=0;I<T;I++)N[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(N,S.h)}function C(S,T){var N=T>>5;T%=32;for(var I=S.g.length-N,A=[],O=0;O<I;O++)A[O]=0<T?S.i(O+N)>>>T|S.i(O+N+1)<<32-T:S.i(O+N);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Zr=s}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,es,L1,ll,wh,M1,V1,j1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,b,R){return u==Array.prototype||u==Object.prototype||(u[b]=R.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ja=="object"&&ja];for(var b=0;b<u.length;++b){var R=u[b];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(u,b){if(b)e:{var R=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var G=u[D];if(!(G in R))break e;R=R[G]}u=u[u.length-1],D=R[u],b=b(D),b!=D&&b!=null&&e(R,u,{configurable:!0,writable:!0,value:b})}}function o(u,b){u instanceof String&&(u+="");var R=0,D=!1,G={next:function(){if(!D&&R<u.length){var J=R++;return{value:b(J,u[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(u){return u||function(){return o(this,function(b,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var b=typeof u;return b=b!="object"?b:u?Array.isArray(u)?"array":b:"null",b=="array"||b=="object"&&typeof u.length=="number"}function c(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function d(u,b,R){return u.call.apply(u.bind,arguments)}function h(u,b,R){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),u.apply(b,G)}}return function(){return u.apply(b,arguments)}}function f(u,b,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,b){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function E(u,b){function R(){}R.prototype=b.prototype,u.aa=b.prototype,u.prototype=new R,u.prototype.constructor=u,u.Qb=function(D,G,J){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return b.prototype[G].apply(D,ae)}}function _(u){const b=u.length;if(0<b){const R=Array(b);for(let D=0;D<b;D++)R[D]=u[D];return R}return[]}function w(u,b){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(l(D)){const G=u.length||0,J=D.length||0;u.length=G+J;for(let ae=0;ae<J;ae++)u[G+ae]=D[ae]}else u.push(D)}}class g{constructor(b,R){this.i=b,this.j=R,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function m(u){return/^[\s\xa0]*$/.test(u)}function v(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function y(u){return y[" "](u),u}y[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function C(u,b,R){for(const D in u)b.call(R,u[D],D,u)}function S(u,b){for(const R in u)b.call(void 0,u[R],R,u)}function T(u){const b={};for(const R in u)b[R]=u[R];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,b){let R,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(R in D)u[R]=D[R];for(let J=0;J<N.length;J++)R=N[J],Object.prototype.hasOwnProperty.call(D,R)&&(u[R]=D[R])}}function A(u){var b=1;u=u.split(":");const R=[];for(;0<b&&u.length;)R.push(u.shift()),b--;return u.length&&R.push(u.join(":")),R}function O(u){a.setTimeout(()=>{throw u},0)}function P(){var u=q;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class L{constructor(){this.h=this.g=null}add(b,R){const D=U.get();D.set(b,R),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new g(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(b,R){this.h=b,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Q=!1,q=new L,j=()=>{const u=a.Promise.resolve(void 0);W=()=>{u.then(x)}};var x=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(R){O(R)}var b=U;b.j(u),100>b.h&&(b.h++,u.next=b.g,b.g=u)}Q=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const R=()=>{};a.addEventListener("test",R,b),a.removeEventListener("test",R,b)}catch{}return u}();function z(u,b){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var R=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget){if(k){e:{try{y(b.nodeName);var G=!0;break e}catch{}G=!1}G||(b=null)}}else R=="mouseover"?b=u.fromElement:R=="mouseout"&&(b=u.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:V[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&z.aa.h.call(this)}}E(z,B);var V={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(u,b,R,D,G){this.listener=u,this.proxy=null,this.src=b,this.type=R,this.capture=!!D,this.ha=G,this.key=++Y,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,b,R,D,G){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var ae=ve(u,b,D,G);return-1<ae?(b=u[ae],R||(b.fa=!1)):(b=new X(b,this.src,J,!!D,G),b.fa=R,u.push(b)),b};function ge(u,b){var R=b.type;if(R in u.g){var D=u.g[R],G=Array.prototype.indexOf.call(D,b,void 0),J;(J=0<=G)&&Array.prototype.splice.call(D,G,1),J&&(ne(b),u.g[R].length==0&&(delete u.g[R],u.h--))}}function ve(u,b,R,D){for(var G=0;G<u.length;++G){var J=u[G];if(!J.da&&J.listener==b&&J.capture==!!R&&J.ha==D)return G}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Re={};function ht(u,b,R,D,G){if(D&&D.once)return ee(u,b,R,D,G);if(Array.isArray(b)){for(var J=0;J<b.length;J++)ht(u,b[J],R,D,G);return null}return R=wt(R),u&&u[$]?u.K(b,R,c(D)?!!D.capture:!!D,G):Ye(u,b,R,!1,D,G)}function Ye(u,b,R,D,G,J){if(!b)throw Error("Invalid event type");var ae=c(G)?!!G.capture:!!G,Me=we(u);if(Me||(u[Se]=Me=new fe(u)),R=Me.add(b,R,D,ae,J),R.proxy)return R;if(D=Z(),R.proxy=D,D.src=u,D.listener=R,u.addEventListener)K||(G=ae),G===void 0&&(G=!1),u.addEventListener(b.toString(),D,G);else if(u.attachEvent)u.attachEvent(re(b.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Z(){function u(R){return b.call(u.src,u.listener,R)}const b=be;return u}function ee(u,b,R,D,G){if(Array.isArray(b)){for(var J=0;J<b.length;J++)ee(u,b[J],R,D,G);return null}return R=wt(R),u&&u[$]?u.L(b,R,c(D)?!!D.capture:!!D,G):Ye(u,b,R,!0,D,G)}function ue(u,b,R,D,G){if(Array.isArray(b))for(var J=0;J<b.length;J++)ue(u,b[J],R,D,G);else D=c(D)?!!D.capture:!!D,R=wt(R),u&&u[$]?(u=u.i,b=String(b).toString(),b in u.g&&(J=u.g[b],R=ve(J,R,D,G),-1<R&&(ne(J[R]),Array.prototype.splice.call(J,R,1),J.length==0&&(delete u.g[b],u.h--)))):u&&(u=we(u))&&(b=u.g[b.toString()],u=-1,b&&(u=ve(b,R,D,G)),(R=-1<u?b[u]:null)&&ce(R))}function ce(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[$])ge(b.i,u);else{var R=u.type,D=u.proxy;b.removeEventListener?b.removeEventListener(R,D,u.capture):b.detachEvent?b.detachEvent(re(R),D):b.addListener&&b.removeListener&&b.removeListener(D),(R=we(b))?(ge(R,u),R.h==0&&(R.src=null,b[Se]=null)):ne(u)}}}function re(u){return u in Re?Re[u]:Re[u]="on"+u}function be(u,b){if(u.da)u=!0;else{b=new z(b,this);var R=u.listener,D=u.ha||u.src;u.fa&&ce(u),u=R.call(D,b)}return u}function we(u){return u=u[Se],u instanceof fe?u:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(u){return typeof u=="function"?u:(u[Te]||(u[Te]=function(b){return u.handleEvent(b)}),u[Te])}function Ve(){M.call(this),this.i=new fe(this),this.M=this,this.F=null}E(Ve,M),Ve.prototype[$]=!0,Ve.prototype.removeEventListener=function(u,b,R,D){ue(this,u,b,R,D)};function Ae(u,b){var R,D=u.F;if(D)for(R=[];D;D=D.F)R.push(D);if(u=u.M,D=b.type||b,typeof b=="string")b=new B(b,u);else if(b instanceof B)b.target=b.target||u;else{var G=b;b=new B(D,u),I(b,G)}if(G=!0,R)for(var J=R.length-1;0<=J;J--){var ae=b.g=R[J];G=gi(ae,D,!0,b)&&G}if(ae=b.g=u,G=gi(ae,D,!0,b)&&G,G=gi(ae,D,!1,b)&&G,R)for(J=0;J<R.length;J++)ae=b.g=R[J],G=gi(ae,D,!1,b)&&G}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var u=this.i,b;for(b in u.g){for(var R=u.g[b],D=0;D<R.length;D++)ne(R[D]);delete u.g[b],u.h--}}this.F=null},Ve.prototype.K=function(u,b,R,D){return this.i.add(String(u),b,!1,R,D)},Ve.prototype.L=function(u,b,R,D){return this.i.add(String(u),b,!0,R,D)};function gi(u,b,R,D){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();for(var G=!0,J=0;J<b.length;++J){var ae=b[J];if(ae&&!ae.da&&ae.capture==R){var Me=ae.listener,dt=ae.ha||ae.src;ae.fa&&ge(u.i,ae),G=Me.call(dt,D)!==!1&&G}}return G&&!D.defaultPrevented}function He(u,b,R){if(typeof u=="function")R&&(u=f(u,R));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(u,b||0)}function fn(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,fn(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class Aw extends M{constructor(b,R){super(),this.m=b,this.l=R,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(u){M.call(this),this.h=u,this.g={}}E(bo,M);var Ap=[];function Ip(u){C(u.g,function(b,R){this.g.hasOwnProperty(R)&&ce(b)},u),u.g={}}bo.prototype.N=function(){bo.aa.N.call(this),Ip(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oc=a.JSON.stringify,Iw=a.JSON.parse,kw=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function sc(){}sc.prototype.h=null;function kp(u){return u.h||(u.h=u.i())}function Pp(){}var So={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ac(){B.call(this,"d")}E(ac,B);function lc(){B.call(this,"c")}E(lc,B);var jr={},Op=null;function oa(){return Op=Op||new Ve}jr.La="serverreachability";function Np(u){B.call(this,jr.La,u)}E(Np,B);function Ao(u){const b=oa();Ae(b,new Np(b))}jr.STAT_EVENT="statevent";function Rp(u,b){B.call(this,jr.STAT_EVENT,u),this.stat=b}E(Rp,B);function Rt(u){const b=oa();Ae(b,new Rp(b,u))}jr.Ma="timingevent";function Cp(u,b){B.call(this,jr.Ma,u),this.size=b}E(Cp,B);function Io(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},b)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function Pw(u,b,R,D,G,J){u.info(function(){if(u.g)if(J)for(var ae="",Me=J.split("&"),dt=0;dt<Me.length;dt++){var xe=Me[dt].split("=");if(1<xe.length){var Tt=xe[0];xe=xe[1];var bt=Tt.split("_");ae=2<=bt.length&&bt[1]=="type"?ae+(Tt+"="+xe+"&"):ae+(Tt+"=redacted&")}}else ae=null;else ae=J;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+b+`
`+R+`
`+ae})}function Ow(u,b,R,D,G,J,ae){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+b+`
`+R+`
`+J+" "+ae})}function yi(u,b,R,D){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+Rw(u,R)+(D?" "+D:"")})}function Nw(u,b){u.info(function(){return"TIMEOUT: "+b})}ko.prototype.info=function(){};function Rw(u,b){if(!u.g)return b;if(!b)return null;try{var R=JSON.parse(b);if(R){for(u=0;u<R.length;u++)if(Array.isArray(R[u])){var D=R[u];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ae=1;ae<G.length;ae++)G[ae]=""}}}}return oc(R)}catch{return b}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uc;function aa(){}E(aa,sc),aa.prototype.g=function(){return new XMLHttpRequest},aa.prototype.i=function(){return{}},uc=new aa;function Jn(u,b,R,D){this.j=u,this.i=b,this.l=R,this.R=D||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dp}function Dp(){this.i=null,this.g="",this.h=!1}var Lp={},cc={};function fc(u,b,R){u.L=1,u.v=fa(Dn(b)),u.m=R,u.P=!0,Mp(u,null)}function Mp(u,b){u.F=Date.now(),la(u),u.A=Dn(u.v);var R=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),Yp(R.i,"t",D),u.C=0,R=u.j.J,u.h=new Dp,u.g=pm(u.j,R?b:null,!u.m),0<u.O&&(u.M=new Aw(f(u.Y,u,u.g),u.O)),b=u.U,R=u.g,D=u.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ap[0]=G.toString()),G=Ap);for(var J=0;J<G.length;J++){var ae=ht(R,G[J],D||b.handleEvent,!1,b.h||b);if(!ae)break;b.g[ae.key]=ae}b=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,b)):(u.u="GET",u.g.ea(u.A,u.u,null,b)),Ao(),Pw(u.i,u.u,u.A,u.l,u.R,u.m)}Jn.prototype.ca=function(u){u=u.target;const b=this.M;b&&Ln(u)==3?b.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const bt=Ln(this.g);var b=this.g.Ba();const Ei=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||rm(this.g)))){this.J||bt!=4||b==7||(b==8||0>=Ei?Ao(3):Ao(2)),hc(this);var R=this.g.Z();this.X=R;t:if(Vp(this)){var D=rm(this.g);u="";var G=D.length,J=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Po(this);var ae="";break t}this.h.i=new a.TextDecoder}for(b=0;b<G;b++)this.h.h=!0,u+=this.h.i.decode(D[b],{stream:!(J&&b==G-1)});D.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=R==200,Ow(this.i,this.u,this.A,this.l,this.R,bt,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,dt=this.g;if((Me=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Me)){var xe=Me;break t}}xe=null}if(R=xe)yi(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dc(this,R);else{this.o=!1,this.s=3,Rt(12),Fr(this),Po(this);break e}}if(this.P){R=!0;let hn;for(;!this.J&&this.C<ae.length;)if(hn=Cw(this,ae),hn==cc){bt==4&&(this.s=4,Rt(14),R=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Lp){this.s=4,Rt(15),yi(this.i,this.l,ae,"[Invalid Chunk]"),R=!1;break}else yi(this.i,this.l,hn,null),dc(this,hn);if(Vp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ae.length!=0||this.h.h||(this.s=1,Rt(16),R=!1),this.o=this.o&&R,!R)yi(this.i,this.l,ae,"[Invalid Chunked Response]"),Fr(this),Po(this);else if(0<ae.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),_c(Tt),Tt.M=!0,Rt(11))}}else yi(this.i,this.l,ae,null),dc(this,ae);bt==4&&Fr(this),this.o&&!this.J&&(bt==4?cm(this.j,this):(this.o=!1,la(this)))}else Qw(this.g),R==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Fr(this),Po(this)}}}catch{}finally{}};function Vp(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Cw(u,b){var R=u.C,D=b.indexOf(`
`,R);return D==-1?cc:(R=Number(b.substring(R,D)),isNaN(R)?Lp:(D+=1,D+R>b.length?cc:(b=b.slice(D,D+R),u.C=D+R,b)))}Jn.prototype.cancel=function(){this.J=!0,Fr(this)};function la(u){u.S=Date.now()+u.I,jp(u,u.I)}function jp(u,b){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Io(f(u.ba,u),b)}function hc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Nw(this.i,this.A),this.L!=2&&(Ao(),Rt(17)),Fr(this),this.s=2,Po(this)):jp(this,this.S-u)};function Po(u){u.j.G==0||u.J||cm(u.j,u)}function Fr(u){hc(u);var b=u.M;b&&typeof b.ma=="function"&&b.ma(),u.M=null,Ip(u.U),u.g&&(b=u.g,u.g=null,b.abort(),b.ma())}function dc(u,b){try{var R=u.j;if(R.G!=0&&(R.g==u||pc(R.h,u))){if(!u.K&&pc(R.h,u)&&R.G==3){try{var D=R.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<u.F)ya(R),ma(R);else break e;vc(R),Rt(18)}}else R.za=G[1],0<R.za-R.T&&37500>G[2]&&R.F&&R.v==0&&!R.C&&(R.C=Io(f(R.Za,R),6e3));if(1>=Up(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Ur(R,11)}else if((u.K||R.g==u)&&ya(R),!m(b))for(G=R.Da.g.parse(b),b=0;b<G.length;b++){let xe=G[b];if(R.T=xe[0],xe=xe[1],R.G==2)if(xe[0]=="c"){R.K=xe[1],R.ia=xe[2];const Tt=xe[3];Tt!=null&&(R.la=Tt,R.j.info("VER="+R.la));const bt=xe[4];bt!=null&&(R.Aa=bt,R.j.info("SVER="+R.Aa));const Ei=xe[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(D=1.5*Ei,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const hn=u.g;if(hn){const _a=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var J=D.h;J.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(mc(J,J.h),J.h=null))}if(D.D){const Ec=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ec&&(D.ya=Ec,Fe(D.I,D.D,Ec))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-u.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var ae=u;if(D.qa=dm(D,D.J?D.ia:null,D.W),ae.K){qp(D.h,ae);var Me=ae,dt=D.L;dt&&(Me.I=dt),Me.B&&(hc(Me),la(Me)),D.g=ae}else lm(D);0<R.i.length&&ga(R)}else xe[0]!="stop"&&xe[0]!="close"||Ur(R,7);else R.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ur(R,7):yc(R):xe[0]!="noop"&&R.l&&R.l.ta(xe),R.v=0)}}Ao(4)}catch{}}var xw=class{constructor(u,b){this.g=u,this.map=b}};function Fp(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bp(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Up(u){return u.h?1:u.g?u.g.size:0}function pc(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function mc(u,b){u.g?u.g.add(b):u.h=b}function qp(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Fp.prototype.cancel=function(){if(this.i=$p(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $p(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const R of u.g.values())b=b.concat(R.D);return b}return _(u.i)}function Dw(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var b=[],R=u.length,D=0;D<R;D++)b.push(u[D]);return b}b=[],R=0;for(D in u)b[R++]=u[D];return b}function Lw(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var b=[];u=u.length;for(var R=0;R<u;R++)b.push(R);return b}b=[],R=0;for(const D in u)b[R++]=D;return b}}}function zp(u,b){if(u.forEach&&typeof u.forEach=="function")u.forEach(b,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,b,void 0);else for(var R=Lw(u),D=Dw(u),G=D.length,J=0;J<G;J++)b.call(void 0,D[J],R&&R[J],u)}var Hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mw(u,b){if(u){u=u.split("&");for(var R=0;R<u.length;R++){var D=u[R].indexOf("="),G=null;if(0<=D){var J=u[R].substring(0,D);G=u[R].substring(D+1)}else J=u[R];b(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Br(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Br){this.h=u.h,ua(this,u.j),this.o=u.o,this.g=u.g,ca(this,u.s),this.l=u.l;var b=u.i,R=new Ro;R.i=b.i,b.g&&(R.g=new Map(b.g),R.h=b.h),Wp(this,R),this.m=u.m}else u&&(b=String(u).match(Hp))?(this.h=!1,ua(this,b[1]||"",!0),this.o=Oo(b[2]||""),this.g=Oo(b[3]||"",!0),ca(this,b[4]),this.l=Oo(b[5]||"",!0),Wp(this,b[6]||"",!0),this.m=Oo(b[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}Br.prototype.toString=function(){var u=[],b=this.j;b&&u.push(No(b,Kp,!0),":");var R=this.g;return(R||b=="file")&&(u.push("//"),(b=this.o)&&u.push(No(b,Kp,!0),"@"),u.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&u.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&u.push("/"),u.push(No(R,R.charAt(0)=="/"?Fw:jw,!0))),(R=this.i.toString())&&u.push("?",R),(R=this.m)&&u.push("#",No(R,Uw)),u.join("")};function Dn(u){return new Br(u)}function ua(u,b,R){u.j=R?Oo(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function ca(u,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);u.s=b}else u.s=null}function Wp(u,b,R){b instanceof Ro?(u.i=b,qw(u.i,u.h)):(R||(b=No(b,Bw)),u.i=new Ro(b,u.h))}function Fe(u,b,R){u.i.set(b,R)}function fa(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oo(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function No(u,b,R){return typeof u=="string"?(u=encodeURI(u).replace(b,Vw),R&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vw(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kp=/[#\/\?@]/g,jw=/[#\?:]/g,Fw=/[#\?]/g,Bw=/[#\?@]/g,Uw=/#/g;function Ro(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function Zn(u){u.g||(u.g=new Map,u.h=0,u.i&&Mw(u.i,function(b,R){u.add(decodeURIComponent(b.replace(/\+/g," ")),R)}))}t=Ro.prototype,t.add=function(u,b){Zn(this),this.i=null,u=vi(this,u);var R=this.g.get(u);return R||this.g.set(u,R=[]),R.push(b),this.h+=1,this};function Gp(u,b){Zn(u),b=vi(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function Qp(u,b){return Zn(u),b=vi(u,b),u.g.has(b)}t.forEach=function(u,b){Zn(this),this.g.forEach(function(R,D){R.forEach(function(G){u.call(b,G,D,this)},this)},this)},t.na=function(){Zn(this);const u=Array.from(this.g.values()),b=Array.from(this.g.keys()),R=[];for(let D=0;D<b.length;D++){const G=u[D];for(let J=0;J<G.length;J++)R.push(b[D])}return R},t.V=function(u){Zn(this);let b=[];if(typeof u=="string")Qp(this,u)&&(b=b.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let R=0;R<u.length;R++)b=b.concat(u[R])}return b},t.set=function(u,b){return Zn(this),this.i=null,u=vi(this,u),Qp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},t.get=function(u,b){return u?(u=this.V(u),0<u.length?String(u[0]):b):b};function Yp(u,b,R){Gp(u,b),0<R.length&&(u.i=null,u.g.set(vi(u,b),_(R)),u.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(var R=0;R<b.length;R++){var D=b[R];const J=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var G=J;ae[D]!==""&&(G+="="+encodeURIComponent(String(ae[D]))),u.push(G)}}return this.i=u.join("&")};function vi(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function qw(u,b){b&&!u.j&&(Zn(u),u.i=null,u.g.forEach(function(R,D){var G=D.toLowerCase();D!=G&&(Gp(this,D),Yp(this,G,R))},u)),u.j=b}function $w(u,b){const R=new ko;if(a.Image){const D=new Image;D.onload=p(er,R,"TestLoadImage: loaded",!0,b,D),D.onerror=p(er,R,"TestLoadImage: error",!1,b,D),D.onabort=p(er,R,"TestLoadImage: abort",!1,b,D),D.ontimeout=p(er,R,"TestLoadImage: timeout",!1,b,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else b(!1)}function zw(u,b){const R=new ko,D=new AbortController,G=setTimeout(()=>{D.abort(),er(R,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:D.signal}).then(J=>{clearTimeout(G),J.ok?er(R,"TestPingServer: ok",!0,b):er(R,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),er(R,"TestPingServer: error",!1,b)})}function er(u,b,R,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(R)}catch{}}function Hw(){this.g=new kw}function Ww(u,b,R){const D=R||"";try{zp(u,function(G,J){let ae=G;c(G)&&(ae=oc(G)),b.push(D+J+"="+encodeURIComponent(ae))})}catch(G){throw b.push(D+"type="+encodeURIComponent("_badmap")),G}}function ha(u){this.l=u.Ub||null,this.j=u.eb||!1}E(ha,sc),ha.prototype.g=function(){return new da(this.l,this.j)},ha.prototype.i=function(u){return function(){return u}}({});function da(u,b){Ve.call(this),this.D=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(da,Ve),t=da.prototype,t.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=b,this.readyState=1,xo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(b.body=u),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xp(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xp(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?Co(this):xo(this),this.readyState==3&&Xp(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Co(this))},t.Qa=function(u){this.g&&(this.response=u,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xo(u)}t.setRequestHeader=function(u,b){this.u.append(u,b)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var R=b.next();!R.done;)R=R.value,u.push(R[0]+": "+R[1]),R=b.next();return u.join(`\r
`)};function xo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jp(u){let b="";return C(u,function(R,D){b+=D,b+=":",b+=R,b+=`\r
`}),b}function gc(u,b,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=Jp(R),typeof u=="string"?R!=null&&encodeURIComponent(String(R)):Fe(u,b,R))}function Xe(u){Ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Xe,Ve);var Kw=/^https?$/i,Gw=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,b,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uc.g(),this.v=this.o?kp(this.o):kp(uc),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(J){Zp(this,J);return}if(u=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)R.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())R.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(J=>J.toLowerCase()=="content-type"),G=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Gw,b,void 0))||D||G||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ae]of R)this.g.setRequestHeader(J,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nm(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){Zp(this,J)}};function Zp(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.m=5,em(u),pa(u)}function em(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ae(this,"complete"),Ae(this,"abort"),pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tm(this):this.bb())},t.bb=function(){tm(this)};function tm(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)He(u.Ea,0,u);else if(Ae(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var R;if(!(R=b)){var D;if(D=ae===0){var G=String(u.D).match(Hp)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!Kw.test(G?G.toLowerCase():"")}R=D}if(R)Ae(u,"complete"),Ae(u,"success");else{u.m=6;try{var J=2<Ln(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",em(u)}}finally{pa(u)}}}}function pa(u,b){if(u.g){nm(u);const R=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,b||Ae(u,"ready");try{R.onreadystatechange=D}catch{}}}function nm(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),Iw(b)}};function rm(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qw(u){const b={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(m(u[D]))continue;var R=A(u[D]);const G=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const J=b[G]||[];b[G]=J,J.push(R)}S(b,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(u,b,R){return R&&R.internalChannelParams&&R.internalChannelParams[u]||b}function im(u){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,u),this.cb=Do("retryDelaySeedMs",1e4,u),this.Wa=Do("forwardChannelMaxRetries",2,u),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fp(u&&u.concurrentRequestLimit),this.Da=new Hw,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=im.prototype,t.la=8,t.G=1,t.connect=function(u,b,R,D){Rt(0),this.W=u,this.H=b||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=dm(this,null,this.W),ga(this)};function yc(u){if(om(u),u.G==3){var b=u.U++,R=Dn(u.I);if(Fe(R,"SID",u.K),Fe(R,"RID",b),Fe(R,"TYPE","terminate"),Lo(u,R),b=new Jn(u,u.j,b),b.L=2,b.v=fa(Dn(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=b.v,R=!0),R||(b.g=pm(b.j,null),b.g.ea(b.v)),b.F=Date.now(),la(b)}hm(u)}function ma(u){u.g&&(_c(u),u.g.cancel(),u.g=null)}function om(u){ma(u),u.u&&(a.clearTimeout(u.u),u.u=null),ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ga(u){if(!Bp(u.h)&&!u.s){u.s=!0;var b=u.Ga;W||j(),Q||(W(),Q=!0),q.add(b,u),u.B=0}}function Yw(u,b){return Up(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=b.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Io(f(u.Ga,u,b),fm(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const G=new Jn(this,this.j,u);let J=this.o;if(this.S&&(J?(J=T(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var b=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=R;break e}if(b===4096||R===this.i.length-1){b=R+1;break e}}b=1e3}else b=1e3;b=am(this,G,b),R=Dn(this.I),Fe(R,"RID",u),Fe(R,"CVER",22),this.D&&Fe(R,"X-HTTP-Session-Id",this.D),Lo(this,R),J&&(this.O?b="headers="+encodeURIComponent(String(Jp(J)))+"&"+b:this.m&&gc(R,this.m,J)),mc(this.h,G),this.Ua&&Fe(R,"TYPE","init"),this.P?(Fe(R,"$req",b),Fe(R,"SID","null"),G.T=!0,fc(G,R,null)):fc(G,R,b),this.G=2}}else this.G==3&&(u?sm(this,u):this.i.length==0||Bp(this.h)||sm(this))};function sm(u,b){var R;b?R=b.l:R=u.U++;const D=Dn(u.I);Fe(D,"SID",u.K),Fe(D,"RID",R),Fe(D,"AID",u.T),Lo(u,D),u.m&&u.o&&gc(D,u.m,u.o),R=new Jn(u,u.j,R,u.B+1),u.m===null&&(R.H=u.o),b&&(u.i=b.D.concat(u.i)),b=am(u,R,1e3),R.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mc(u.h,R),fc(R,D,b)}function Lo(u,b){u.H&&C(u.H,function(R,D){Fe(b,D,R)}),u.l&&zp({},function(R,D){Fe(b,D,R)})}function am(u,b,R){R=Math.min(u.i.length,R);var D=u.l?f(u.l.Na,u.l,u):null;e:{var G=u.i;let J=-1;for(;;){const ae=["count="+R];J==-1?0<R?(J=G[0].g,ae.push("ofs="+J)):J=0:ae.push("ofs="+J);let Me=!0;for(let dt=0;dt<R;dt++){let xe=G[dt].g;const Tt=G[dt].map;if(xe-=J,0>xe)J=Math.max(0,G[dt].g-100),Me=!1;else try{Ww(Tt,ae,"req"+xe+"_")}catch{D&&D(Tt)}}if(Me){D=ae.join("&");break e}}}return u=u.i.splice(0,R),b.D=u,D}function lm(u){if(!u.g&&!u.u){u.Y=1;var b=u.Fa;W||j(),Q||(W(),Q=!0),q.add(b,u),u.v=0}}function vc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Io(f(u.Fa,u),fm(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,um(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Io(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ma(this),um(this))};function _c(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function um(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var b=Dn(u.qa);Fe(b,"RID","rpc"),Fe(b,"SID",u.K),Fe(b,"AID",u.T),Fe(b,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(b,"TO",u.ja),Fe(b,"TYPE","xmlhttp"),Lo(u,b),u.m&&u.o&&gc(b,u.m,u.o),u.L&&(u.g.I=u.L);var R=u.g;u=u.ia,R.L=1,R.v=fa(Dn(b)),R.m=null,R.P=!0,Mp(R,u)}t.Za=function(){this.C!=null&&(this.C=null,ma(this),vc(this),Rt(19))};function ya(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function cm(u,b){var R=null;if(u.g==b){ya(u),_c(u),u.g=null;var D=2}else if(pc(u.h,b))R=b.D,qp(u.h,b),D=1;else return;if(u.G!=0){if(b.o)if(D==1){R=b.m?b.m.length:0,b=Date.now()-b.F;var G=u.B;D=oa(),Ae(D,new Cp(D,R)),ga(u)}else lm(u);else if(G=b.s,G==3||G==0&&0<b.X||!(D==1&&Yw(u,b)||D==2&&vc(u)))switch(R&&0<R.length&&(b=u.h,b.i=b.i.concat(R)),G){case 1:Ur(u,5);break;case 4:Ur(u,10);break;case 3:Ur(u,6);break;default:Ur(u,2)}}}function fm(u,b){let R=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(R*=2),R*b}function Ur(u,b){if(u.j.info("Error code "+b),b==2){var R=f(u.fb,u),D=u.Xa;const G=!D;D=new Br(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ua(D,"https"),fa(D),G?$w(D.toString(),R):zw(D.toString(),R)}else Rt(2);u.G=0,u.l&&u.l.sa(b),hm(u),om(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function hm(u){if(u.G=0,u.ka=[],u.l){const b=$p(u.h);(b.length!=0||u.i.length!=0)&&(w(u.ka,b),w(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function dm(u,b,R){var D=R instanceof Br?Dn(R):new Br(R);if(D.g!="")b&&(D.g=b+"."+D.g),ca(D,D.s);else{var G=a.location;D=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;var J=new Br(null);D&&ua(J,D),b&&(J.g=b),G&&ca(J,G),R&&(J.l=R),D=J}return R=u.D,b=u.ya,R&&b&&Fe(D,R,b),Fe(D,"VER",u.la),Lo(u,D),D}function pm(u,b,R){if(b&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Ca&&!u.pa?new Xe(new ha({eb:R})):new Xe(u.pa),b.Ha(u.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mm(){}t=mm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function va(){}va.prototype.g=function(u,b){return new zt(u,b)};function zt(u,b){Ve.call(this),this.g=new im(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(u?u["X-WebChannel-Client-Profile"]=b.va:u={"X-WebChannel-Client-Profile":b.va}),this.g.S=u,(u=b&&b.Sb)&&!m(u)&&(this.g.m=u),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!m(b)&&(this.g.D=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new _i(this)}E(zt,Ve),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){yc(this.g)},zt.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var R={};R.__data__=u,u=R}else this.u&&(R={},R.__data__=oc(u),u=R);b.i.push(new xw(b.Ya++,u)),b.G==3&&ga(b)},zt.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,zt.aa.N.call(this)};function gm(u){ac.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const R in b){u=R;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}E(gm,ac);function ym(){lc.call(this),this.status=1}E(ym,lc);function _i(u){this.g=u}E(_i,mm),_i.prototype.ua=function(){Ae(this.g,"a")},_i.prototype.ta=function(u){Ae(this.g,new gm(u))},_i.prototype.sa=function(u){Ae(this.g,new ym)},_i.prototype.ra=function(){Ae(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,j1=function(){return new va},V1=function(){return oa()},M1=jr,wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,ll=sa,xp.COMPLETE="complete",L1=xp,Pp.EventType=So,So.OPEN="a",So.CLOSE="b",So.ERROR="c",So.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,es=Pp,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,D1=Xe}).apply(typeof ja<"u"?ja:typeof self<"u"?self:typeof window<"u"?window:{});const iy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new k1("@firebase/firestore");function Ti(){return ai.logLevel}function he(t,...e){if(ai.logLevel<=Ne.DEBUG){const n=e.map(Hd);ai.debug(`Firestore (${ho}): ${t}`,...n)}}function Kn(t,...e){if(ai.logLevel<=Ne.ERROR){const n=e.map(Hd);ai.error(`Firestore (${ho}): ${t}`,...n)}}function eo(t,...e){if(ai.logLevel<=Ne.WARN){const n=e.map(Hd);ai.warn(`Firestore (${ho}): ${t}`,...n)}}function Hd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function De(t,e){t||ye()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Tk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bk{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new F1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new kt(e)}}class Sk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ak{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Ik(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pk(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new at(0,0))}static max(){return new _e(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Us?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Us{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const Ok=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Us{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return Ok.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ze.fromString(e))}static fromName(e){return new me(ze.fromString(e).popFirst(5))}static empty(){return new me(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ze(e.slice()))}}function Nk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new kr(i,me.empty(),e)}function Rk(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(_e.min(),me.empty(),-1)}static max(){return new kr(_e.max(),me.empty(),-1)}}function Ck(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==xk)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Lk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xu.oe=-1;function Du(t){return t==null}function Ql(t){return t===0&&1/t==-1/0}function Mk(t){return typeof t=="number"&&Number.isInteger(t)&&!Ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oy(e)),e=jk(t.get(n),e);return oy(e)}function jk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function oy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=o??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new lt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q1("Invalid base64 string: "+o):o}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const Fk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(De(!!t),typeof t=="string"){let e=0;const n=Fk.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lu(t){const e=t.mapValue.fields.__previous_value__;return Wd(e)?Lu(e):e}function qs(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wd(t)?4:qk(t)?9007199254740991:Uk(t)?10:11:ye()}function Rn(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qs(t).isEqual(qs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Pr(i.timestampValue),a=Pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?Ql(s)===Ql(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sy(s)!==sy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Rn(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function zs(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ze(o.integerValue||o.doubleValue),l=Ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ly(t.timestampValue,e.timestampValue);case 4:return ly(qs(t),qs(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Or(o),l=Or(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Pe(a[c],l[c]);if(d!==0)return d}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pe(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Pe(Ze(o.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,d;const h=o.fields||{},f=s.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Pe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:uy(p,E)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ba.mapValue&&s===Ba.mapValue)return 0;if(o===Ba.mapValue)return 1;if(s===Ba.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Pe(l[h],d[h]);if(f!==0)return f;const p=no(a[l[h]],c[d[h]]);if(p!==0)return p}return Pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function ly(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Pr(t),r=Pr(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function uy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=no(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function ro(t){return Th(t)}function Th(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Th(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Th(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function ul(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lu(t);return e?16+ul(e):16;case 5:return 2*t.stringValue.length;case 6:return Or(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ul(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mr(r.fields,(o,s)=>{i+=o.length+ul(s)}),i}(t.mapValue);default:throw ye()}}function bh(t){return!!t&&"integerValue"in t}function Kd(t){return!!t&&"arrayValue"in t}function cy(t){return!!t&&"nullValue"in t}function fy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cl(t){return!!t&&"mapValue"in t}function Uk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ds(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ft(ds(this.value))}}function $1(t){const e=[];return Mr(t.fields,(n,r)=>{const i=new yt([n]);if(cl(r)){const o=$1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,_e.min(),_e.min(),_e.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,_e.min(),_e.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,_e.min(),_e.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.position=e,this.inclusive=n}}function hy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=no(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function $k(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class ot extends z1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hk(e,n,r):n==="array-contains"?new Gk(e,r):n==="in"?new Qk(e,r):n==="not-in"?new Yk(e,r):n==="array-contains-any"?new Xk(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wk(e,r):new Kk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends z1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cn(e,n)}matches(e){return H1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function H1(t){return t.op==="and"}function W1(t){return zk(t)&&H1(t)}function zk(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function Sh(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(W1(t))return t.filters.map(e=>Sh(e)).join(",");{const e=t.filters.map(n=>Sh(n)).join(",");return`${t.op}(${e})`}}function K1(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&K1(s,i.filters[a]),!0):!1}(t,e):void ye()}function G1(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(G1).join(" ,")+"}"}(t):"Filter"}class Hk extends ot{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wk extends ot{constructor(e,n){super(e,"in",n),this.keys=Q1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kk extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Q1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class Gk extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kd(n)&&zs(n.arrayValue,this.value)}}class Qk extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zs(this.value.arrayValue,n)}}class Yk extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zs(this.value.arrayValue,n)}}class Xk extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function py(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Jk(t,e,n,r,i,o,s)}function Gd(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.ue=n}return e.ue}function Qd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$k(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dy(t.startAt,e.startAt)&&dy(t.endAt,e.endAt)}function Ah(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Zk(t,e,n,r,i,o,s,a){return new Mu(t,e,n,r,i,o,s,a)}function Y1(t){return new Mu(t)}function my(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eP(t){return t.collectionGroup!==null}function ps(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xl(o,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new Xl(yt.keyField(),r))}return e.ce}function On(t){const e=Ee(t);return e.le||(e.le=tP(e,ps(t))),e.le}function tP(t,e){if(t.limitType==="F")return py(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Xl(i.field,o)});const n=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return py(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ih(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return Qd(On(t),On(e))&&t.limitType===e.limitType}function X1(t){return`${Gd(On(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>G1(i)).join(", ")}]`),Du(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(On(t))}; limitType=${t.limitType})`}function ju(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ps(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=hy(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,ps(r),i)||r.endAt&&!function(s,a,l){const c=hy(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,ps(r),i))}(t,e)}function nP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J1(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const o=rP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rP(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?no(l,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return U1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Qe(me.comparator);function Gn(){return iP}const Z1=new Qe(me.comparator);function ts(...t){let e=Z1;for(const n of t)e=e.insert(n.key,n);return e}function eE(t){let e=Z1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return ms()}function tE(){return ms()}function ms(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const oP=new Qe(me.comparator),sP=new lt(me.comparator);function ke(...t){let e=sP;for(const n of t)e=e.add(n);return e}const aP=new lt(Pe);function lP(){return aP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function nE(t){return{integerValue:""+t}}function uP(t,e){return Mk(e)?nE(e):Yd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function cP(t,e,n){return t instanceof Jl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wd(o)&&(o=Lu(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Hs?iE(t,e):t instanceof Ws?oE(t,e):function(i,o){const s=rE(i,o),a=gy(s)+gy(i.Pe);return bh(s)&&bh(i.Pe)?nE(a):Yd(i.serializer,a)}(t,e)}function fP(t,e,n){return t instanceof Hs?iE(t,e):t instanceof Ws?oE(t,e):n}function rE(t,e){return t instanceof Zl?function(r){return bh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Jl extends Fu{}class Hs extends Fu{constructor(e){super(),this.elements=e}}function iE(t,e){const n=sE(e);for(const r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ws extends Fu{constructor(e){super(),this.elements=e}}function oE(t,e){let n=sE(e);for(const r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}class Zl extends Fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gy(t){return Ze(t.integerValue||t.doubleValue)}function sE(t){return Kd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hs&&i instanceof Hs||r instanceof Ws&&i instanceof Ws?to(r.elements,i.elements,Rn):r instanceof Zl&&i instanceof Zl?Rn(r.Pe,i.Pe):r instanceof Jl&&i instanceof Jl}(t.transform,e.transform)}class dP{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bu{}function aE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xd(t.key,En.none()):new ea(t.key,t.data,En.none());{const n=t.data,r=Ft.empty();let i=new lt(yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vr(t.key,r,new Yt(i.toArray()),En.none())}}function pP(t,e,n){t instanceof ea?function(i,o,s){const a=i.value.clone(),l=vy(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(i,o,s){if(!fl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=vy(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(lE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gs(t,e,n,r){return t instanceof ea?function(o,s,a,l){if(!fl(o.precondition,s))return a;const c=o.value.clone(),d=_y(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vr?function(o,s,a,l){if(!fl(o.precondition,s))return a;const c=_y(o.fieldTransforms,l,s),d=s.data;return d.setAll(lE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return fl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=rE(r.transform,i||null);o!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,o))}return n||null}function yy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(o,s)=>hP(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ea extends Bu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vr extends Bu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vy(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fP(s,a,n[i]))}return r}function _y(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,cP(o,s,e))}return r}class Xd extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gP extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&pP(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=aE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>yy(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>yy(n,r))}}class Jd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return oP}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Oe;function EP(t){switch(t){default:return ye();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function uE(t){if(t===void 0)return Kn("GRPC error has no .code"),ie.UNKNOWN;switch(t){case tt.OK:return ie.OK;case tt.CANCELLED:return ie.CANCELLED;case tt.UNKNOWN:return ie.UNKNOWN;case tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case tt.INTERNAL:return ie.INTERNAL;case tt.UNAVAILABLE:return ie.UNAVAILABLE;case tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case tt.NOT_FOUND:return ie.NOT_FOUND;case tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case tt.ABORTED:return ie.ABORTED;case tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case tt.DATA_LOSS:return ie.DATA_LOSS;default:return ye()}}(Oe=tt||(tt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Zr([4294967295,4294967295],0);function Ey(t){const e=wP().encode(t),n=new x1;return n.update(e),new Uint8Array(n.digest())}function wy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zr([n,r],0),new Zr([i,o],0)]}class Zd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ns(`Invalid padding: ${n}`);if(r<0)throw new ns(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ns(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ns(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Zr.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Zr.fromNumber(r)));return i.compare(TP)===1&&(i=new Zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ey(e),[r,i]=wy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Zd(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Ey(e),[r,i]=wy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ns extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uu(_e.min(),i,new Qe(Pe),Gn(),ke())}}class ta{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ta(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cE{constructor(e,n){this.targetId=e,this.me=n}}class fE{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ty{constructor(){this.fe=0,this.ge=by(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new ta(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=by()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gn(),this.qe=Ua(),this.Qe=Ua(),this.Ke=new Qe(Pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(Ah(o))if(r===0){const s=new me(o.path);this.We(n,s,Ot.newNoDocument(s,_e.min()))}else De(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Or(r).toUint8Array()}catch(l){if(l instanceof q1)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zd(s,i,o)}catch(l){return eo(l instanceof ns?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ah(a.target)){const l=new me(a.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Ot.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ke();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Uu(e,n,this.Ke,this.ke,r);return this.ke=Gn(),this.qe=Ua(),this.Qe=Ua(),this.Ke=new Qe(Pe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Ty,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new lt(Pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(Pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ty),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ua(){return new Qe(me.comparator)}function by(){return new Qe(me.comparator)}const SP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),IP=(()=>({and:"AND",or:"OR"}))();class kP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(t,e){return t.useProto3Json||Du(e)?e:{value:e}}function eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PP(t,e){return eu(t,e.toTimestamp())}function Nn(t){return De(!!t),_e.fromTimestamp(function(n){const r=Pr(n);return new at(r.seconds,r.nanos)}(t))}function ep(t,e){return Ph(t,e).canonicalString()}function Ph(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dE(t){const e=ze.fromString(t);return De(vE(e)),e}function Oh(t,e){return ep(t.databaseId,e.path)}function rf(t,e){const n=dE(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(mE(n))}function pE(t,e){return ep(t.databaseId,e)}function OP(t){const e=dE(t);return e.length===4?ze.emptyPath():mE(e)}function Nh(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mE(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sy(t,e,n){return{name:Oh(t,e),fields:n.value.mapValue.fields}}function NP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(De(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?ie.UNKNOWN:uE(c.code);return new pe(d,c.message||"")}(s);n=new fE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rf(t,r.document.name),o=Nn(r.document.updateTime),s=r.document.createTime?Nn(r.document.createTime):_e.min(),a=new Ft({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hl(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rf(t,r.document),o=r.readTime?Nn(r.readTime):_e.min(),s=Ot.newNoDocument(i,o),a=r.removedTargetIds||[];n=new hl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rf(t,r.document),o=r.removedTargetIds||[];n=new hl([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _P(i,o),a=r.targetId;n=new cE(a,s)}}return n}function RP(t,e){let n;if(e instanceof ea)n={update:Sy(t,e.key,e.value)};else if(e instanceof Xd)n={delete:Oh(t,e.key)};else if(e instanceof Vr)n={update:Sy(t,e.key,e.data),updateMask:BP(e.fieldMask)};else{if(!(e instanceof gP))return ye();n={verify:Oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Jl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zl)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function CP(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Nn(i.updateTime):Nn(o);return s.isEqual(_e.min())&&(s=Nn(o)),new dP(s,i.transformResults||[])}(n,e))):[]}function xP(t,e){return{documents:[pE(t,e.path)]}}function DP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pE(t,i);const o=function(c){if(c.length!==0)return yE(Cn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Si(f.field),direction:VP(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=kh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function LP(t){let e=OP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=gE(h);return f instanceof Cn&&W1(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(E){return new Xl(Ai(E.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Du(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Yl(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Yl(p,f)}(n.endAt)),Zk(e,i,s,o,a,"F",l,c)}function MP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ai(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ai(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ai(n.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ai(n.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Ai(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>gE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function VP(t){return SP[t]}function jP(t){return AP[t]}function FP(t){return IP[t]}function Si(t){return{fieldPath:t.canonicalString()}}function Ai(t){return yt.fromServerFormat(t.fieldPath)}function yE(t){return t instanceof ot?function(n){if(n.op==="=="){if(fy(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NAN"}};if(cy(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fy(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NAN"}};if(cy(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(n.field),op:jP(n.op),value:n.value}}}(t):t instanceof Cn?function(n){const r=n.getFilters().map(i=>yE(i));return r.length===1?r[0]:{compositeFilter:{op:FP(n.op),filters:r}}}(t):ye()}function BP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ht=e}}function qP(t){const e=LP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.ln=new zP}addToCollectionParentIndex(e,n){return this.ln.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(kr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class zP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(41943040,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new io(0)}static Qn(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class HP{constructor(e){this.Gn=e,this.buffer=new lt(Iy),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Iy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Yn(3e5)})}}class KP{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(xu.oe);const r=new HP(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Ay)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ti()<=Ne.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function GP(t,e){return new KP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gs(r.mutation,i,Yt.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ts();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Gn();const s=ms(),a=function(){return ms()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Vr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),gs(d.mutation,c,d.mutation.getFieldMask(),at.now())):s.set(c.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new YP(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ms();let i=new Qe((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Yt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ke()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=tE();d.forEach(f=>{if(!o.has(f)){const p=aE(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(Yr());let a=-1,l=o;return s.next(c=>te.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?te.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ke())).next(d=>({batchId:a,changes:eE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=ts();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ts();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const c=function(h,f){return new Mu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Ot.newInvalidDocument(d)))});let a=ts();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&gs(d.mutation,c,Yt.empty(),at.now()),ju(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return te.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:qP(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.overlays=new Qe(me.comparator),this.Er=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Yr(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qe((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Yr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Yr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return te.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vP(n,r));let o=this.Er.get(n);o===void 0&&(o=ke(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.dr=new lt(ut.Ar),this.Rr=new lt(ut.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ut(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new me(new ze([])),r=new ut(n,e),i=new ut(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new ze([])),r=new ut(n,e),i=new ut(n,e+1);let o=ke();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ut(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||Pe(e.br,n.br)}static Vr(e,n){return Pe(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new lt(ut.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new yP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Pe);return n.forEach(i=>{const o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new ut(new me(o),0);let a=new lt(Pe);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},s),te.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(n.mutations,i=>{const o=new ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ut(n,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.Nr=e,this.docs=function(){return new Qe(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ot.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Gn();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ck(Rk(d),r)<=0||(i.has(d.key)||ju(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Lr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rO(this)}getSize(e){return te.resolve(this.size)}}class rO extends QP{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.persistence=e,this.Br=new hi(n=>Gd(n),Qd),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new tp,this.targetCount=0,this.Qr=io.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),te.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new io(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Un(n),te.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.Kr={},this.overlays={},this.$r=new xu(0),this.Ur=!1,this.Ur=!0,this.Wr=new eO,this.referenceDelegate=e(this),this.Gr=new iO(this),this.indexManager=new $P,this.remoteDocumentCache=function(i){return new nO(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new UP(n),this.jr=new JP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new tO(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new oO(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class oO extends Dk{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Zr=new tp,this.Xr=null}static ei(e){return new np(e)}get ti(){if(this.Xr)return this.Xr;throw ye()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),te.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=me.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return te.or([()=>te.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class tu{constructor(e,n){this.persistence=e,this.ri=new hi(r=>Vk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GP(this,n)}static ei(e,n){return new tu(e,n)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ul(e.data.value)),n}ir(e,n,r){return te.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return r2()?8:Lk(t2())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sO;return this.ts(e,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,n,s,a.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Ti()<=Ne.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Ti()<=Ne.DEBUG&&he("QueryEngine","Query:",bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ti()<=Ne.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):te.resolve())}Xi(e,n){if(my(n))return te.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ih(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ke(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,s,l.readTime)?this.Xi(e,Ih(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return my(n)||i.isEqual(_e.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?te.resolve(null):(Ti()<=Ne.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bi(n)),this.os(e,s,n,Nk(i,-1)).next(a=>a))})}rs(e,n){let r=new lt(J1(e));return n.forEach((i,o)=>{ju(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Ti()<=Ne.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",bi(n)),this.Zi.getDocumentsMatchingQuery(e,n,kr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Qe(Pe),this.cs=new hi(o=>Gd(o),Qd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function uO(t,e,n,r){return new lO(t,e,n,r)}async function EE(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ke();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:a}))})})}function cO(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=te.resolve();return f.forEach(E=>{p=p.next(()=>d.getEntry(l,E)).next(_=>{const w=c.docVersions.get(E);De(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wE(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function fO(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Et.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(_,w,g){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&a.push(n.Gr.updateTargetData(o,p))});let l=Gn(),c=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(hO(o,s,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(_e.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(h=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.us=i,o))}function hO(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Gn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:s,Es:i}})}function dO(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pO(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new ur(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Rh(t,e,n){const r=Ee(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!mo(s))throw s;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ky(t,e,n){const r=Ee(t);let i=_e.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=Ee(l),f=h.cs.get(d);return f!==void 0?te.resolve(h.us.get(f)):h.Gr.getTargetData(c,d)}(r,s,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:ke())).next(a=>(mO(r,nP(e),a),{documents:a,ds:o})))}function mO(t,e,n){let r=t.ls.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class Py{constructor(){this.activeTargetIds=lP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gO{constructor(){this._o=new Py,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Py,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa=null;function of(){return qa===null?qa=function(){return 268435456+Math.round(2147483648*Math.random())}():qa++,"0x"+qa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class EO extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=of(),l=this.No(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,l,c,i).then(d=>(he("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=vO[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=of();return new Promise((s,a)=>{const l=new D1;l.setWithCredentials(!0),l.listenOnce(L1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ll.NO_ERROR:const d=l.getResponseJson();he(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case ll.TIMEOUT:he(It,`RPC '${e}' ${o} timed out`),a(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:const h=l.getStatus();if(he(It,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const E=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(g)>=0?g:ie.UNKNOWN}(p.status);a(new pe(E,p.message))}else a(new pe(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{he(It,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);he(It,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=of(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=j1(),a=V1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");he(It,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let f=!1,p=!1;const E=new _O({Eo:w=>{p?he(It,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(he(It,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),he(It,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Ao:()=>h.close()}),_=(w,g,m)=>{w.listen(g,v=>{try{m(v)}catch(y){setTimeout(()=>{throw y},0)}})};return _(h,es.EventType.OPEN,()=>{p||(he(It,`RPC '${e}' stream ${i} transport opened.`),E.So())}),_(h,es.EventType.CLOSE,()=>{p||(p=!0,he(It,`RPC '${e}' stream ${i} transport closed`),E.Do())}),_(h,es.EventType.ERROR,w=>{p||(p=!0,eo(It,`RPC '${e}' stream ${i} transport errored:`,w),E.Do(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),_(h,es.EventType.MESSAGE,w=>{var g;if(!p){const m=w.data[0];De(!!m);const v=m,y=(v==null?void 0:v.error)||((g=v[0])===null||g===void 0?void 0:g.error);if(y){he(It,`RPC '${e}' stream ${i} received error:`,y);const k=y.status;let C=function(N){const I=tt[N];if(I!==void 0)return uE(I)}(k),S=y.message;C===void 0&&(C=ie.INTERNAL,S="Unknown error status: "+k+" with message "+y.message),p=!0,E.Do(new pe(C,S)),h.close()}else he(It,`RPC '${e}' stream ${i} received:`,m),E.vo(m)}}),_(a,M1.STAT_EVENT,w=>{w.stat===wh.PROXY?he(It,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===wh.NOPROXY&&he(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.bo()},0),E}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){return new kP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,o,s,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new TE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new pe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wO extends bE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=NP(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Nn(s.readTime):_e.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ah(l)?{documents:xP(o,l)}:{query:DP(o,l).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hE(o,s.resumeToken);const c=kh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=eu(o,s.snapshotVersion.toTimestamp());const c=kh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=MP(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.c_(n)}}class TO extends bE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=CP(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Nh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RP(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,Ph(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,Ph(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ie.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Kn(n),this.C_=!1):he("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{di(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.k_.add(4),await na(c),c.K_.set("Unknown"),c.k_.delete(4),await $u(c)}(this))})}),this.K_=new SO(r,i)}}async function $u(t){if(di(t))for(const e of t.q_)await e(!0)}async function na(t){for(const e of t.q_)await e(!1)}function SE(t,e){const n=Ee(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),ap(n)?sp(n):go(n).s_()&&op(n,e))}function ip(t,e){const n=Ee(t),r=go(n);n.B_.delete(e),r.s_()&&AE(n,e),n.B_.size===0&&(r.s_()?r.a_():di(n)&&n.K_.set("Unknown"))}function op(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}go(t).V_(e)}function AE(t,e){t.U_.xe(e),go(t).m_(e)}function sp(t){t.U_=new bP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),go(t).start(),t.K_.F_()}function ap(t){return di(t)&&!go(t).i_()&&t.B_.size>0}function di(t){return Ee(t).k_.size===0}function IE(t){t.U_=void 0}async function IO(t){t.K_.set("Online")}async function kO(t){t.B_.forEach((e,n)=>{op(t,e)})}async function PO(t,e){IE(t),ap(t)?(t.K_.O_(e),sp(t)):t.K_.set("Unknown")}async function OO(t,e,n){if(t.K_.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nu(t,r)}else if(e instanceof hl?t.U_.$e(e):e instanceof cE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(_e.min()))try{const r=await wE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.B_.get(l);if(!d)return;o.B_.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),AE(o,l);const h=new ur(d.target,l,c,d.sequenceNumber);op(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await nu(t,r)}}async function nu(t,e,n){if(!mo(e))throw e;t.k_.add(1),await na(t),t.K_.set("Offline"),n||(n=()=>wE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await $u(t)})}function kE(t,e){return e().catch(n=>nu(t,n,e))}async function zu(t){const e=Ee(t),n=Rr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NO(e);)try{const i=await dO(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,RO(e,i)}catch(i){await nu(e,i)}PE(e)&&OE(e)}function NO(t){return di(t)&&t.L_.length<10}function RO(t,e){t.L_.push(e);const n=Rr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function PE(t){return di(t)&&!Rr(t).i_()&&t.L_.length>0}function OE(t){Rr(t).start()}async function CO(t){Rr(t).w_()}async function xO(t){const e=Rr(t);for(const n of t.L_)e.g_(n.mutations)}async function DO(t,e,n){const r=t.L_.shift(),i=Jd.from(r,e,n);await kE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zu(t)}async function LO(t,e){e&&Rr(t).f_&&await async function(r,i){if(function(s){return EP(s)&&s!==ie.ABORTED}(i.code)){const o=r.L_.shift();Rr(r).__(),await kE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zu(r)}}(t,e),PE(t)&&OE(t)}async function Ny(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=di(n);n.k_.add(3),await na(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await $u(n)}async function MO(t,e){const n=Ee(t);e?(n.k_.delete(2),await $u(n)):e||(n.k_.add(2),await na(n),n.K_.set("Unknown"))}function go(t){return t.W_||(t.W_=function(n,r,i){const o=Ee(n);return o.b_(),new wO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:IO.bind(null,t),mo:kO.bind(null,t),po:PO.bind(null,t),R_:OO.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),ap(t)?sp(t):t.K_.set("Unknown")):(await t.W_.stop(),IE(t))})),t.W_}function Rr(t){return t.G_||(t.G_=function(n,r,i){const o=Ee(n);return o.b_(),new TO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:CO.bind(null,t),po:LO.bind(null,t),p_:xO.bind(null,t),y_:DO.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await zu(t)):(await t.G_.stop(),t.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new lp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),mo(t))return new pe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{static emptySet(e){return new Hi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=ts(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.z_=new Qe(me.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ye():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new oo(e,n,Hi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class jO{constructor(){this.queries=Cy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=Cy(),o.forEach((s,a)=>{for(const l of a.J_)l.onError(r)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function Cy(){return new hi(t=>X1(t),Vu)}async function FO(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new VO,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=up(s,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&cp(n)}async function BO(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UO(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&cp(n)}function qO(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function cp(t){t.X_.forEach(e=>{e.next()})}var Ch,xy;(xy=Ch||(Ch={})).na="default",xy.Cache="cache";class $O{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ch.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class zO{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=J1(e),this.ma=new Hi(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Ry,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=ju(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?E!==_&&(r.track({type:3,doc:p}),w=!0):this.ya(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Va(p,l)>0||c&&this.Va(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(s=s.add(p),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,h)=>function(p,E){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(p)-_(E)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,s.length!==0||c?{snapshot:new oo(this.query,e.ma,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ry,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new RE(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new NE(r))}),n}va(e){this.da=e.ds,this.Ra=ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return oo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WO{constructor(e){this.key=e,this.Fa=!1}}class KO{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new hi(a=>X1(a),Vu),this.Oa=new Map,this.Na=new Set,this.La=new Qe(me.comparator),this.Ba=new Map,this.ka=new tp,this.qa={},this.Qa=new Map,this.Ka=io.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function GO(t,e,n=!0){const r=VE(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await CE(r,e,n,!0),i}async function QO(t,e){const n=VE(t);await CE(n,e,!0,!1)}async function CE(t,e,n,r){const i=await pO(t.localStore,On(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await YO(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&SE(t.remoteStore,i),a}async function YO(t,e,n,r,i){t.Ua=(h,f,p)=>async function(_,w,g,m){let v=w.view.ga(g);v.ss&&(v=await ky(_.localStore,w.query,!1).then(({documents:S})=>w.view.ga(S,v)));const y=m&&m.targetChanges.get(w.targetId),k=m&&m.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(v,_.isPrimaryClient,y,k);return Ly(_,w.targetId,C.ba),C.snapshot}(t,h,f,p);const o=await ky(t.localStore,e,!0),s=new zO(e,o.ds),a=s.ga(o.documents),l=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);Ly(t,n,c.ba);const d=new HO(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function XO(t,e,n){const r=Ee(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!Vu(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),xh(r,i.targetId)}).catch(po)):(xh(r,i.targetId),await Rh(r.localStore,i.targetId,!0))}async function JO(t,e){const n=Ee(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function ZO(t,e,n){const r=sN(t);try{const i=await function(s,a){const l=Ee(s),c=at.now(),d=a.reduce((p,E)=>p.add(E.key),ke());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=Gn(),_=ke();return l.hs.getEntries(p,d).next(w=>{E=w,E.forEach((g,m)=>{m.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(w=>{h=w;const g=[];for(const m of a){const v=mP(m,h.get(m.key).overlayedDocument);v!=null&&g.push(new Vr(m.key,v,$1(v.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:eE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.qa[s.currentUser.toKey()];c||(c=new Qe(Pe)),c=c.insert(a,l),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ra(r,i.changes),await zu(r.remoteStore)}catch(i){const o=up(i,"Failed to persist write");n.reject(o)}}async function xE(t,e){const n=Ee(t);try{const r=await fO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?De(s.Fa):i.removedDocuments.size>0&&(De(s.Fa),s.Fa=!1))}),await ra(n,r,e)}catch(r){await po(r)}}function Dy(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.J_)f.ea(a)&&(c=!0)}),c&&cp(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eN(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Qe(me.comparator);s=s.insert(o,Ot.newNoDocument(o,_e.min()));const a=ke().add(o),l=new Uu(_e.min(),new Map,new Qe(Pe),s,a);await xE(r,l),r.La=r.La.remove(o),r.Ba.delete(e),fp(r)}else await Rh(r.localStore,e,!1).then(()=>xh(r,e,n)).catch(po)}async function tN(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await cO(n.localStore,e);LE(n,r,null),DE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ra(n,i)}catch(i){await po(i)}}async function nN(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(De(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);LE(r,e,n),DE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ra(r,i)}catch(i){await po(i)}}function DE(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function LE(t,e,n){const r=Ee(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function xh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||ME(t,r)})}function ME(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(ip(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),fp(t))}function Ly(t,e,n){for(const r of n)r instanceof NE?(t.ka.addReference(r.key,e),rN(t,r)):r instanceof RE?(he("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||ME(t,r.key)):ye()}function rN(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(he("SyncEngine","New document in limbo: "+n),t.Na.add(r),fp(t))}function fp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new me(ze.fromString(e)),r=t.Ka.next();t.Ba.set(r,new WO(n)),t.La=t.La.insert(n,r),SE(t.remoteStore,new ur(On(Y1(n.path)),r,"TargetPurposeLimboResolution",xu.oe))}}async function ra(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{s.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=rp.zi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(l,c){const d=Ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(c,f=>te.forEach(f.Wi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>te.forEach(f.Gi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!mo(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.us.get(f),E=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(E);d.us=d.us.insert(f,_)}}}(r.localStore,o))}async function iN(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await EE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(l=>{l.reject(new pe(ie.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ra(n,r.Ts)}}function oN(t,e){const n=Ee(t),r=n.Ba.get(e);if(r&&r.Fa)return ke().add(r.key);{let i=ke();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function VE(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.Ma.R_=UO.bind(null,e.eventManager),e.Ma.Wa=qO.bind(null,e.eventManager),e}function sN(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,e),e}class ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return uO(this.persistence,new aO,e.initialUser,this.serializer)}ja(e){return new _E(np.ei,this.serializer)}za(e){return new gO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ru.provider={build:()=>new ru};class aN extends ru{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){De(this.persistence.referenceDelegate instanceof tu);const r=this.persistence.referenceDelegate.garbageCollector;return new WP(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new _E(r=>tu.ei(r,n),this.serializer)}}class Dh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iN.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jO}()}createDatastore(e){const n=qu(e.databaseInfo.databaseId),r=function(o){return new EO(o)}(e.databaseInfo);return function(o,s,a,l){return new bO(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new AO(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Dy(this.syncEngine,n,0),function(){return Oy.p()?new Oy:new yO}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const h=new KO(i,o,s,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);he("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await na(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dh.provider={build:()=>new Dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=B1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=up(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function af(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function My(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cN(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ny(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ny(e.remoteStore,i)),t._onlineComponents=e}async function cN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await af(t,new ru)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await af(t,new aN(void 0));return t._offlineComponents}async function jE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await My(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await My(t,new Dh))),t._onlineComponents}function fN(t){return jE(t).then(e=>e.syncEngine)}async function hN(t){const e=await jE(t),n=e.eventManager;return n.onListen=GO.bind(null,e.syncEngine),n.onUnlisten=XO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JO.bind(null,e.syncEngine),n}function dN(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new lN({next:f=>{d.eu(),s.enqueueAndForget(()=>BO(o,h)),f.fromCache&&l.source==="server"?c.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new $O(a,d,{includeMetadataChanges:!0,ua:!0});return FO(o,h)}(await hN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pN(t,e,n,r){if(e===!0&&r===!0)throw new pe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jy(t){if(!me.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fy(t){if(me.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(t);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wk;switch(r.type){case"firstParty":return new Ak(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vy.get(n);r&&(he("ComponentProvider","Removing Datastore"),Vy.delete(n),r.terminate())}(this),Promise.resolve()}}function mN(t,e,n,r={}){var i;const o=(t=li(t,Hu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=e2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(c)}t._authCredentials=new Tk(new F1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Tr extends Wu{constructor(e,n,r){super(e,n,Y1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new me(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function UE(t,e,...n){if(t=Ir(t),BE("collection","path",e),t instanceof Hu){const r=ze.fromString(e,...n);return Fy(r),new Tr(t,null,r)}{if(!(t instanceof ln||t instanceof Tr))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Fy(r),new Tr(t.firestore,null,r)}}function dp(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=B1.newId()),BE("doc","path",e),t instanceof Hu){const r=ze.fromString(e,...n);return jy(r),new ln(t,null,new me(r))}{if(!(t instanceof ln||t instanceof Tr))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return jy(r),new ln(t.firestore,t instanceof Tr?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new TE(this,"async_queue_retry"),this.fu=()=>{const r=sf();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new wr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!mo(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=lp.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&ye()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ia extends Hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Uy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function gN(t,e){const n=typeof t=="object"?t:uk(),r=typeof t=="string"?t:e||"(default)",i=ok(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=JI("firestore");o&&mN(i,...o)}return i}function qE(t){if(t._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yN(t),t._firestoreClient}function yN(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new Bk(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uN(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(Et.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ea(e,this.data,n,this.fieldTransforms)}}class $E{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class yp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return iu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(zE(this.Mu)&&vN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class EN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qu(e)}$u(e,n,r,i=!1){return new yp({Mu:e,methodName:n,Ku:r,path:yt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(t){const e=t._freezeSettings(),n=qu(t._databaseId);return new EN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wN(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);vp("Data must be an object, but it was:",s,r);const a=WE(r,s);let l,c;if(o.merge)l=new Yt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=Lh(e,h,n);if(!s.contains(f))throw new pe(ie.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GE(d,f)||d.push(f)}l=new Yt(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new _N(new Ft(a),l,c)}class Gu extends pp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gu}}function TN(t,e,n,r){const i=t.$u(1,e,n);vp("Data must be an object, but it was:",i,r);const o=[],s=Ft.empty();Mr(r,(l,c)=>{const d=_p(e,l,n);c=Ir(c);const h=i.Bu(d);if(c instanceof Gu)o.push(d);else{const f=Qu(c,h);f!=null&&(o.push(d),s.set(d,f))}});const a=new Yt(o);return new $E(s,a,i.fieldTransforms)}function bN(t,e,n,r,i,o){const s=t.$u(1,e,n),a=[Lh(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Lh(e,o[f])),l.push(o[f+1]);const c=[],d=Ft.empty();for(let f=a.length-1;f>=0;--f)if(!GE(c,a[f])){const p=a[f];let E=l[f];E=Ir(E);const _=s.Bu(p);if(E instanceof Gu)c.push(p);else{const w=Qu(E,_);w!=null&&(c.push(p),d.set(p,w))}}const h=new Yt(c);return new $E(d,h,s.fieldTransforms)}function Qu(t,e){if(KE(t=Ir(t)))return vp("Unsupported field value:",e,t),WE(t,e);if(t instanceof pp)return function(r,i){if(!zE(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Qu(a,i.ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:eu(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(i.serializer,o)}}if(r instanceof mp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:hE(i.serializer,r._byteString)};if(r instanceof ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ep(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gp)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Yd(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${hp(r)}`)}(t,e)}function WE(t,e){const n={};return U1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(r,i)=>{const o=Qu(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function KE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof mp||t instanceof so||t instanceof ln||t instanceof pp||t instanceof gp)}function vp(t,e,n){if(!KE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hp(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Lh(t,e,n){if((e=Ir(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return _p(t,e);throw iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function _p(t,e,n){if(e.search(SN)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pe(ie.INVALID_ARGUMENT,a+t+l)}function GE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AN extends QE{data(){return super.data()}}function YE(t,e){return typeof e=="string"?_p(t,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kN{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new gp(o)}convertGeoPoint(e){return new mp(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qs(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(vE(r));const i=new $s(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ON extends QE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dl extends ON{data(e={}){return super.data(e)}}class NN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dl(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new dl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new dl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $a(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:RN(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class CN extends kN{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function xN(t){t=li(t,Wu);const e=li(t.firestore,ia),n=qE(e),r=new CN(e);return IN(t._query),dN(n,t._query).then(i=>new NN(e,r,t,i))}function DN(t,e,n,...r){t=li(t,ln);const i=li(t.firestore,ia),o=HE(i);let s;return s=typeof(e=Ir(e))=="string"||e instanceof Ku?bN(o,"updateDoc",t._key,e,n,r):TN(o,"updateDoc",t._key,e),Ep(i,[s.toMutation(t._key,En.exists(!0))])}function LN(t){return Ep(li(t.firestore,ia),[new Xd(t._key,En.none())])}function MN(t,e){const n=li(t.firestore,ia),r=dp(t),i=PN(t.converter,e);return Ep(n,[wN(HE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function Ep(t,e){return function(r,i){const o=new wr;return r.asyncQueue.enqueueAndForget(async()=>ZO(await fN(r),i,o)),o.promise}(qE(t),e)}(function(e,n=!0){(function(i){ho=i})(lk),Gl(new Fs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ia(new bk(r.getProvider("auth-internal")),new kk(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),zi(iy,"4.7.5",e),zi(iy,"4.7.5","esm2017")})();const VN={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID",measurementId:"YOUR_MEASUREMENT_ID"},jN=N1(VN),Yu=gN(jN),FN={posts:JSON.parse(localStorage.getItem("posts")||"[]"),status:"idle",error:null},ys=Cu("posts/fetchPostsFromFirebase",async()=>{const t=UE(Yu,"posts");return(await xN(t)).docs.map(r=>{const i=r.data();return{id:r.id,title:i.title||"",body:i.body||"",date:i.date||"",reactions:i.reactions||{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},file:i.file||null}})}),BN=Cu("posts/addPostToFirebase",async t=>{const e=UE(Yu,"posts"),n=await MN(e,{title:t.title,body:t.body,date:t.date,reactions:t.reactions});return{...t,id:n.id}});Cu("posts/updatePost",async t=>{const e=dp(Yu,"posts",t.id);return await DN(e,{title:t.title,body:t.body,reactions:t.reactions,date:t.date}),t});const XE=Cu("posts/deletePost",async t=>{const e=dp(Yu,"posts",t);return await LN(e),t}),JE=VI({name:"posts",initialState:FN,reducers:{postAdded:{reducer(t,{payload:e}){t.posts.push(e),localStorage.setItem("posts",JSON.stringify(t.posts))},prepare(t,e,n){return{payload:{id:T1(),title:t,body:e,date:new Date().toISOString(),reactions:{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},file:n}}}},postDeleted(t,e){t.posts=t.posts.filter(n=>n.id!==e.payload),localStorage.setItem("posts",JSON.stringify(t.posts))},reactionAdded(t,e){const{postId:n,reaction:r}=e.payload,i=t.posts.find(o=>o.id===n);i&&(i.reactions[r]=(i.reactions[r]||0)+1)}},extraReducers(t){t.addCase(ys.pending,e=>{e.status="loading"}).addCase(ys.fulfilled,(e,n)=>{e.status="succeeded",e.posts=n.payload,localStorage.setItem("posts",JSON.stringify(e.posts))}).addCase(ys.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||null}).addCase(BN.fulfilled,(e,n)=>{e.posts.push(n.payload),localStorage.setItem("posts",JSON.stringify(e.posts))}).addCase(XE.fulfilled,(e,n)=>{e.posts=e.posts.filter(r=>r.id!==n.payload),localStorage.setItem("posts",JSON.stringify(e.posts))})}}),{postAdded:UN,postDeleted:PV,reactionAdded:qN}=JE.actions,$N=t=>t.posts.posts,zN=(t,e)=>t.posts.posts.find(n=>n.id===e),HN=t=>t.posts.status,WN=t=>t.posts.error,KN=JE.reducer,ZE=6e4,ew=36e5,za=43200,qy=1440,$y=Symbol.for("constructDateFrom");function Xu(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$y in t?t[$y](e):t instanceof Date?new t.constructor(e):new Date(e)}function xn(t,e){return Xu(e||t,t)}let GN={};function QN(){return GN}function zy(t){const e=xn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wp(t,...e){const n=Xu.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function pl(t,e){const n=+xn(t)-+xn(e);return n<0?-1:n>0?1:n}function YN(t){return Xu(t,Date.now())}function XN(t,e,n){const[r,i]=wp(n==null?void 0:n.in,t,e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function JN(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function ZN(t,e){return+xn(t)-+xn(e)}function eR(t,e){const n=xn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function tR(t,e){const n=xn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function nR(t,e){const n=xn(t,e==null?void 0:e.in);return+eR(n,e)==+tR(n,e)}function rR(t,e,n){const[r,i,o]=wp(n==null?void 0:n.in,t,t,e),s=pl(i,o),a=Math.abs(XN(i,o));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*a);let l=pl(i,o)===-s;nR(r)&&a===1&&pl(r,o)===1&&(l=!1);const c=s*(a-+l);return c===0?0:c}function iR(t,e,n){const r=ZN(t,e)/1e3;return JN(n==null?void 0:n.roundingMethod)(r)}const oR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sR=(t,e,n)=>{let r;const i=oR[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cR={date:lf({formats:aR,defaultWidth:"full"}),time:lf({formats:lR,defaultWidth:"full"}),dateTime:lf({formats:uR,defaultWidth:"full"})},fR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hR=(t,e,n,r)=>fR[t];function zo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const dR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_R=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ER={ordinalNumber:_R,era:zo({values:dR,defaultWidth:"wide"}),quarter:zo({values:pR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zo({values:mR,defaultWidth:"wide"}),day:zo({values:gR,defaultWidth:"wide"}),dayPeriod:zo({values:yR,defaultWidth:"wide",formattingValues:vR,defaultFormattingWidth:"wide"})};function Ho(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?TR(a,h=>h.test(s)):wR(a,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function wR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function TR(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const SR=/^(\d+)(th|st|nd|rd)?/i,AR=/\d+/i,IR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kR={any:[/^b/i,/^(a|c)/i]},PR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OR={any:[/1/i,/2/i,/3/i,/4/i]},NR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MR={ordinalNumber:bR({matchPattern:SR,parsePattern:AR,valueCallback:t=>parseInt(t,10)}),era:Ho({matchPatterns:IR,defaultMatchWidth:"wide",parsePatterns:kR,defaultParseWidth:"any"}),quarter:Ho({matchPatterns:PR,defaultMatchWidth:"wide",parsePatterns:OR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ho({matchPatterns:NR,defaultMatchWidth:"wide",parsePatterns:RR,defaultParseWidth:"any"}),day:Ho({matchPatterns:CR,defaultMatchWidth:"wide",parsePatterns:xR,defaultParseWidth:"any"}),dayPeriod:Ho({matchPatterns:DR,defaultMatchWidth:"any",parsePatterns:LR,defaultParseWidth:"any"})},VR={code:"en-US",formatDistance:sR,formatLong:cR,formatRelative:hR,localize:ER,match:MR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jR(t,e,n){const r=QN(),i=(n==null?void 0:n.locale)??r.locale??VR,o=2520,s=pl(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[l,c]=wp(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),d=iR(c,l),h=(zy(c)-zy(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,a):d<10?i.formatDistance("lessThanXSeconds",10,a):d<20?i.formatDistance("lessThanXSeconds",20,a):d<40?i.formatDistance("halfAMinute",0,a):d<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):f===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",f,a);if(f<45)return i.formatDistance("xMinutes",f,a);if(f<90)return i.formatDistance("aboutXHours",1,a);if(f<qy){const E=Math.round(f/60);return i.formatDistance("aboutXHours",E,a)}else{if(f<o)return i.formatDistance("xDays",1,a);if(f<za){const E=Math.round(f/qy);return i.formatDistance("xDays",E,a)}else if(f<za*2)return p=Math.round(f/za),i.formatDistance("aboutXMonths",p,a)}if(p=rR(c,l),p<12){const E=Math.round(f/za);return i.formatDistance("xMonths",E,a)}else{const E=p%12,_=Math.trunc(p/12);return E<3?i.formatDistance("aboutXYears",_,a):E<9?i.formatDistance("overXYears",_,a):i.formatDistance("almostXYears",_+1,a)}}function FR(t,e){return jR(t,YN(t),e)}function BR(t,e){const n=()=>Xu(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=zR(t);let o;if(i.date){const c=HR(i.date,r);o=WR(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=KR(i.time),isNaN(a)))return n();if(i.timezone){if(l=GR(i.timezone),isNaN(l))return n()}else{const c=new Date(s+a),d=xn(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return xn(s+a+l,e==null?void 0:e.in)}const Ha={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},UR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$R=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zR(t){const e={},n=t.split(Ha.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ha.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ha.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Ha.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function HR(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function WR(t,e){if(e===null)return new Date(NaN);const n=t.match(UR);if(!n)return new Date(NaN);const r=!!n[4],i=Wo(n[1]),o=Wo(n[2])-1,s=Wo(n[3]),a=Wo(n[4]),l=Wo(n[5])-1;if(r)return ZR(e,a,l)?QR(e,a,l):new Date(NaN);{const c=new Date(0);return!XR(e,o,s)||!JR(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function Wo(t){return t?parseInt(t):1}function KR(t){const e=t.match(qR);if(!e)return NaN;const n=uf(e[1]),r=uf(e[2]),i=uf(e[3]);return eC(n,r,i)?n*ew+r*ZE+i*1e3:NaN}function uf(t){return t&&parseFloat(t.replace(",","."))||0}function GR(t){if(t==="Z")return 0;const e=t.match($R);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return tC(r,i)?n*(r*ew+i*ZE):NaN}function QR(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const YR=[31,null,31,30,31,30,31,31,30,31,30,31];function tw(t){return t%400===0||t%4===0&&t%100!==0}function XR(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(YR[e]||(tw(t)?29:28))}function JR(t,e){return e>=1&&e<=(tw(t)?366:365)}function ZR(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function eC(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function tC(t,e){return e>=0&&e<=59}const nw=({timestamp:t})=>{let e="";if(t){const n=BR(t);e=`${FR(n)} ago`}return se("span",{title:t,children:["  ",F("i",{children:e})]})},nC={thumbsUp:"👍",wow:"😮",heart:"❤️",rocket:"🚀",coffee:"☕"},rw=({post:t})=>{const e=ku(),n=t.reactions||{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},r=Object.entries(nC).map(([i,o])=>se("button",{type:"button",className:"reactionButton",onClick:()=>e(qN({postId:t.id,reaction:i})),children:[o," ",n[i],"  "]},i));return F("div",{children:r})},rC=({post:t})=>se("article",{children:[F("h2",{children:t.title}),se("p",{className:"excerpt",children:[t.body.substring(0,75),"..."]}),se("p",{className:"postCredit",children:[F(Vt,{to:`/post/${t.id}`,children:"View Post"}),F(nw,{timestamp:t.date})]}),F(rw,{post:t})]}),iC=()=>{const t=ku(),e=al(o=>$N(o)),n=al(o=>HN(o)),r=al(o=>WN(o));le.useEffect(()=>{n==="idle"&&t(ys())},[t,n]);let i;return n==="loading"?i=F("p",{children:"Loading..."}):n==="succeeded"?i=e.filter(a=>a.date&&new Date(a.date).getTime()<Date.now()).slice().sort((a,l)=>{const c=a.date||"";return(l.date||"").localeCompare(c)}).map(a=>F(rC,{post:a},a.id)):n==="failed"&&(i=F("p",{children:r})),F("section",{children:i})};function oC(){this.__data__=[],this.size=0}var sC=oC;function aC(t,e){return t===e||t!==t&&e!==e}var iw=aC,lC=iw;function uC(t,e){for(var n=t.length;n--;)if(lC(t[n][0],e))return n;return-1}var Ju=uC,cC=Ju,fC=Array.prototype,hC=fC.splice;function dC(t){var e=this.__data__,n=cC(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hC.call(e,n,1),--this.size,!0}var pC=dC,mC=Ju;function gC(t){var e=this.__data__,n=mC(e,t);return n<0?void 0:e[n][1]}var yC=gC,vC=Ju;function _C(t){return vC(this.__data__,t)>-1}var EC=_C,wC=Ju;function TC(t,e){var n=this.__data__,r=wC(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var bC=TC,SC=sC,AC=pC,IC=yC,kC=EC,PC=bC;function yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yo.prototype.clear=SC;yo.prototype.delete=AC;yo.prototype.get=IC;yo.prototype.has=kC;yo.prototype.set=PC;var Zu=yo,OC=Zu;function NC(){this.__data__=new OC,this.size=0}var RC=NC;function CC(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var xC=CC;function DC(t){return this.__data__.get(t)}var LC=DC;function MC(t){return this.__data__.has(t)}var VC=MC,jC=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt,ow=jC,FC=ow,BC=typeof self=="object"&&self&&self.Object===Object&&self,UC=FC||BC||Function("return this")(),Xn=UC,qC=Xn,$C=qC.Symbol,Tp=$C,Hy=Tp,sw=Object.prototype,zC=sw.hasOwnProperty,HC=sw.toString,Ko=Hy?Hy.toStringTag:void 0;function WC(t){var e=zC.call(t,Ko),n=t[Ko];try{t[Ko]=void 0;var r=!0}catch{}var i=HC.call(t);return r&&(e?t[Ko]=n:delete t[Ko]),i}var KC=WC,GC=Object.prototype,QC=GC.toString;function YC(t){return QC.call(t)}var XC=YC,Wy=Tp,JC=KC,ZC=XC,ex="[object Null]",tx="[object Undefined]",Ky=Wy?Wy.toStringTag:void 0;function nx(t){return t==null?t===void 0?tx:ex:Ky&&Ky in Object(t)?JC(t):ZC(t)}var ec=nx;function rx(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var aw=rx,ix=ec,ox=aw,sx="[object AsyncFunction]",ax="[object Function]",lx="[object GeneratorFunction]",ux="[object Proxy]";function cx(t){if(!ox(t))return!1;var e=ix(t);return e==ax||e==lx||e==sx||e==ux}var lw=cx,fx=Xn,hx=fx["__core-js_shared__"],dx=hx,cf=dx,Gy=function(){var t=/[^.]+$/.exec(cf&&cf.keys&&cf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function px(t){return!!Gy&&Gy in t}var mx=px,gx=Function.prototype,yx=gx.toString;function vx(t){if(t!=null){try{return yx.call(t)}catch{}try{return t+""}catch{}}return""}var uw=vx,_x=lw,Ex=mx,wx=aw,Tx=uw,bx=/[\\^$.*+?()[\]{}|]/g,Sx=/^\[object .+?Constructor\]$/,Ax=Function.prototype,Ix=Object.prototype,kx=Ax.toString,Px=Ix.hasOwnProperty,Ox=RegExp("^"+kx.call(Px).replace(bx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nx(t){if(!wx(t)||Ex(t))return!1;var e=_x(t)?Ox:Sx;return e.test(Tx(t))}var Rx=Nx;function Cx(t,e){return t==null?void 0:t[e]}var xx=Cx,Dx=Rx,Lx=xx;function Mx(t,e){var n=Lx(t,e);return Dx(n)?n:void 0}var vo=Mx,Vx=vo,jx=Xn,Fx=Vx(jx,"Map"),bp=Fx,Bx=vo,Ux=Bx(Object,"create"),tc=Ux,Qy=tc;function qx(){this.__data__=Qy?Qy(null):{},this.size=0}var $x=qx;function zx(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hx=zx,Wx=tc,Kx="__lodash_hash_undefined__",Gx=Object.prototype,Qx=Gx.hasOwnProperty;function Yx(t){var e=this.__data__;if(Wx){var n=e[t];return n===Kx?void 0:n}return Qx.call(e,t)?e[t]:void 0}var Xx=Yx,Jx=tc,Zx=Object.prototype,eD=Zx.hasOwnProperty;function tD(t){var e=this.__data__;return Jx?e[t]!==void 0:eD.call(e,t)}var nD=tD,rD=tc,iD="__lodash_hash_undefined__";function oD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rD&&e===void 0?iD:e,this}var sD=oD,aD=$x,lD=Hx,uD=Xx,cD=nD,fD=sD;function _o(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_o.prototype.clear=aD;_o.prototype.delete=lD;_o.prototype.get=uD;_o.prototype.has=cD;_o.prototype.set=fD;var hD=_o,Yy=hD,dD=Zu,pD=bp;function mD(){this.size=0,this.__data__={hash:new Yy,map:new(pD||dD),string:new Yy}}var gD=mD;function yD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vD=yD,_D=vD;function ED(t,e){var n=t.__data__;return _D(e)?n[typeof e=="string"?"string":"hash"]:n.map}var nc=ED,wD=nc;function TD(t){var e=wD(this,t).delete(t);return this.size-=e?1:0,e}var bD=TD,SD=nc;function AD(t){return SD(this,t).get(t)}var ID=AD,kD=nc;function PD(t){return kD(this,t).has(t)}var OD=PD,ND=nc;function RD(t,e){var n=ND(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var CD=RD,xD=gD,DD=bD,LD=ID,MD=OD,VD=CD;function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eo.prototype.clear=xD;Eo.prototype.delete=DD;Eo.prototype.get=LD;Eo.prototype.has=MD;Eo.prototype.set=VD;var cw=Eo,jD=Zu,FD=bp,BD=cw,UD=200;function qD(t,e){var n=this.__data__;if(n instanceof jD){var r=n.__data__;if(!FD||r.length<UD-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new BD(r)}return n.set(t,e),this.size=n.size,this}var $D=qD,zD=Zu,HD=RC,WD=xC,KD=LC,GD=VC,QD=$D;function wo(t){var e=this.__data__=new zD(t);this.size=e.size}wo.prototype.clear=HD;wo.prototype.delete=WD;wo.prototype.get=KD;wo.prototype.has=GD;wo.prototype.set=QD;var YD=wo,XD="__lodash_hash_undefined__";function JD(t){return this.__data__.set(t,XD),this}var ZD=JD;function e4(t){return this.__data__.has(t)}var t4=e4,n4=cw,r4=ZD,i4=t4;function ou(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new n4;++e<n;)this.add(t[e])}ou.prototype.add=ou.prototype.push=r4;ou.prototype.has=i4;var o4=ou;function s4(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var a4=s4;function l4(t,e){return t.has(e)}var u4=l4,c4=o4,f4=a4,h4=u4,d4=1,p4=2;function m4(t,e,n,r,i,o){var s=n&d4,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=n&p4?new c4:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var E=t[h],_=e[h];if(r)var w=s?r(_,E,h,e,t,o):r(E,_,h,t,e,o);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!f4(e,function(g,m){if(!h4(p,m)&&(E===g||i(E,g,n,r,o)))return p.push(m)})){f=!1;break}}else if(!(E===_||i(E,_,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var fw=m4,g4=Xn,y4=g4.Uint8Array,v4=y4;function _4(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var E4=_4;function w4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var T4=w4,Xy=Tp,Jy=v4,b4=iw,S4=fw,A4=E4,I4=T4,k4=1,P4=2,O4="[object Boolean]",N4="[object Date]",R4="[object Error]",C4="[object Map]",x4="[object Number]",D4="[object RegExp]",L4="[object Set]",M4="[object String]",V4="[object Symbol]",j4="[object ArrayBuffer]",F4="[object DataView]",Zy=Xy?Xy.prototype:void 0,ff=Zy?Zy.valueOf:void 0;function B4(t,e,n,r,i,o,s){switch(n){case F4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j4:return!(t.byteLength!=e.byteLength||!o(new Jy(t),new Jy(e)));case O4:case N4:case x4:return b4(+t,+e);case R4:return t.name==e.name&&t.message==e.message;case D4:case M4:return t==e+"";case C4:var a=A4;case L4:var l=r&k4;if(a||(a=I4),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=P4,s.set(t,e);var d=S4(a(t),a(e),r,i,o,s);return s.delete(t),d;case V4:if(ff)return ff.call(t)==ff.call(e)}return!1}var U4=B4;function q4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $4=q4,z4=Array.isArray,Sp=z4,H4=$4,W4=Sp;function K4(t,e,n){var r=e(t);return W4(t)?r:H4(r,n(t))}var G4=K4;function Q4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Y4=Q4;function X4(){return[]}var J4=X4,Z4=Y4,eL=J4,tL=Object.prototype,nL=tL.propertyIsEnumerable,ev=Object.getOwnPropertySymbols,rL=ev?function(t){return t==null?[]:(t=Object(t),Z4(ev(t),function(e){return nL.call(t,e)}))}:eL,iL=rL;function oL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sL=oL;function aL(t){return t!=null&&typeof t=="object"}var rc=aL,lL=ec,uL=rc,cL="[object Arguments]";function fL(t){return uL(t)&&lL(t)==cL}var hL=fL,tv=hL,dL=rc,hw=Object.prototype,pL=hw.hasOwnProperty,mL=hw.propertyIsEnumerable,gL=tv(function(){return arguments}())?tv:function(t){return dL(t)&&pL.call(t,"callee")&&!mL.call(t,"callee")},yL=gL,su={exports:{}};function vL(){return!1}var _L=vL;su.exports;(function(t,e){var n=Xn,r=_L,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(su,su.exports);var dw=su.exports,EL=9007199254740991,wL=/^(?:0|[1-9]\d*)$/;function TL(t,e){var n=typeof t;return e=e??EL,!!e&&(n=="number"||n!="symbol"&&wL.test(t))&&t>-1&&t%1==0&&t<e}var bL=TL,SL=9007199254740991;function AL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SL}var pw=AL,IL=ec,kL=pw,PL=rc,OL="[object Arguments]",NL="[object Array]",RL="[object Boolean]",CL="[object Date]",xL="[object Error]",DL="[object Function]",LL="[object Map]",ML="[object Number]",VL="[object Object]",jL="[object RegExp]",FL="[object Set]",BL="[object String]",UL="[object WeakMap]",qL="[object ArrayBuffer]",$L="[object DataView]",zL="[object Float32Array]",HL="[object Float64Array]",WL="[object Int8Array]",KL="[object Int16Array]",GL="[object Int32Array]",QL="[object Uint8Array]",YL="[object Uint8ClampedArray]",XL="[object Uint16Array]",JL="[object Uint32Array]",Ue={};Ue[zL]=Ue[HL]=Ue[WL]=Ue[KL]=Ue[GL]=Ue[QL]=Ue[YL]=Ue[XL]=Ue[JL]=!0;Ue[OL]=Ue[NL]=Ue[qL]=Ue[RL]=Ue[$L]=Ue[CL]=Ue[xL]=Ue[DL]=Ue[LL]=Ue[ML]=Ue[VL]=Ue[jL]=Ue[FL]=Ue[BL]=Ue[UL]=!1;function ZL(t){return PL(t)&&kL(t.length)&&!!Ue[IL(t)]}var eM=ZL;function tM(t){return function(e){return t(e)}}var nM=tM,au={exports:{}};au.exports;(function(t,e){var n=ow,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(au,au.exports);var rM=au.exports,iM=eM,oM=nM,nv=rM,rv=nv&&nv.isTypedArray,sM=rv?oM(rv):iM,mw=sM,aM=sL,lM=yL,uM=Sp,cM=dw,fM=bL,hM=mw,dM=Object.prototype,pM=dM.hasOwnProperty;function mM(t,e){var n=uM(t),r=!n&&lM(t),i=!n&&!r&&cM(t),o=!n&&!r&&!i&&hM(t),s=n||r||i||o,a=s?aM(t.length,String):[],l=a.length;for(var c in t)(e||pM.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fM(c,l)))&&a.push(c);return a}var gM=mM,yM=Object.prototype;function vM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||yM;return t===n}var _M=vM;function EM(t,e){return function(n){return t(e(n))}}var wM=EM,TM=wM,bM=TM(Object.keys,Object),SM=bM,AM=_M,IM=SM,kM=Object.prototype,PM=kM.hasOwnProperty;function OM(t){if(!AM(t))return IM(t);var e=[];for(var n in Object(t))PM.call(t,n)&&n!="constructor"&&e.push(n);return e}var NM=OM,RM=lw,CM=pw;function xM(t){return t!=null&&CM(t.length)&&!RM(t)}var DM=xM,LM=gM,MM=NM,VM=DM;function jM(t){return VM(t)?LM(t):MM(t)}var FM=jM,BM=G4,UM=iL,qM=FM;function $M(t){return BM(t,qM,UM)}var zM=$M,iv=zM,HM=1,WM=Object.prototype,KM=WM.hasOwnProperty;function GM(t,e,n,r,i,o){var s=n&HM,a=iv(t),l=a.length,c=iv(e),d=c.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:KM.call(e,f)))return!1}var p=o.get(t),E=o.get(e);if(p&&E)return p==e&&E==t;var _=!0;o.set(t,e),o.set(e,t);for(var w=s;++h<l;){f=a[h];var g=t[f],m=e[f];if(r)var v=s?r(m,g,f,e,t,o):r(g,m,f,t,e,o);if(!(v===void 0?g===m||i(g,m,n,r,o):v)){_=!1;break}w||(w=f=="constructor")}if(_&&!w){var y=t.constructor,k=e.constructor;y!=k&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(_=!1)}return o.delete(t),o.delete(e),_}var QM=GM,YM=vo,XM=Xn,JM=YM(XM,"DataView"),ZM=JM,e3=vo,t3=Xn,n3=e3(t3,"Promise"),r3=n3,i3=vo,o3=Xn,s3=i3(o3,"Set"),a3=s3,l3=vo,u3=Xn,c3=l3(u3,"WeakMap"),f3=c3,Mh=ZM,Vh=bp,jh=r3,Fh=a3,Bh=f3,gw=ec,To=uw,ov="[object Map]",h3="[object Object]",sv="[object Promise]",av="[object Set]",lv="[object WeakMap]",uv="[object DataView]",d3=To(Mh),p3=To(Vh),m3=To(jh),g3=To(Fh),y3=To(Bh),Wr=gw;(Mh&&Wr(new Mh(new ArrayBuffer(1)))!=uv||Vh&&Wr(new Vh)!=ov||jh&&Wr(jh.resolve())!=sv||Fh&&Wr(new Fh)!=av||Bh&&Wr(new Bh)!=lv)&&(Wr=function(t){var e=gw(t),n=e==h3?t.constructor:void 0,r=n?To(n):"";if(r)switch(r){case d3:return uv;case p3:return ov;case m3:return sv;case g3:return av;case y3:return lv}return e});var v3=Wr,hf=YD,_3=fw,E3=U4,w3=QM,cv=v3,fv=Sp,hv=dw,T3=mw,b3=1,dv="[object Arguments]",pv="[object Array]",Wa="[object Object]",S3=Object.prototype,mv=S3.hasOwnProperty;function A3(t,e,n,r,i,o){var s=fv(t),a=fv(e),l=s?pv:cv(t),c=a?pv:cv(e);l=l==dv?Wa:l,c=c==dv?Wa:c;var d=l==Wa,h=c==Wa,f=l==c;if(f&&hv(t)){if(!hv(e))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new hf),s||T3(t)?_3(t,e,n,r,i,o):E3(t,e,l,n,r,i,o);if(!(n&b3)){var p=d&&mv.call(t,"__wrapped__"),E=h&&mv.call(e,"__wrapped__");if(p||E){var _=p?t.value():t,w=E?e.value():e;return o||(o=new hf),i(_,w,n,r,o)}}return f?(o||(o=new hf),w3(t,e,n,r,i,o)):!1}var I3=A3,k3=I3,gv=rc;function yw(t,e,n,r,i){return t===e?!0:t==null||e==null||!gv(t)&&!gv(e)?t!==t&&e!==e:k3(t,e,n,r,yw,i)}var P3=yw,O3=P3;function N3(t,e){return O3(t,e)}var R3=N3,vw={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Kt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),c=i(46),d=i(47),h=i(48),f=i(49),p=i(12),E=i(32),_=i(33),w=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:d.default,Inline:c.default,Text:f.default,Attributor:{Attribute:p.default,Class:E.default,Style:_.default,Store:w.default}};r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)m.hasOwnProperty(v)&&(g[v]=m[v])};return function(g,m){w(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(g,w);function g(m){var v=this;return m="[Parchment] "+m,v=w.call(this,m)||this,v.message=m,v.name=v.constructor.name,v}return g}(Error);r.ParchmentError=s;var a={},l={},c={},d={};r.DATA_KEY="__blot";var h;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(w,g){var m=E(w);if(m==null)throw new s("Unable to create "+w+" blot");var v=m,y=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:v.create(g);return new v(y,g)}r.create=f;function p(w,g){return g===void 0&&(g=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:g?p(w.parentNode,g):null}r.find=p;function E(w,g){g===void 0&&(g=h.ANY);var m;if(typeof w=="string")m=d[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)m=d.text;else if(typeof w=="number")w&h.LEVEL&h.BLOCK?m=d.block:w&h.LEVEL&h.INLINE&&(m=d.inline);else if(w instanceof HTMLElement){var v=(w.getAttribute("class")||"").split(/\s+/);for(var y in v)if(m=l[v[y]],m)break;m=m||c[w.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}r.query=E;function _(){for(var w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];if(w.length>1)return w.map(function(y){return _(y)});var m=w[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new s("Invalid definition");if(m.blotName==="abstract")throw new s("Cannot register abstract class");if(d[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(y){return y.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var v=Array.isArray(m.tagName)?m.tagName:[m.tagName];v.forEach(function(y){(c[y]==null||m.className==null)&&(c[y]=m)})}return m}r.register=_},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),c=String.fromCharCode(0),d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var p={};return h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},d.prototype.push=function(h){var f=this.ops.length,p=this.ops[f-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(s(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],p=[];return this.forEach(function(E){var _=h(E)?f:p;_.push(E)}),[f,p]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var p=[],E=l.iterator(this.ops),_=0;_<f&&E.hasNext();){var w;_<h?w=E.next(h-_):(w=E.next(f-_),p.push(w)),_+=l.length(w)}return new d(p)},d.prototype.compose=function(h){var f=l.iterator(this.ops),p=l.iterator(h.ops),E=[],_=p.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var w=_.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),E.push(f.next());_.retain-w>0&&p.next(_.retain-w)}for(var g=new d(E);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(f.peekType()==="delete")g.push(f.next());else{var m=Math.min(f.peekLength(),p.peekLength()),v=f.next(m),y=p.next(m);if(typeof y.retain=="number"){var k={};typeof v.retain=="number"?k.retain=m:k.insert=v.insert;var C=l.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(C&&(k.attributes=C),g.push(k),!p.hasNext()&&s(g.ops[g.ops.length-1],k)){var S=new d(f.rest());return g.concat(S).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&g.push(y)}return g.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var p=[this,h].map(function(m){return m.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:c;var y=m===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),E=new d,_=o(p[0],p[1],f),w=l.iterator(this.ops),g=l.iterator(h.ops);return _.forEach(function(m){for(var v=m[1].length;v>0;){var y=0;switch(m[0]){case o.INSERT:y=Math.min(g.peekLength(),v),E.push(g.next(y));break;case o.DELETE:y=Math.min(v,w.peekLength()),w.next(y),E.delete(y);break;case o.EQUAL:y=Math.min(w.peekLength(),g.peekLength(),v);var k=w.next(y),C=g.next(y);s(k.insert,C.insert)?E.retain(y,l.attributes.diff(k.attributes,C.attributes)):E.push(C).delete(y);break}v-=y}}),E.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var p=l.iterator(this.ops),E=new d,_=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),g=l.length(w)-p.peekLength(),m=typeof w.insert=="string"?w.insert.indexOf(f,g)-g:-1;if(m<0)E.push(p.next());else if(m>0)E.push(p.next(m));else{if(h(E,p.next(1).attributes||{},_)===!1)return;_+=1,E=new d}}E.length()>0&&h(E,{},_)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var p=l.iterator(this.ops),E=l.iterator(h.ops),_=new d;p.hasNext()||E.hasNext();)if(p.peekType()==="insert"&&(f||E.peekType()!=="insert"))_.retain(l.length(p.next()));else if(E.peekType()==="insert")_.push(E.next());else{var w=Math.min(p.peekLength(),E.peekLength()),g=p.next(w),m=E.next(w);if(g.delete)continue;m.delete?_.push(m):_.retain(w,l.attributes.transform(g.attributes,m.attributes,f))}return _.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var p=l.iterator(this.ops),E=0;p.hasNext()&&E<=h;){var _=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){h-=Math.min(_,h-E);continue}else w==="insert"&&(E<h||!f)&&(h+=_);E+=_}return h},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},c=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var E=i.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!E&&!_)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},d=function(p,E){s&&E.name==="__proto__"?s(p,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):p[E.name]=E.newValue},h=function(p,E){if(E==="__proto__")if(i.call(p,E)){if(a)return a(p,E).value}else return;return p[E]};n.exports=function f(){var p,E,_,w,g,m,v=arguments[0],y=1,k=arguments.length,C=!1;for(typeof v=="boolean"&&(C=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<k;++y)if(p=arguments[y],p!=null)for(E in p)_=h(v,E),w=h(p,E),v!==w&&(C&&w&&(c(w)||(g=l(w)))?(g?(g=!1,m=_&&l(_)?_:[]):m=_&&c(_)?_:{},d(v,{name:E,newValue:f(C,m,w)})):typeof w<"u"&&d(v,{name:E,newValue:w}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(O,P){for(var L=0;L<P.length;L++){var U=P[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,P,L){return P&&A(O.prototype,P),L&&A(O,L),O}}(),s=function A(O,P,L){O===null&&(O=Function.prototype);var U=Object.getOwnPropertyDescriptor(O,P);if(U===void 0){var H=Object.getPrototypeOf(O);return H===null?void 0:A(H,P,L)}else{if("value"in U)return U.value;var W=U.get;return W===void 0?void 0:W.call(L)}},a=i(3),l=v(a),c=i(2),d=v(c),h=i(0),f=v(h),p=i(16),E=v(p),_=i(6),w=v(_),g=i(7),m=v(g);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function k(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function C(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var S=1,T=function(A){C(O,A);function O(){return y(this,O),k(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"attach",value:function(){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,U){var H=f.default.query(L,f.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,U)}},{key:"formatAt",value:function(L,U,H,W){this.format(H,W)}},{key:"insertAt",value:function(L,U,H){if(typeof U=="string"&&U.endsWith(`
`)){var W=f.default.create(N.blotName);this.parent.insertBefore(W,L===0?this:this.next),W.insertAt(0,U.slice(0,-1))}else s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,U,H)}}]),O}(f.default.Embed);T.scope=f.default.Scope.BLOCK_BLOT;var N=function(A){C(O,A);function O(P){y(this,O);var L=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return L.cache={},L}return o(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(L,U){return U.length()===0?L:L.insert(U.value(),I(U))},new d.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(L,U){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,L,U),this.cache={}}},{key:"formatAt",value:function(L,U,H,W){U<=0||(f.default.query(H,f.default.Scope.BLOCK)?L+U===this.length()&&this.format(H,W):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,L,Math.min(U,this.length()-L-1),H,W),this.cache={})}},{key:"insertAt",value:function(L,U,H){if(H!=null)return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,U,H);if(U.length!==0){var W=U.split(`
`),Q=W.shift();Q.length>0&&(L<this.length()-1||this.children.tail==null?s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var q=this;W.reduce(function(j,x){return q=q.split(j,!0),q.insertAt(0,x),x.length},L+Q.length)}}},{key:"insertBefore",value:function(L,U){var H=this.children.head;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,L,U),H instanceof E.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,U){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,L,U),this.cache={}}},{key:"optimize",value:function(L){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(L===0||L>=this.length()-S)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var W=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,L,U);return this.cache={},W}}}]),O}(f.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[w.default,f.default.Embed,m.default];function I(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(O=(0,l.default)(O,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?O:I(A.parent,O)}r.bubbleFormats=I,r.BlockEmbed=T,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(j,x){var M=[],B=!0,K=!1,z=void 0;try{for(var V=j[Symbol.iterator](),$;!(B=($=V.next()).done)&&(M.push($.value),!(x&&M.length===x));B=!0);}catch(Y){K=!0,z=Y}finally{try{!B&&V.return&&V.return()}finally{if(K)throw z}}return M}return function(j,x){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return q(j,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(j,x){for(var M=0;M<x.length;M++){var B=x[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,B.key,B)}}return function(j,x,M){return x&&q(j.prototype,x),M&&q(j,M),j}}();i(50);var l=i(2),c=I(l),d=i(14),h=I(d),f=i(8),p=I(f),E=i(9),_=I(E),w=i(0),g=I(w),m=i(15),v=I(m),y=i(3),k=I(y),C=i(10),S=I(C),T=i(34),N=I(T);function I(q){return q&&q.__esModule?q:{default:q}}function A(q,j,x){return j in q?Object.defineProperty(q,j,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[j]=x,q}function O(q,j){if(!(q instanceof j))throw new TypeError("Cannot call a class as a function")}var P=(0,S.default)("quill"),L=function(){a(q,null,[{key:"debug",value:function(x){x===!0&&(x="log"),S.default.level(x)}},{key:"find",value:function(x){return x.__quill||g.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&P.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var z=x.attrName||x.blotName;typeof z=="string"?this.register("formats/"+z,x,M):Object.keys(x).forEach(function(V){B.register(V,x[V],M)})}else this.imports[x]!=null&&!K&&P.warn("Overwriting "+x+" with",M),this.imports[x]=M,(x.startsWith("blots/")||x.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):x.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function q(j){var x=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,q),this.options=U(j,M),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",j);this.options.debug&&q.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(z){z===p.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(z,V){var $=x.selection.lastRange,Y=$&&$.length===0?$.index:void 0;H.call(x,function(){return x.editor.update(null,V,Y)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(q,[{key:"addContainer",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var B=x;x=document.createElement("div"),x.classList.add(B)}return this.container.insertBefore(x,M),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,M,B){var K=this,z=W(x,M,B),V=s(z,4);return x=V[0],M=V[1],B=V[3],H.call(this,function(){return K.editor.deleteText(x,M)},B,x,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var z=B.getSelection(!0),V=new c.default;if(z==null)return V;if(g.default.query(x,g.default.Scope.BLOCK))V=B.editor.formatLine(z.index,z.length,A({},x,M));else{if(z.length===0)return B.selection.format(x,M),V;V=B.editor.formatText(z.index,z.length,A({},x,M))}return B.setSelection(z,p.default.sources.SILENT),V},K)}},{key:"formatLine",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,M,B,K,z),X=s(Y,4);return x=X[0],M=X[1],$=X[2],z=X[3],H.call(this,function(){return V.editor.formatLine(x,M,$)},z,x,0)}},{key:"formatText",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,M,B,K,z),X=s(Y,4);return x=X[0],M=X[1],$=X[2],z=X[3],H.call(this,function(){return V.editor.formatText(x,M,$)},z,x,0)}},{key:"getBounds",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof x=="number"?B=this.selection.getBounds(x,M):B=this.selection.getBounds(x.index,x.length);var K=this.container.getBoundingClientRect();return{bottom:B.bottom-K.top,height:B.height,left:B.left-K.left,right:B.right-K.left,top:B.top-K.top,width:B.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,B=W(x,M),K=s(B,2);return x=K[0],M=K[1],this.editor.getContents(x,M)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,M):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,M)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,B=W(x,M),K=s(B,2);return x=K[0],M=K[1],this.editor.getText(x,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,M,B){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return H.call(this,function(){return K.editor.insertEmbed(x,M,B)},z,x)}},{key:"insertText",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,0,B,K,z),X=s(Y,4);return x=X[0],$=X[2],z=X[3],H.call(this,function(){return V.editor.insertText(x,M,$)},z,x,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,M,B){this.clipboard.dangerouslyPasteHTML(x,M,B)}},{key:"removeFormat",value:function(x,M,B){var K=this,z=W(x,M,B),V=s(z,4);return x=V[0],M=V[1],B=V[3],H.call(this,function(){return K.editor.removeFormat(x,M)},B,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){x=new c.default(x);var K=M.getLength(),z=M.editor.deleteText(0,K),V=M.editor.applyDelta(x),$=V.ops[V.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var Y=z.compose(V);return Y},B)}},{key:"setSelection",value:function(x,M,B){if(x==null)this.selection.setRange(null,M||q.sources.API);else{var K=W(x,M,B),z=s(K,4);x=z[0],M=z[1],B=z[3],this.selection.setRange(new m.Range(x,M),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new c.default().insert(x);return this.setContents(B,M)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(x);return this.selection.update(x),M}},{key:"updateContents",value:function(x){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return x=new c.default(x),M.editor.applyDelta(x,B)},B,!0)}}]),q}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:c.default,parchment:g.default,"core/module":_.default,"core/theme":N.default};function U(q,j){if(j=(0,k.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===L.DEFAULTS.theme)j.theme=N.default;else if(j.theme=L.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var x=(0,k.default)(!0,{},j.theme.DEFAULTS);[x,j].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var M=Object.keys(x.modules).concat(Object.keys(j.modules)),B=M.reduce(function(K,z){var V=L.import("modules/"+z);return V==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=V.DEFAULTS||{},K},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,k.default)(!0,{},L.DEFAULTS,{modules:B},x,j),["bounds","container","scrollingContainer"].forEach(function(K){typeof j[K]=="string"&&(j[K]=document.querySelector(j[K]))}),j.modules=Object.keys(j.modules).reduce(function(K,z){return j.modules[z]&&(K[z]=j.modules[z]),K},{}),j}function H(q,j,x,M){if(this.options.strict&&!this.isEnabled()&&j===p.default.sources.USER)return new c.default;var B=x==null?null:this.getSelection(),K=this.editor.delta,z=q();if(B!=null&&(x===!0&&(x=B.index),M==null?B=Q(B,z,j):M!==0&&(B=Q(B,x,M,j)),this.setSelection(B,p.default.sources.SILENT)),z.length()>0){var V,$=[p.default.events.TEXT_CHANGE,z,K,j];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat($)),j!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,$)}}return z}function W(q,j,x,M,B){var K={};return typeof q.index=="number"&&typeof q.length=="number"?typeof j!="number"?(B=M,M=x,x=j,j=q.length,q=q.index):(j=q.length,q=q.index):typeof j!="number"&&(B=M,M=x,x=j,j=0),(typeof x>"u"?"undefined":o(x))==="object"?(K=x,B=M):typeof x=="string"&&(M!=null?K[x]=M:B=x),B=B||p.default.sources.API,[q,j,K,B]}function Q(q,j,x,M){if(q==null)return null;var B=void 0,K=void 0;if(j instanceof c.default){var z=[q.index,q.index+q.length].map(function(X){return j.transformPosition(X,M!==p.default.sources.USER)}),V=s(z,2);B=V[0],K=V[1]}else{var $=[q.index,q.index+q.length].map(function(X){return X<j||X===j&&M===p.default.sources.USER?X:x>=0?X+x:Math.max(j,X+x)}),Y=s($,2);B=Y[0],K=Y[1]}return new m.Range(B,K-B)}r.expandConfig=U,r.overload=W,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(7),l=h(a),c=i(0),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function p(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function E(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var _=function(w){E(g,w);function g(){return f(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(v,y,k,C){if(g.compare(this.statics.blotName,k)<0&&d.default.query(k,d.default.Scope.BLOT)){var S=this.isolate(v,y);C&&S.wrap(k,C)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,v,y,k,C)}},{key:"optimize",value:function(v){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var k=g.order.indexOf(v),C=g.order.indexOf(y);return k>=0||C>=0?k-C:v===y?0:v<y?-1:1}}]),g}(d.default.Inline);_.allowedChildren=[_,d.default.Embed,l.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(v,y){for(var k=0;k<y.length;k++){var C=y[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,y,k){return y&&m(v.prototype,y),k&&m(v,k),v}}(),s=function m(v,y,k){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,y);if(C===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:m(S,y,k)}else{if("value"in C)return C.value;var T=C.get;return T===void 0?void 0:T.call(k)}},a=i(54),l=h(a),c=i(10),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function p(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function E(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var _=(0,d.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(m){document.addEventListener(m,function(){for(var v=arguments.length,y=Array(v),k=0;k<v;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var S;(S=C.__quill.emitter).handleDOM.apply(S,y)}})})});var g=function(m){E(v,m);function v(){f(this,v);var y=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",_.error),y}return o(v,[{key:"emit",value:function(){_.log.apply(_,arguments),s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var C=arguments.length,S=Array(C>1?C-1:0),T=1;T<C;T++)S[T-1]=arguments[T];(this.listeners[k.type]||[]).forEach(function(N){var I=N.node,A=N.handler;(k.target===I||I.contains(k.target))&&A.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,C,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:C,handler:S})}}]),v}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=c};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(c){if(o.indexOf(c)<=o.indexOf(s)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];(d=console)[c].apply(d,f)}}function l(c){return o.reduce(function(d,h){return d[h]=a.bind(console,h,c),d},{})}a.level=l.level=function(c){s=c},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,p,E){return E||(E={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?E.strict?f===p:f==p:h(f,p,E)};function c(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,p,E){var _,w;if(c(f)||c(p)||f.prototype!==p.prototype)return!1;if(a(f))return a(p)?(f=o.call(f),p=o.call(p),l(f,p,E)):!1;if(d(f)){if(!d(p)||f.length!==p.length)return!1;for(_=0;_<f.length;_++)if(f[_]!==p[_])return!1;return!0}try{var g=s(f),m=s(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),_=g.length-1;_>=0;_--)if(g[_]!=m[_])return!1;for(_=g.length-1;_>=0;_--)if(w=g[_],!l(f[w],p[w],E))return!1;return typeof f==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,c,d){d===void 0&&(d={}),this.attrName=l,this.keyName=c;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function T(N,I){var A=[],O=!0,P=!1,L=void 0;try{for(var U=N[Symbol.iterator](),H;!(O=(H=U.next()).done)&&(A.push(H.value),!(I&&A.length===I));O=!0);}catch(W){P=!0,L=W}finally{try{!O&&U.return&&U.return()}finally{if(P)throw L}}return A}return function(N,I){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return T(N,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(N,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,I,A){return I&&T(N.prototype,I),A&&T(N,A),N}}(),a=function T(N,I,A){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,I);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:T(P,I,A)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(A)}},l=i(2),c=m(l),d=i(0),h=m(d),f=i(4),p=m(f),E=i(6),_=m(E),w=i(7),g=m(w);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function y(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function k(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var C=function(T){k(N,T);function N(){return v(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(_.default);C.blotName="code",C.tagName="CODE";var S=function(T){k(N,T);function N(){return v(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"delta",value:function(){var A=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(P,L){return P.insert(L).insert(`
`,A.formats())},new c.default)}},{key:"format",value:function(A,O){if(!(A===this.statics.blotName&&O)){var P=this.descendant(g.default,this.length()-1),L=o(P,1),U=L[0];U!=null&&U.deleteAt(U.length()-1,1),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,A,O)}}},{key:"formatAt",value:function(A,O,P,L){if(O!==0&&!(h.default.query(P,h.default.Scope.BLOCK)==null||P===this.statics.blotName&&L===this.statics.formats(this.domNode))){var U=this.newlineIndex(A);if(!(U<0||U>=A+O)){var H=this.newlineIndex(A,!0)+1,W=U-H+1,Q=this.isolate(H,W),q=Q.next;Q.format(P,L),q instanceof N&&q.formatAt(0,A-H+O-W,P,L)}}}},{key:"insertAt",value:function(A,O,P){if(P==null){var L=this.descendant(g.default,A),U=o(L,2),H=U[0],W=U[1];H.insertAt(W,O)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var P=this.domNode.textContent.slice(A).indexOf(`
`);return P>-1?A+P:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,A);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(A),O.moveChildren(this),O.remove())}},{key:"replace",value:function(A){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var P=h.default.find(O);P==null?O.parentNode.removeChild(O):P instanceof h.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(A){var O=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,A);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),N}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=C,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(j,x){var M=[],B=!0,K=!1,z=void 0;try{for(var V=j[Symbol.iterator](),$;!(B=($=V.next()).done)&&(M.push($.value),!(x&&M.length===x));B=!0);}catch(Y){K=!0,z=Y}finally{try{!B&&V.return&&V.return()}finally{if(K)throw z}}return M}return function(j,x){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return q(j,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(j,x){for(var M=0;M<x.length;M++){var B=x[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,B.key,B)}}return function(j,x,M){return x&&q(j.prototype,x),M&&q(j,M),j}}(),l=i(2),c=O(l),d=i(20),h=O(d),f=i(0),p=O(f),E=i(13),_=O(E),w=i(24),g=O(w),m=i(4),v=O(m),y=i(16),k=O(y),C=i(21),S=O(C),T=i(11),N=O(T),I=i(3),A=O(I);function O(q){return q&&q.__esModule?q:{default:q}}function P(q,j,x){return j in q?Object.defineProperty(q,j,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[j]=x,q}function L(q,j){if(!(q instanceof j))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,H=function(){function q(j){L(this,q),this.scroll=j,this.delta=this.getDelta()}return a(q,[{key:"applyDelta",value:function(x){var M=this,B=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),x=Q(x),x.reduce(function(z,V){var $=V.retain||V.delete||V.insert.length||1,Y=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&B&&(B=!1,X=X.slice(0,-1)),z>=K&&!X.endsWith(`
`)&&(B=!0),M.scroll.insertAt(z,X);var ne=M.scroll.line(z),fe=s(ne,2),ge=fe[0],ve=fe[1],Se=(0,A.default)({},(0,m.bubbleFormats)(ge));if(ge instanceof v.default){var Re=ge.descendant(p.default.Leaf,ve),ht=s(Re,1),Ye=ht[0];Se=(0,A.default)(Se,(0,m.bubbleFormats)(Ye))}Y=h.default.attributes.diff(Se,Y)||{}}else if(o(V.insert)==="object"){var Z=Object.keys(V.insert)[0];if(Z==null)return z;M.scroll.insertAt(z,Z,V.insert[Z])}K+=$}return Object.keys(Y).forEach(function(ee){M.scroll.formatAt(z,$,ee,Y[ee])}),z+$},0),x.reduce(function(z,V){return typeof V.delete=="number"?(M.scroll.deleteAt(z,V.delete),z):z+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,M){return this.scroll.deleteAt(x,M),this.update(new c.default().retain(x).delete(M))}},{key:"formatLine",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[z])){var V=B.scroll.lines(x,Math.max(M,1)),$=M;V.forEach(function(Y){var X=Y.length();if(!(Y instanceof _.default))Y.format(z,K[z]);else{var ne=x-Y.offset(B.scroll),fe=Y.newlineIndex(ne+$)-ne+1;Y.formatAt(ne,fe,z,K[z])}$-=X})}}),this.scroll.optimize(),this.update(new c.default().retain(x).retain(M,(0,S.default)(K)))}},{key:"formatText",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){B.scroll.formatAt(x,M,z,K[z])}),this.update(new c.default().retain(x).retain(M,(0,S.default)(K)))}},{key:"getContents",value:function(x,M){return this.delta.slice(x,x+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,M){return x.concat(M.delta())},new c.default)}},{key:"getFormat",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],K=[];M===0?this.scroll.path(x).forEach(function(V){var $=s(V,1),Y=$[0];Y instanceof v.default?B.push(Y):Y instanceof p.default.Leaf&&K.push(Y)}):(B=this.scroll.lines(x,M),K=this.scroll.descendants(p.default.Leaf,x,M));var z=[B,K].map(function(V){if(V.length===0)return{};for(var $=(0,m.bubbleFormats)(V.shift());Object.keys($).length>0;){var Y=V.shift();if(Y==null)return $;$=W((0,m.bubbleFormats)(Y),$)}return $});return A.default.apply(A.default,z)}},{key:"getText",value:function(x,M){return this.getContents(x,M).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(x,M,B){return this.scroll.insertAt(x,M,B),this.update(new c.default().retain(x).insert(P({},M,B)))}},{key:"insertText",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,M),Object.keys(K).forEach(function(z){B.scroll.formatAt(x,M.length,z,K[z])}),this.update(new c.default().retain(x).insert(M,(0,S.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==v.default.blotName||x.children.length>1?!1:x.children.head instanceof k.default}},{key:"removeFormat",value:function(x,M){var B=this.getText(x,M),K=this.scroll.line(x+M),z=s(K,2),V=z[0],$=z[1],Y=0,X=new c.default;V!=null&&(V instanceof _.default?Y=V.newlineIndex($)-$+1:Y=V.length()-$,X=V.delta().slice($,$+Y-1).insert(`
`));var ne=this.getContents(x,M+Y),fe=ne.diff(new c.default().insert(B).concat(X)),ge=new c.default().retain(x).concat(fe);return this.applyDelta(ge)}},{key:"update",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(U)&&p.default.find(M[0].target)){var z=p.default.find(M[0].target),V=(0,m.bubbleFormats)(z),$=z.offset(this.scroll),Y=M[0].oldValue.replace(g.default.CONTENTS,""),X=new c.default().insert(Y),ne=new c.default().insert(z.value()),fe=new c.default().retain($).concat(X.diff(ne,B));x=fe.reduce(function(ge,ve){return ve.insert?ge.insert(ve.insert,V):ge.push(ve)},new c.default),this.delta=K.compose(x)}else this.delta=this.getDelta(),(!x||!(0,N.default)(K.compose(x),this.delta))&&(x=K.diff(this.delta,B));return x}}]),q}();function W(q,j){return Object.keys(j).reduce(function(x,M){return q[M]==null||(j[M]===q[M]?x[M]=j[M]:Array.isArray(j[M])?j[M].indexOf(q[M])<0&&(x[M]=j[M].concat([q[M]])):x[M]=[j[M],q[M]]),x},{})}function Q(q){return q.reduce(function(j,x){if(x.insert===1){var M=(0,S.default)(x.attributes);return delete M.image,j.insert({image:x.attributes.image},M)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,S.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var B=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(B,x.attributes)}return j.push(x)},new c.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function T(N,I){var A=[],O=!0,P=!1,L=void 0;try{for(var U=N[Symbol.iterator](),H;!(O=(H=U.next()).done)&&(A.push(H.value),!(I&&A.length===I));O=!0);}catch(W){P=!0,L=W}finally{try{!O&&U.return&&U.return()}finally{if(P)throw L}}return A}return function(N,I){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return T(N,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(N,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,I,A){return I&&T(N.prototype,I),A&&T(N,A),N}}(),a=i(0),l=g(a),c=i(21),d=g(c),h=i(11),f=g(h),p=i(8),E=g(p),_=i(10),w=g(_);function g(T){return T&&T.__esModule?T:{default:T}}function m(T){if(Array.isArray(T)){for(var N=0,I=Array(T.length);N<T.length;N++)I[N]=T[N];return I}else return Array.from(T)}function v(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}var y=(0,w.default)("quill:selection"),k=function T(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,T),this.index=N,this.length=I},C=function(){function T(N,I){var A=this;v(this,T),this.emitter=I,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,E.default.sources.USER),1)}),this.emitter.on(E.default.events.EDITOR_CHANGE,function(O,P){O===E.default.events.TEXT_CHANGE&&P.length()>0&&A.update(E.default.sources.SILENT)}),this.emitter.on(E.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var O=A.getNativeRange();O!=null&&O.start.node!==A.cursor.textNode&&A.emitter.once(E.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(E.default.events.SCROLL_OPTIMIZE,function(O,P){if(P.range){var L=P.range,U=L.startNode,H=L.startOffset,W=L.endNode,Q=L.endOffset;A.setNativeRange(U,H,W,Q)}}),this.update(E.default.sources.SILENT)}return s(T,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var A=I.cursor.restore();if(!A)return;setTimeout(function(){I.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(E.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var P=l.default.find(O.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var L=P.split(O.start.offset);P.parent.insertBefore(this.cursor,L)}else P.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(I,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();I=Math.min(I,O-1),A=Math.min(I+A,O-1)-I;var P=void 0,L=this.scroll.leaf(I),U=o(L,2),H=U[0],W=U[1];if(H==null)return null;var Q=H.position(W,!0),q=o(Q,2);P=q[0],W=q[1];var j=document.createRange();if(A>0){j.setStart(P,W);var x=this.scroll.leaf(I+A),M=o(x,2);if(H=M[0],W=M[1],H==null)return null;var B=H.position(W,!0),K=o(B,2);return P=K[0],W=K[1],j.setEnd(P,W),j.getBoundingClientRect()}else{var z="left",V=void 0;return P instanceof Text?(W<P.data.length?(j.setStart(P,W),j.setEnd(P,W+1)):(j.setStart(P,W-1),j.setEnd(P,W),z="right"),V=j.getBoundingClientRect()):(V=H.domNode.getBoundingClientRect(),W>0&&(z="right")),{bottom:V.top+V.height,height:V.height,left:V[z],right:V[z],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var A=I.getRangeAt(0);if(A==null)return null;var O=this.normalizeNative(A);return y.info("getNativeRange",O),O}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var A=this.normalizedToRange(I);return[A,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var A=this,O=[[I.start.node,I.start.offset]];I.native.collapsed||O.push([I.end.node,I.end.offset]);var P=O.map(function(H){var W=o(H,2),Q=W[0],q=W[1],j=l.default.find(Q,!0),x=j.offset(A.scroll);return q===0?x:j instanceof l.default.Container?x+j.length():x+j.index(Q,q)}),L=Math.min(Math.max.apply(Math,m(P)),this.scroll.length()-1),U=Math.min.apply(Math,[L].concat(m(P)));return new k(U,L-U)}},{key:"normalizeNative",value:function(I){if(!S(this.root,I.startContainer)||!I.collapsed&&!S(this.root,I.endContainer))return null;var A={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[A.start,A.end].forEach(function(O){for(var P=O.node,L=O.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>L)P=P.childNodes[L],L=0;else if(P.childNodes.length===L)P=P.lastChild,L=P instanceof Text?P.data.length:P.childNodes.length+1;else break;O.node=P,O.offset=L}),A}},{key:"rangeToNative",value:function(I){var A=this,O=I.collapsed?[I.index]:[I.index,I.index+I.length],P=[],L=this.scroll.length();return O.forEach(function(U,H){U=Math.min(L-1,U);var W=void 0,Q=A.scroll.leaf(U),q=o(Q,2),j=q[0],x=q[1],M=j.position(x,H!==0),B=o(M,2);W=B[0],x=B[1],P.push(W,x)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(I){var A=this.lastRange;if(A!=null){var O=this.getBounds(A.index,A.length);if(O!=null){var P=this.scroll.length()-1,L=this.scroll.line(Math.min(A.index,P)),U=o(L,1),H=U[0],W=H;if(A.length>0){var Q=this.scroll.line(Math.min(A.index+A.length,P)),q=o(Q,1);W=q[0]}if(!(H==null||W==null)){var j=I.getBoundingClientRect();O.top<j.top?I.scrollTop-=j.top-O.top:O.bottom>j.bottom&&(I.scrollTop+=O.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(I,A){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",I,A,O,P),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||O.parentNode==null))){var U=document.getSelection();if(U!=null)if(I!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||I!==H.startContainer||A!==H.startOffset||O!==H.endContainer||P!==H.endOffset){I.tagName=="BR"&&(A=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),O.tagName=="BR"&&(P=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var W=document.createRange();W.setStart(I,A),W.setEnd(O,P),U.removeAllRanges(),U.addRange(W)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof A=="string"&&(O=A,A=!1),y.info("setRange",I),I!=null){var P=this.rangeToNative(I);this.setNativeRange.apply(this,m(P).concat([A]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,A=this.lastRange,O=this.getRange(),P=o(O,2),L=P[0],U=P[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(A,this.lastRange)){var H;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[E.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(A),I];if((H=this.emitter).emit.apply(H,[E.default.events.EDITOR_CHANGE].concat(W)),I!==E.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,W)}}}}]),T}();function S(T,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),T.contains(N)}r.Range=k,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,w,g){return w&&E(_.prototype,w),g&&E(_,g),_}}(),s=function E(_,w,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,w);if(m===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"insertInto",value:function(g,m){g.children.length===0?s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var E in p)p.hasOwnProperty(E)&&(f[E]=p[E])};return function(f,p){h(f,p);function E(){this.constructor=f}f.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),c=function(h){o(f,h);function f(p){var E=h.call(this,p)||this;return E.build(),E}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(E){try{var _=d(E);p.insertBefore(_,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},f.prototype.deleteAt=function(p,E){if(p===0&&E===this.length())return this.remove();this.children.forEachAt(p,E,function(_,w,g){_.deleteAt(w,g)})},f.prototype.descendant=function(p,E){var _=this.children.find(E),w=_[0],g=_[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,g]:w instanceof f?w.descendant(p,g):[null,-1]},f.prototype.descendants=function(p,E,_){E===void 0&&(E=0),_===void 0&&(_=Number.MAX_VALUE);var w=[],g=_;return this.children.forEachAt(E,_,function(m,v,y){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&w.push(m),m instanceof f&&(w=w.concat(m.descendants(p,v,g))),g-=y}),w},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(p,E,_,w){this.children.forEachAt(p,E,function(g,m,v){g.formatAt(m,v,_,w)})},f.prototype.insertAt=function(p,E,_){var w=this.children.find(p),g=w[0],m=w[1];if(g)g.insertAt(m,E,_);else{var v=_==null?l.create("text",E):l.create(E,_);this.appendChild(v)}},f.prototype.insertBefore=function(p,E){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return p instanceof _}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,E)},f.prototype.length=function(){return this.children.reduce(function(p,E){return p+E.length()},0)},f.prototype.moveChildren=function(p,E){this.children.forEach(function(_){p.insertBefore(_,E)})},f.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var E=l.create(this.statics.defaultChild);this.appendChild(E),E.optimize(p)}else this.remove()},f.prototype.path=function(p,E){E===void 0&&(E=!1);var _=this.children.find(p,E),w=_[0],g=_[1],m=[[this,p]];return w instanceof f?m.concat(w.path(g,E)):(w!=null&&m.push([w,g]),m)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),h.prototype.replace.call(this,p)},f.prototype.split=function(p,E){if(E===void 0&&(E=!1),!E){if(p===0)return this;if(p===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(p,this.length(),function(w,g,m){w=w.split(g,E),_.appendChild(w)}),_},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,E){var _=this,w=[],g=[];p.forEach(function(m){m.target===_.domNode&&m.type==="childList"&&(w.push.apply(w,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(m);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===_.domNode)&&v.detach()}}),w.filter(function(m){return m.parentNode==_.domNode}).sort(function(m,v){return m===v?0:m.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var v=null;m.nextSibling!=null&&(v=l.find(m.nextSibling));var y=d(m);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(_),_.insertBefore(y,v||void 0))})},f}(a.default);function d(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(E){f.domNode.appendChild(E)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var E in p)p.hasOwnProperty(E)&&(f[E]=p[E])};return function(f,p){h(f,p);function E(){this.constructor=f}f.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),c=i(1),d=function(h){o(f,h);function f(p){var E=h.call(this,p)||this;return E.attributes=new a.default(E.domNode),E}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,E){var _=c.query(p);_ instanceof s.default?this.attributes.attribute(_,E):E&&_!=null&&(p!==this.statics.blotName||this.formats()[p]!==E)&&this.replaceWith(p,E)},f.prototype.formats=function(){var p=this.attributes.values(),E=this.statics.formats(this.domNode);return E!=null&&(p[this.statics.blotName]=E),p},f.prototype.replaceWith=function(p,E){var _=h.prototype.replaceWith.call(this,p,E);return this.attributes.copy(_),_},f.prototype.update=function(p,E){var _=this;h.prototype.update.call(this,p,E),p.some(function(w){return w.target===_.domNode&&w.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,E){var _=h.prototype.wrap.call(this,p,E);return _ instanceof f&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},f}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(c,d,h){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var f=s(!0,{},d);h||(f=Object.keys(f).reduce(function(E,_){return f[_]!=null&&(E[_]=f[_]),E},{}));for(var p in c)c[p]!==void 0&&d[p]===void 0&&(f[p]=c[p]);return Object.keys(f).length>0?f:void 0},diff:function(c,d){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var h=Object.keys(c).concat(Object.keys(d)).reduce(function(f,p){return o(c[p],d[p])||(f[p]=d[p]===void 0?null:d[p]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(c,d,h){if(typeof c!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(p,E){return c[E]===void 0&&(p[E]=d[E]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=a.length(d);if(c>=f-h?(c=f-h,this.index+=1,this.offset=0):this.offset+=c,typeof d.delete=="number")return{delete:c};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=c:typeof d.insert=="string"?p.insert=d.insert.substr(h,c):p.insert=d.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=c,this.index=d,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(_,w){return w!=null&&_ instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(_,w,g,m,v){typeof w=="object"&&(g=w.depth,m=w.prototype,v=w.includeNonEnumerable,w=w.circular);var y=[],k=[],C=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof g>"u"&&(g=1/0);function S(T,N){if(T===null)return null;if(N===0)return T;var I,A;if(typeof T!="object")return T;if(o(T,s))I=new s;else if(o(T,a))I=new a;else if(o(T,l))I=new l(function(j,x){T.then(function(M){j(S(M,N-1))},function(M){x(S(M,N-1))})});else if(c.__isArray(T))I=[];else if(c.__isRegExp(T))I=new RegExp(T.source,E(T)),T.lastIndex&&(I.lastIndex=T.lastIndex);else if(c.__isDate(T))I=new Date(T.getTime());else{if(C&&Buffer.isBuffer(T))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(T.length):I=new Buffer(T.length),T.copy(I),I;o(T,Error)?I=Object.create(T):typeof m>"u"?(A=Object.getPrototypeOf(T),I=Object.create(A)):(I=Object.create(m),A=m)}if(w){var O=y.indexOf(T);if(O!=-1)return k[O];y.push(T),k.push(I)}o(T,s)&&T.forEach(function(j,x){var M=S(x,N-1),B=S(j,N-1);I.set(M,B)}),o(T,a)&&T.forEach(function(j){var x=S(j,N-1);I.add(x)});for(var P in T){var L;A&&(L=Object.getOwnPropertyDescriptor(A,P)),!(L&&L.set==null)&&(I[P]=S(T[P],N-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(T),P=0;P<U.length;P++){var H=U[P],W=Object.getOwnPropertyDescriptor(T,H);W&&!W.enumerable&&!v||(I[H]=S(T[H],N-1),W.enumerable||Object.defineProperty(I,H,{enumerable:!1}))}if(v)for(var Q=Object.getOwnPropertyNames(T),P=0;P<Q.length;P++){var q=Q[P],W=Object.getOwnPropertyDescriptor(T,q);W&&W.enumerable||(I[q]=S(T[q],N-1),Object.defineProperty(I,q,{enumerable:!1}))}return I}return S(_,g)}c.clonePrototype=function(w){if(w===null)return null;var g=function(){};return g.prototype=w,new g};function d(_){return Object.prototype.toString.call(_)}c.__objToStr=d;function h(_){return typeof _=="object"&&d(_)==="[object Date]"}c.__isDate=h;function f(_){return typeof _=="object"&&d(_)==="[object Array]"}c.__isArray=f;function p(_){return typeof _=="object"&&d(_)==="[object RegExp]"}c.__isRegExp=p;function E(_){var w="";return _.global&&(w+="g"),_.ignoreCase&&(w+="i"),_.multiline&&(w+="m"),w}return c.__getRegExpFlags=E,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,O){var P=[],L=!0,U=!1,H=void 0;try{for(var W=A[Symbol.iterator](),Q;!(L=(Q=W.next()).done)&&(P.push(Q.value),!(O&&P.length===O));L=!0);}catch(q){U=!0,H=q}finally{try{!L&&W.return&&W.return()}finally{if(U)throw H}}return P}return function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(A,O){for(var P=0;P<O.length;P++){var L=O[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,O,P){return O&&I(A.prototype,O),P&&I(A,P),A}}(),a=function I(A,O,P){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,O);if(L===void 0){var U=Object.getPrototypeOf(A);return U===null?void 0:I(U,O,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},l=i(0),c=y(l),d=i(8),h=y(d),f=i(4),p=y(f),E=i(16),_=y(E),w=i(13),g=y(w),m=i(25),v=y(m);function y(I){return I&&I.__esModule?I:{default:I}}function k(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function C(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function S(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}function T(I){return I instanceof p.default||I instanceof f.BlockEmbed}var N=function(I){S(A,I);function A(O,P){k(this,A);var L=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O));return L.emitter=P.emitter,Array.isArray(P.whitelist)&&(L.whitelist=P.whitelist.reduce(function(U,H){return U[H]=!0,U},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,L){var U=this.line(P),H=o(U,2),W=H[0],Q=H[1],q=this.line(P+L),j=o(q,1),x=j[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,P,L),x!=null&&W!==x&&Q>0){if(W instanceof f.BlockEmbed||x instanceof f.BlockEmbed){this.optimize();return}if(W instanceof g.default){var M=W.newlineIndex(W.length(),!0);if(M>-1&&(W=W.split(M+1),W===x)){this.optimize();return}}else if(x instanceof g.default){var B=x.newlineIndex(0);B>-1&&x.split(B+1)}var K=x.children.head instanceof _.default?null:x.children.head;W.moveChildren(x,K),W.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,L,U,H){this.whitelist!=null&&!this.whitelist[U]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,P,L,U,H),this.optimize())}},{key:"insertAt",value:function(P,L,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[L])){if(P>=this.length())if(U==null||c.default.query(L,c.default.Scope.BLOCK)==null){var H=c.default.create(this.statics.defaultChild);this.appendChild(H),U==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,U)}else{var W=c.default.create(L,U);this.appendChild(W)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,P,L,U);this.optimize()}}},{key:"insertBefore",value:function(P,L){if(P.statics.scope===c.default.Scope.INLINE_BLOT){var U=c.default.create(this.statics.defaultChild);U.appendChild(P),P=U}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,P,L)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(T,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function H(W,Q,q){var j=[],x=q;return W.children.forEachAt(Q,q,function(M,B,K){T(M)?j.push(M):M instanceof c.default.Container&&(j=j.concat(H(M,B,x))),x-=K}),j};return U(this,P,L)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,P,L),P.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,P,L))}},{key:"path",value:function(P){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var L=h.default.sources.USER;typeof P=="string"&&(L=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,L,P),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,L,P)}}}]),A}(c.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[p.default,f.BlockEmbed,v.default],r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V($,Y){var X=[],ne=!0,fe=!1,ge=void 0;try{for(var ve=$[Symbol.iterator](),Se;!(ne=(Se=ve.next()).done)&&(X.push(Se.value),!(Y&&X.length===Y));ne=!0);}catch(Re){fe=!0,ge=Re}finally{try{!ne&&ve.return&&ve.return()}finally{if(fe)throw ge}}return X}return function($,Y){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V($,Y){for(var X=0;X<Y.length;X++){var ne=Y[X];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty($,ne.key,ne)}}return function($,Y,X){return Y&&V($.prototype,Y),X&&V($,X),$}}(),l=i(21),c=I(l),d=i(11),h=I(d),f=i(3),p=I(f),E=i(2),_=I(E),w=i(20),g=I(w),m=i(0),v=I(m),y=i(5),k=I(y),C=i(10),S=I(C),T=i(9),N=I(T);function I(V){return V&&V.__esModule?V:{default:V}}function A(V,$,Y){return $ in V?Object.defineProperty(V,$,{value:Y,enumerable:!0,configurable:!0,writable:!0}):V[$]=Y,V}function O(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}function P(V,$){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:V}function L(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);V.prototype=Object.create($&&$.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(V,$):V.__proto__=$)}var U=(0,S.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(V){L($,V),a($,null,[{key:"match",value:function(X,ne){return ne=z(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!ne[fe]!==X[fe]&&ne[fe]!==null})?!1:ne.key===(X.which||X.keyCode)}}]);function $(Y,X){O(this,$);var ne=P(this,($.__proto__||Object.getPrototypeOf($)).call(this,Y,X));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(fe){fe==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||ne.options.bindings[fe]&&ne.addBinding(ne.options.bindings[fe])}),ne.addBinding({key:$.keys.ENTER,shiftKey:null},M),ne.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},q),ne.addBinding({key:$.keys.DELETE},{collapsed:!0},j)):(ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),ne.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},x),ne.addBinding({key:$.keys.DELETE},{collapsed:!1},x),ne.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),ne.listen(),ne}return a($,[{key:"addBinding",value:function(X){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=z(X);if(ge==null||ge.key==null)return U.warn("Attempted to add invalid keyboard binding",ge);typeof ne=="function"&&(ne={handler:ne}),typeof fe=="function"&&(fe={handler:fe}),ge=(0,p.default)(ge,ne,fe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var fe=ne.which||ne.keyCode,ge=(X.bindings[fe]||[]).filter(function(He){return $.match(ne,He)});if(ge.length!==0){var ve=X.quill.getSelection();if(!(ve==null||!X.quill.hasFocus())){var Se=X.quill.getLine(ve.index),Re=s(Se,2),ht=Re[0],Ye=Re[1],Z=X.quill.getLeaf(ve.index),ee=s(Z,2),ue=ee[0],ce=ee[1],re=ve.length===0?[ue,ce]:X.quill.getLeaf(ve.index+ve.length),be=s(re,2),we=be[0],Te=be[1],wt=ue instanceof v.default.Text?ue.value().slice(0,ce):"",Ve=we instanceof v.default.Text?we.value().slice(Te):"",Ae={collapsed:ve.length===0,empty:ve.length===0&&ht.length()<=1,format:X.quill.getFormat(ve),offset:Ye,prefix:wt,suffix:Ve},gi=ge.some(function(He){if(He.collapsed!=null&&He.collapsed!==Ae.collapsed||He.empty!=null&&He.empty!==Ae.empty||He.offset!=null&&He.offset!==Ae.offset)return!1;if(Array.isArray(He.format)){if(He.format.every(function(fn){return Ae.format[fn]==null}))return!1}else if(o(He.format)==="object"&&!Object.keys(He.format).every(function(fn){return He.format[fn]===!0?Ae.format[fn]!=null:He.format[fn]===!1?Ae.format[fn]==null:(0,h.default)(He.format[fn],Ae.format[fn])}))return!1;return He.prefix!=null&&!He.prefix.test(Ae.prefix)||He.suffix!=null&&!He.suffix.test(Ae.suffix)?!1:He.handler.call(X,ve,Ae)!==!0});gi&&ne.preventDefault()}}}})}}]),$}(N.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,Y){Y.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,k.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function($){this.quill.history.cutoff();var Y=new _.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(Y,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,k.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,Y){this.quill.format("list",!1,k.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var Y=this.quill.getLine($.index),X=s(Y,2),ne=X[0],fe=X[1],ge=(0,p.default)({},ne.formats(),{list:"checked"}),ve=new _.default().retain($.index).insert(`
`,ge).retain(ne.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,Y){var X=this.quill.getLine($.index),ne=s(X,2),fe=ne[0],ge=ne[1],ve=new _.default().retain($.index).insert(`
`,Y.format).retain(fe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(ve,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,Y){var X=Y.prefix.length,ne=this.quill.getLine($.index),fe=s(ne,2),ge=fe[0],ve=fe[1];if(ve>X)return!0;var Se=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Se="unchecked";break;case"[x]":Se="checked";break;case"-":case"*":Se="bullet";break;default:Se="ordered"}this.quill.insertText($.index," ",k.default.sources.USER),this.quill.history.cutoff();var Re=new _.default().retain($.index-ve).delete(X+1).retain(ge.length()-2-ve).retain(1,{list:Se});this.quill.updateContents(Re,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-X,k.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var Y=this.quill.getLine($.index),X=s(Y,2),ne=X[0],fe=X[1],ge=new _.default().retain($.index+ne.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Q(W.keys.LEFT,!1),"embed left shift":Q(W.keys.LEFT,!0),"embed right":Q(W.keys.RIGHT,!1),"embed right shift":Q(W.keys.RIGHT,!0)}};function Q(V,$){var Y,X=V===W.keys.LEFT?"prefix":"suffix";return Y={key:V,shiftKey:$,altKey:null},A(Y,X,/^$/),A(Y,"handler",function(fe){var ge=fe.index;V===W.keys.RIGHT&&(ge+=fe.length+1);var ve=this.quill.getLeaf(ge),Se=s(ve,1),Re=Se[0];return Re instanceof v.default.Embed?(V===W.keys.LEFT?$?this.quill.setSelection(fe.index-1,fe.length+1,k.default.sources.USER):this.quill.setSelection(fe.index-1,k.default.sources.USER):$?this.quill.setSelection(fe.index,fe.length+1,k.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,k.default.sources.USER),!1):!0}),Y}function q(V,$){if(!(V.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(V.index),X=s(Y,1),ne=X[0],fe={};if($.offset===0){var ge=this.quill.getLine(V.index-1),ve=s(ge,1),Se=ve[0];if(Se!=null&&Se.length()>1){var Re=ne.formats(),ht=this.quill.getFormat(V.index-1,1);fe=g.default.attributes.diff(Re,ht)||{}}}var Ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(V.index-Ye,Ye,k.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(V.index-Ye,Ye,fe,k.default.sources.USER),this.quill.focus()}}function j(V,$){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(V.index>=this.quill.getLength()-Y)){var X={},ne=0,fe=this.quill.getLine(V.index),ge=s(fe,1),ve=ge[0];if($.offset>=ve.length()-1){var Se=this.quill.getLine(V.index+1),Re=s(Se,1),ht=Re[0];if(ht){var Ye=ve.formats(),Z=this.quill.getFormat(V.index,1);X=g.default.attributes.diff(Ye,Z)||{},ne=ht.length()}}this.quill.deleteText(V.index,Y,k.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index+ne-1,Y,X,k.default.sources.USER)}}function x(V){var $=this.quill.getLines(V),Y={};if($.length>1){var X=$[0].formats(),ne=$[$.length-1].formats();Y=g.default.attributes.diff(ne,X)||{}}this.quill.deleteText(V,k.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(V.index,1,Y,k.default.sources.USER),this.quill.setSelection(V.index,k.default.sources.SILENT),this.quill.focus()}function M(V,$){var Y=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var X=Object.keys($.format).reduce(function(ne,fe){return v.default.query(fe,v.default.Scope.BLOCK)&&!Array.isArray($.format[fe])&&(ne[fe]=$.format[fe]),ne},{});this.quill.insertText(V.index,`
`,X,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(ne){X[ne]==null&&(Array.isArray($.format[ne])||ne!=="link"&&Y.quill.format(ne,$.format[ne],k.default.sources.USER))})}function B(V){return{key:W.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(Y){var X=v.default.query("code-block"),ne=Y.index,fe=Y.length,ge=this.quill.scroll.descendant(X,ne),ve=s(ge,2),Se=ve[0],Re=ve[1];if(Se!=null){var ht=this.quill.getIndex(Se),Ye=Se.newlineIndex(Re,!0)+1,Z=Se.newlineIndex(ht+Re+fe),ee=Se.domNode.textContent.slice(Ye,Z).split(`
`);Re=0,ee.forEach(function(ue,ce){V?(Se.insertAt(Ye+Re,X.TAB),Re+=X.TAB.length,ce===0?ne+=X.TAB.length:fe+=X.TAB.length):ue.startsWith(X.TAB)&&(Se.deleteAt(Ye+Re,X.TAB.length),Re-=X.TAB.length,ce===0?ne-=X.TAB.length:fe-=X.TAB.length),Re+=ue.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ne,fe,k.default.sources.SILENT)}}}}function K(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(V,!X.format[V],k.default.sources.USER)}}}function z(V){if(typeof V=="string"||typeof V=="number")return z({key:V});if((typeof V>"u"?"undefined":o(V))==="object"&&(V=(0,c.default)(V,!1)),typeof V.key=="string")if(W.keys[V.key.toUpperCase()]!=null)V.key=W.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[H]=V.shortKey,delete V.shortKey),V}r.default=W,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(m,v){var y=[],k=!0,C=!1,S=void 0;try{for(var T=m[Symbol.iterator](),N;!(k=(N=T.next()).done)&&(y.push(N.value),!(v&&y.length===v));k=!0);}catch(I){C=!0,S=I}finally{try{!k&&T.return&&T.return()}finally{if(C)throw S}}return y}return function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),l=i(0),c=f(l),d=i(7),h=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function E(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var w=function(g){_(m,g),a(m,null,[{key:"value",value:function(){}}]);function m(v,y){p(this,m);var k=E(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return k.selection=y,k.textNode=document.createTextNode(m.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,k);for(var C=this,S=0;C!=null&&C.statics.scope!==c.default.Scope.BLOCK_BLOT;)S+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=m.CONTENTS.length,C.optimize(),C.formatAt(S,m.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),C=void 0,S=void 0,T=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var N=[y,k.start.offset,k.end.offset];C=N[0],S=N[1],T=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var I=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(C=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=m.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,T].map(function(P){return Math.max(0,Math.min(C.data.length,P-1))}),O=o(A,2);return S=O[0],T=O[1],{startNode:C,startOffset:S,endNode:C,endOffset:T}}}}},{key:"update",value:function(y,k){var C=this;if(y.some(function(T){return T.type==="characterData"&&T.target===C.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=c(o),a=i(4),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(s.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function h(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function f(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var p=function(w){f(g,w);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(v){var y=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),E=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),_=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=E,r.ColorStyle=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function _(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&_(w.prototype,g),m&&_(w,m),w}}(),s=function _(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:_(y,g,m)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(m)}},a=i(6),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function h(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function f(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var p=function(_){f(w,_);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(m,v){if(m!==this.statics.blotName||!v)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,m,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(m){var v=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,m);return m=this.sanitize(m),v.setAttribute("href",m),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return E(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function E(_,w){var g=document.createElement("a");g.href=_;var m=g.href.slice(0,g.href.indexOf(":"));return w.indexOf(m)>-1}r.default=p,r.sanitize=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),a=i(23),l=h(a),c=i(107),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function E(w,g){w.setAttribute(g,w.getAttribute(g)!=="true")}var _=function(){function w(g){var m=this;f(this,w),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),E(this.label,"aria-expanded"),E(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),m.hasAttribute("value")&&y.setAttribute("data-value",m.getAttribute("value")),m.textContent&&y.setAttribute("data-label",m.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:v.selectItem(y,!0),k.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=d.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var k=m.buildItem(y);v.appendChild(k),y.selected===!0&&m.selectItem(k)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(v){m.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(m!==y&&(y!=null&&y.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),w}();r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),c=i(4),d=U(c),h=i(16),f=U(h),p=i(25),E=U(p),_=i(24),w=U(_),g=i(35),m=U(g),v=i(6),y=U(v),k=i(22),C=U(k),S=i(7),T=U(S),N=i(55),I=U(N),A=i(42),O=U(A),P=i(23),L=U(P);function U(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":d.default,"blots/block/embed":c.BlockEmbed,"blots/break":f.default,"blots/container":E.default,"blots/cursor":w.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":C.default,"blots/text":T.default,"modules/clipboard":I.default,"modules/history":O.default,"modules/keyboard":L.default}),s.default.register(d.default,f.default,w.default,y.default,C.default,T.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,c){var d=this.isolate(l,c);d.remove()},a.prototype.formatAt=function(l,c,d,h){var f=this.isolate(l,c);if(o.query(d,o.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);f.wrap(p),p.format(d,h)}},a.prototype.insertAt=function(l,c,d){var h=d==null?o.create("text",c):o.create(c,d),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,c),c!=null&&(d=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var d=this.split(l);return d.split(c),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return d.replace(this),d},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),c=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),p=s.default.keys(this.domNode),E=a.default.keys(this.domNode);f.concat(p).concat(E).forEach(function(_){var w=l.query(_,l.Scope.ATTRIBUTE);w instanceof o.default&&(h.attributes[w.attrName]=w)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(p){var E=f.attributes[p].value(f.domNode);h.format(p,E)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=h.attributes[p].value(h.domNode),f},{})},d}();r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c,d){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c){var d=c.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){s(this,l),this.quill=c,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=h(a),c=i(7),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function E(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var _="\uFEFF",w=function(g){E(m,g);function m(v){f(this,m);var y=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(_),y.rightGuard=document.createTextNode(_),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(m,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,C=void 0,S=y.data.split(_).join("");if(y===this.leftGuard)if(this.prev instanceof d.default){var T=this.prev.length();this.prev.insertAt(T,S),k={startNode:this.prev.domNode,startOffset:T+S.length}}else C=document.createTextNode(S),this.parent.insertBefore(l.default.create(C),this),k={startNode:C,startOffset:S.length};else y===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(C=document.createTextNode(S),this.parent.insertBefore(l.default.create(C),this.next),k={startNode:C,startOffset:S.length}));return y.data=_,k}},{key:"update",value:function(y,k){var C=this;y.forEach(function(S){if(S.type==="characterData"&&(S.target===C.leftGuard||S.target===C.rightGuard)){var T=C.restore(S.target);T&&(k.range=T)}})}}]),m}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=d,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=d,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},E=new l.default.Attributor.Class("font","ql-font",p),_=function(g){f(m,g);function m(){return d(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(y){return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),w=new _("font","font-family",p);r.FontStyle=w,r.FontClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function v(y,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,k,C){return k&&v(y.prototype,k),C&&v(y,C),y}}(),s=i(0),a=f(s),l=i(5),c=f(l),d=i(9),h=f(d);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function E(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function _(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var w=function(v){_(y,v);function y(k,C){p(this,y);var S=E(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,C));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(c.default.events.EDITOR_CHANGE,function(T,N,I,A){T!==c.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===c.default.sources.USER?S.record(N,I):S.transform(N))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(y,[{key:"change",value:function(C,S){if(this.stack[C].length!==0){var T=this.stack[C].pop();this.stack[S].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[C],c.default.sources.USER),this.ignoreChange=!1;var N=m(T[C]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,S){if(C.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(S),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var I=this.stack.undo.pop();T=T.compose(I.undo),C=I.redo.compose(C)}else this.lastRecorded=N;this.stack.undo.push({redo:C,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(S){S.undo=C.transform(S.undo,!0),S.redo=C.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=C.transform(S.undo,!0),S.redo=C.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function m(v){var y=v.reduce(function(C,S){return C+=S.delete||0,C},0),k=v.length()-y;return g(v)&&(k-=1),k}r.default=w,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(B,K){for(var z=0;z<K.length;z++){var V=K[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,K,z){return K&&M(B.prototype,K),z&&M(B,z),B}}(),s=function M(B,K,z){B===null&&(B=Function.prototype);var V=Object.getOwnPropertyDescriptor(B,K);if(V===void 0){var $=Object.getPrototypeOf(B);return $===null?void 0:M($,K,z)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call(z)}},a=i(3),l=N(a),c=i(2),d=N(c),h=i(8),f=N(h),p=i(23),E=N(p),_=i(34),w=N(_),g=i(59),m=N(g),v=i(60),y=N(v),k=i(28),C=N(k),S=i(61),T=N(S);function N(M){return M&&M.__esModule?M:{default:M}}function I(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}function A(M,B){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:M}function O(M,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(M,B):M.__proto__=B)}var P=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],H=["1","2","3",!1],W=["small",!1,"large","huge"],Q=function(M){O(B,M);function B(K,z){I(this,B);var V=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,z)),$=function Y(X){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Y);V.tooltip!=null&&!V.tooltip.root.contains(X.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ne){ne.container.contains(X.target)||ne.close()})};return K.emitter.listenDOM("click",document.body,$),V}return o(B,[{key:"addModule",value:function(z){var V=s(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(z,V){z.forEach(function($){var Y=$.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")$.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")$.innerHTML=V[X];else{var ne=$.value||"";ne!=null&&V[X][ne]&&($.innerHTML=V[X][ne])}})})}},{key:"buildPickers",value:function(z,V){var $=this;this.pickers=z.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&x(X,P),new y.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ne=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&x(X,L,ne==="background"?"#ffffff":"#000000"),new m.default(X,V[ne])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?x(X,U):X.classList.contains("ql-header")?x(X,H):X.classList.contains("ql-size")&&x(X,W)),new C.default(X)});var Y=function(){$.pickers.forEach(function(ne){ne.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Y)}}]),B}(w.default);Q.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(V){var $=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain($.index).delete($.length).insert({image:V.target.result}),f.default.sources.USER),B.quill.setSelection($.index+1,f.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(M){O(B,M);function B(K,z){I(this,B);var V=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,z));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return o(B,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(V){E.default.match(V,"enter")?(z.save(),V.preventDefault()):E.default.match(V,"escape")&&(z.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":z=j(z);case"formula":{if(!z)break;var $=this.quill.getSelection(!0);if($!=null){var Y=$.index+$.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),z,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",f.default.sources.USER),this.quill.setSelection(Y+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(T.default);function j(M){var B=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":M}function x(M,B){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(z){var V=document.createElement("option");z===K?V.setAttribute("selected","selected"):V.setAttribute("value",z),M.appendChild(V)})}r.BaseTooltip=q,r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,d=this.iterator();c=d();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},s.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var d=this.find(a),h=d[0],f=d[1],p,E=a-f,_=this.iterator(h);(p=_())&&E<a+l;){var w=p.length();a>E?c(p,a-E,Math.min(l,E+w-a)):c(p,0,Math.min(w,a+l-E)),E+=w}},s.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},s.prototype.reduce=function(a,l){for(var c,d=this.iterator();c=d();)l=a(l,c);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var E in p)p.hasOwnProperty(E)&&(f[E]=p[E])};return function(f,p){h(f,p);function E(){this.constructor=f}f.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,d=function(h){o(f,h);function f(p){var E=h.call(this,p)||this;return E.scroll=E,E.observer=new MutationObserver(function(_){E.update(_)}),E.observer.observe(E.domNode,l),E.attach(),E}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,E){this.update(),p===0&&E===this.length()?this.children.forEach(function(_){_.remove()}):h.prototype.deleteAt.call(this,p,E)},f.prototype.formatAt=function(p,E,_,w){this.update(),h.prototype.formatAt.call(this,p,E,_,w)},f.prototype.insertAt=function(p,E,_){this.update(),h.prototype.insertAt.call(this,p,E,_)},f.prototype.optimize=function(p,E){var _=this;p===void 0&&(p=[]),E===void 0&&(E={}),h.prototype.optimize.call(this,E);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var g=function(k,C){C===void 0&&(C=!0),!(k==null||k===_)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),C&&g(k.parent))},m=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(m),k.optimize(E))},v=p,y=0;v.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(k){var C=a.find(k.target,!0);C!=null&&(C.domNode===k.target&&(k.type==="childList"?(g(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var T=a.find(S,!1);g(T,!1),T instanceof s.default&&T.children.forEach(function(N){g(N,!1)})})):k.type==="attributes"&&g(C.prev)),g(C))}),this.children.forEach(m),v=[].slice.call(this.observer.takeRecords()),w=v.slice();w.length>0;)p.push(w.pop())}},f.prototype.update=function(p,E){var _=this;E===void 0&&(E={}),p=p||this.observer.takeRecords(),p.map(function(w){var g=a.find(w.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[w],g):(g.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===_||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],E)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,E),this.optimize(p,E)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var c=function(d){o(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,p){var E=this;f===this.statics.blotName&&!p?(this.children.forEach(function(_){_ instanceof s.default||(_=_.wrap(h.blotName,!0)),E.attributes.copy(_)}),this.unwrap()):d.prototype.format.call(this,f,p)},h.prototype.formatAt=function(f,p,E,_){if(this.formats()[E]!=null||a.query(E,a.Scope.ATTRIBUTE)){var w=this.isolate(f,p);w.format(E,_)}else d.prototype.formatAt.call(this,f,p,E,_)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var E=this.next;E instanceof h&&E.prev===this&&l(p,E.formats())&&(E.moveChildren(this),E.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){var f=a.query(d.blotName).tagName;if(h.tagName!==f)return c.formats.call(this,h)},d.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):c.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,p,E){a.query(p,a.Scope.BLOCK)!=null?this.format(p,E):c.prototype.formatAt.call(this,h,f,p,E)},d.prototype.insertAt=function(h,f,p){if(p==null||a.query(f,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,f,p);else{var E=this.split(h),_=a.create(f,p);E.parent.insertBefore(_,E)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,f)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){l(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(d){},c.prototype.format=function(d,h){l.prototype.formatAt.call(this,0,this.length(),d,h)},c.prototype.formatAt=function(d,h,f,p){d===0&&h===this.length()?this.format(f,p):l.prototype.formatAt.call(this,d,h,f,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(c){o(d,c);function d(h){var f=c.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,p){p==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,f,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,f){var p=this;h.some(function(E){return E.type==="characterData"&&E.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var d=c.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,h=arguments[1],f,p=0;p<d;p++)if(f=c[p],l.call(h,f,p,c))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,k,C){if(y==k)return y?[[s,y]]:[];(C<0||y.length<C)&&(C=null);var S=h(y,k),T=y.substring(0,S);y=y.substring(S),k=k.substring(S),S=f(y,k);var N=y.substring(y.length-S);y=y.substring(0,y.length-S),k=k.substring(0,k.length-S);var I=l(y,k);return T&&I.unshift([s,T]),N&&I.push([s,N]),E(I),C!=null&&(I=g(I,C)),I=m(I),I}function l(y,k){var C;if(!y)return[[o,k]];if(!k)return[[i,y]];var S=y.length>k.length?y:k,T=y.length>k.length?k:y,N=S.indexOf(T);if(N!=-1)return C=[[o,S.substring(0,N)],[s,T],[o,S.substring(N+T.length)]],y.length>k.length&&(C[0][0]=C[2][0]=i),C;if(T.length==1)return[[i,y],[o,k]];var I=p(y,k);if(I){var A=I[0],O=I[1],P=I[2],L=I[3],U=I[4],H=a(A,P),W=a(O,L);return H.concat([[s,U]],W)}return c(y,k)}function c(y,k){for(var C=y.length,S=k.length,T=Math.ceil((C+S)/2),N=T,I=2*T,A=new Array(I),O=new Array(I),P=0;P<I;P++)A[P]=-1,O[P]=-1;A[N+1]=0,O[N+1]=0;for(var L=C-S,U=L%2!=0,H=0,W=0,Q=0,q=0,j=0;j<T;j++){for(var x=-j+H;x<=j-W;x+=2){var M=N+x,B;x==-j||x!=j&&A[M-1]<A[M+1]?B=A[M+1]:B=A[M-1]+1;for(var K=B-x;B<C&&K<S&&y.charAt(B)==k.charAt(K);)B++,K++;if(A[M]=B,B>C)W+=2;else if(K>S)H+=2;else if(U){var z=N+L-x;if(z>=0&&z<I&&O[z]!=-1){var V=C-O[z];if(B>=V)return d(y,k,B,K)}}}for(var $=-j+Q;$<=j-q;$+=2){var z=N+$,V;$==-j||$!=j&&O[z-1]<O[z+1]?V=O[z+1]:V=O[z-1]+1;for(var Y=V-$;V<C&&Y<S&&y.charAt(C-V-1)==k.charAt(S-Y-1);)V++,Y++;if(O[z]=V,V>C)q+=2;else if(Y>S)Q+=2;else if(!U){var M=N+L-$;if(M>=0&&M<I&&A[M]!=-1){var B=A[M],K=N+B-M;if(V=C-V,B>=V)return d(y,k,B,K)}}}}return[[i,y],[o,k]]}function d(y,k,C,S){var T=y.substring(0,C),N=k.substring(0,S),I=y.substring(C),A=k.substring(S),O=a(T,N),P=a(I,A);return O.concat(P)}function h(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var C=0,S=Math.min(y.length,k.length),T=S,N=0;C<T;)y.substring(N,T)==k.substring(N,T)?(C=T,N=C):S=T,T=Math.floor((S-C)/2+C);return T}function f(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var C=0,S=Math.min(y.length,k.length),T=S,N=0;C<T;)y.substring(y.length-T,y.length-N)==k.substring(k.length-T,k.length-N)?(C=T,N=C):S=T,T=Math.floor((S-C)/2+C);return T}function p(y,k){var C=y.length>k.length?y:k,S=y.length>k.length?k:y;if(C.length<4||S.length*2<C.length)return null;function T(W,Q,q){for(var j=W.substring(q,q+Math.floor(W.length/4)),x=-1,M="",B,K,z,V;(x=Q.indexOf(j,x+1))!=-1;){var $=h(W.substring(q),Q.substring(x)),Y=f(W.substring(0,q),Q.substring(0,x));M.length<Y+$&&(M=Q.substring(x-Y,x)+Q.substring(x,x+$),B=W.substring(0,q-Y),K=W.substring(q+$),z=Q.substring(0,x-Y),V=Q.substring(x+$))}return M.length*2>=W.length?[B,K,z,V,M]:null}var N=T(C,S,Math.ceil(C.length/4)),I=T(C,S,Math.ceil(C.length/2)),A;if(!N&&!I)return null;I?N?A=N[4].length>I[4].length?N:I:A=I:A=N;var O,P,L,U;y.length>k.length?(O=A[0],P=A[1],L=A[2],U=A[3]):(L=A[0],U=A[1],O=A[2],P=A[3]);var H=A[4];return[O,P,L,U,H]}function E(y){y.push([s,""]);for(var k=0,C=0,S=0,T="",N="",I;k<y.length;)switch(y[k][0]){case o:S++,N+=y[k][1],k++;break;case i:C++,T+=y[k][1],k++;break;case s:C+S>1?(C!==0&&S!==0&&(I=h(N,T),I!==0&&(k-C-S>0&&y[k-C-S-1][0]==s?y[k-C-S-1][1]+=N.substring(0,I):(y.splice(0,0,[s,N.substring(0,I)]),k++),N=N.substring(I),T=T.substring(I)),I=f(N,T),I!==0&&(y[k][1]=N.substring(N.length-I)+y[k][1],N=N.substring(0,N.length-I),T=T.substring(0,T.length-I))),C===0?y.splice(k-S,C+S,[o,N]):S===0?y.splice(k-C,C+S,[i,T]):y.splice(k-C-S,C+S,[i,T],[o,N]),k=k-C-S+(C?1:0)+(S?1:0)+1):k!==0&&y[k-1][0]==s?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,S=0,C=0,T="",N="";break}y[y.length-1][1]===""&&y.pop();var A=!1;for(k=1;k<y.length-1;)y[k-1][0]==s&&y[k+1][0]==s&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),A=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),A=!0)),k++;A&&E(y)}var _=a;_.INSERT=o,_.DELETE=i,_.EQUAL=s,n.exports=_;function w(y,k){if(k===0)return[s,y];for(var C=0,S=0;S<y.length;S++){var T=y[S];if(T[0]===i||T[0]===s){var N=C+T[1].length;if(k===N)return[S+1,y];if(k<N){y=y.slice();var I=k-C,A=[T[0],T[1].slice(0,I)],O=[T[0],T[1].slice(I)];return y.splice(S,1,A,O),[S+1,y]}else C=N}}throw new Error("cursor_pos is out of bounds!")}function g(y,k){var C=w(y,k),S=C[1],T=C[0],N=S[T],I=S[T+1];if(N==null)return y;if(N[0]!==s)return y;if(I!=null&&N[1]+I[1]===I[1]+N[1])return S.splice(T,2,I,N),v(S,T,2);if(I!=null&&I[1].indexOf(N[1])===0){S.splice(T,2,[I[0],N[1]],[0,N[1]]);var A=I[1].slice(N[1].length);return A.length>0&&S.splice(T+2,0,[I[0],A]),v(S,T,3)}else return y}function m(y){for(var k=!1,C=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},S=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},T=2;T<y.length;T+=1)y[T-2][0]===s&&S(y[T-2][1])&&y[T-1][0]===i&&C(y[T-1][1])&&y[T][0]===o&&C(y[T][1])&&(k=!0,y[T-1][1]=y[T-2][1].slice(-1)+y[T-1][1],y[T][1]=y[T-2][1].slice(-1)+y[T][1],y[T-2][1]=y[T-2][1].slice(0,-1));if(!k)return y;for(var N=[],T=0;T<y.length;T+=1)y[T][1].length>0&&N.push(y[T]);return N}function v(y,k,C){for(var S=k+C-1;S>=0&&S>=k-1;S--)if(S+1<y.length){var T=y[S],N=y[S+1];T[0]===N[1]&&y.splice(S,2,[T[0],T[1]+N[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)i.call(h,f)&&d.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d,h){var f=o?o+d:d,p=this._events[f];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var E=0,_=p.length,w=new Array(_);E<_;E++)w[E]=p[E].fn;return w},l.prototype.emit=function(d,h,f,p,E,_){var w=o?o+d:d;if(!this._events[w])return!1;var g=this._events[w],m=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,f),!0;case 4:return g.fn.call(g.context,h,f,p),!0;case 5:return g.fn.call(g.context,h,f,p,E),!0;case 6:return g.fn.call(g.context,h,f,p,E,_),!0}for(y=1,v=new Array(m-1);y<m;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var k=g.length,C;for(y=0;y<k;y++)switch(g[y].once&&this.removeListener(d,g[y].fn,void 0,!0),m){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,h);break;case 3:g[y].fn.call(g[y].context,h,f);break;case 4:g[y].fn.call(g[y].context,h,f,p);break;default:if(!v)for(C=1,v=new Array(m-1);C<m;C++)v[C-1]=arguments[C];g[y].fn.apply(g[y].context,v)}}return!0},l.prototype.on=function(d,h,f){var p=new a(h,f||this),E=o?o+d:d;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],p]:this._events[E].push(p):(this._events[E]=p,this._eventsCount++),this},l.prototype.once=function(d,h,f){var p=new a(h,f||this,!0),E=o?o+d:d;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],p]:this._events[E].push(p):(this._events[E]=p,this._eventsCount++),this},l.prototype.removeListener=function(d,h,f,p){var E=o?o+d:d;if(!this._events[E])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[E],this;var _=this._events[E];if(_.fn)_.fn===h&&(!p||_.once)&&(!f||_.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[E]);else{for(var w=0,g=[],m=_.length;w<m;w++)(_[w].fn!==h||p&&!_[w].once||f&&_[w].context!==f)&&g.push(_[w]);g.length?this._events[E]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[E]}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=o?o+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(ee,ue){var ce=[],re=!0,be=!1,we=void 0;try{for(var Te=ee[Symbol.iterator](),wt;!(re=(wt=Te.next()).done)&&(ce.push(wt.value),!(ue&&ce.length===ue));re=!0);}catch(Ve){be=!0,we=Ve}finally{try{!re&&Te.return&&Te.return()}finally{if(be)throw we}}return ce}return function(ee,ue){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Z(ee,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(ee,ue){for(var ce=0;ce<ue.length;ce++){var re=ue[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ee,re.key,re)}}return function(ee,ue,ce){return ue&&Z(ee.prototype,ue),ce&&Z(ee,ce),ee}}(),l=i(3),c=O(l),d=i(2),h=O(d),f=i(0),p=O(f),E=i(5),_=O(E),w=i(10),g=O(w),m=i(9),v=O(m),y=i(36),k=i(37),C=i(13),S=O(C),T=i(26),N=i(38),I=i(39),A=i(40);function O(Z){return Z&&Z.__esModule?Z:{default:Z}}function P(Z,ee,ue){return ee in Z?Object.defineProperty(Z,ee,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Z[ee]=ue,Z}function L(Z,ee){if(!(Z instanceof ee))throw new TypeError("Cannot call a class as a function")}function U(Z,ee){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:Z}function H(Z,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);Z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ee):Z.__proto__=ee)}var W=(0,g.default)("quill:clipboard"),Q="__ql-matcher",q=[[Node.TEXT_NODE,Ye],[Node.TEXT_NODE,Se],["br",fe],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,ht],["li",ve],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ge]],j=[y.AlignAttribute,N.DirectionAttribute].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),x=[y.AlignStyle,k.BackgroundStyle,T.ColorStyle,N.DirectionStyle,I.FontStyle,A.SizeStyle].reduce(function(Z,ee){return Z[ee.keyName]=ee,Z},{}),M=function(Z){H(ee,Z);function ee(ue,ce){L(this,ee);var re=U(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ue,ce));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],q.concat(re.options.matchers).forEach(function(be){var we=s(be,2),Te=we[0],wt=we[1];!ce.matchVisual&&wt===Re||re.addMatcher(Te,wt)}),re}return a(ee,[{key:"addMatcher",value:function(ce,re){this.matchers.push([ce,re])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[S.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new h.default().insert(be,P({},S.default.blotName,re[S.default.blotName]))}var we=this.prepareMatching(),Te=s(we,2),wt=Te[0],Ve=Te[1],Ae=$(this.container,wt,Ve);return z(Ae,`
`)&&Ae.ops[Ae.ops.length-1].attributes==null&&(Ae=Ae.compose(new h.default().retain(Ae.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Ae),this.container.innerHTML="",Ae}},{key:"dangerouslyPasteHTML",value:function(ce,re){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),re),this.quill.setSelection(0,_.default.sources.SILENT);else{var we=this.convert(re);this.quill.updateContents(new h.default().retain(ce).concat(we),be),this.quill.setSelection(ce+we.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var re=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),we=new h.default().retain(be.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){we=we.concat(re.convert()).delete(be.length),re.quill.updateContents(we,_.default.sources.USER),re.quill.setSelection(we.length()-be.length,_.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Te,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,re=[],be=[];return this.matchers.forEach(function(we){var Te=s(we,2),wt=Te[0],Ve=Te[1];switch(wt){case Node.TEXT_NODE:be.push(Ve);break;case Node.ELEMENT_NODE:re.push(Ve);break;default:[].forEach.call(ce.container.querySelectorAll(wt),function(Ae){Ae[Q]=Ae[Q]||[],Ae[Q].push(Ve)});break}}),[re,be]}}]),ee}(v.default);M.DEFAULTS={matchers:[],matchVisual:!0};function B(Z,ee,ue){return(typeof ee>"u"?"undefined":o(ee))==="object"?Object.keys(ee).reduce(function(ce,re){return B(ce,re,ee[re])},Z):Z.reduce(function(ce,re){return re.attributes&&re.attributes[ee]?ce.push(re):ce.insert(re.insert,(0,c.default)({},P({},ee,ue),re.attributes))},new h.default)}function K(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return Z[ee]||(Z[ee]=window.getComputedStyle(Z))}function z(Z,ee){for(var ue="",ce=Z.ops.length-1;ce>=0&&ue.length<ee.length;--ce){var re=Z.ops[ce];if(typeof re.insert!="string")break;ue=re.insert+ue}return ue.slice(-1*ee.length)===ee}function V(Z){if(Z.childNodes.length===0)return!1;var ee=K(Z);return["block","list-item"].indexOf(ee.display)>-1}function $(Z,ee,ue){return Z.nodeType===Z.TEXT_NODE?ue.reduce(function(ce,re){return re(Z,ce)},new h.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(ce,re){var be=$(re,ee,ue);return re.nodeType===Z.ELEMENT_NODE&&(be=ee.reduce(function(we,Te){return Te(re,we)},be),be=(re[Q]||[]).reduce(function(we,Te){return Te(re,we)},be)),ce.concat(be)},new h.default):new h.default}function Y(Z,ee,ue){return B(ue,Z,!0)}function X(Z,ee){var ue=p.default.Attributor.Attribute.keys(Z),ce=p.default.Attributor.Class.keys(Z),re=p.default.Attributor.Style.keys(Z),be={};return ue.concat(ce).concat(re).forEach(function(we){var Te=p.default.query(we,p.default.Scope.ATTRIBUTE);Te!=null&&(be[Te.attrName]=Te.value(Z),be[Te.attrName])||(Te=j[we],Te!=null&&(Te.attrName===we||Te.keyName===we)&&(be[Te.attrName]=Te.value(Z)||void 0),Te=x[we],Te!=null&&(Te.attrName===we||Te.keyName===we)&&(Te=x[we],be[Te.attrName]=Te.value(Z)||void 0))}),Object.keys(be).length>0&&(ee=B(ee,be)),ee}function ne(Z,ee){var ue=p.default.query(Z);if(ue==null)return ee;if(ue.prototype instanceof p.default.Embed){var ce={},re=ue.value(Z);re!=null&&(ce[ue.blotName]=re,ee=new h.default().insert(ce,ue.formats(Z)))}else typeof ue.formats=="function"&&(ee=B(ee,ue.blotName,ue.formats(Z)));return ee}function fe(Z,ee){return z(ee,`
`)||ee.insert(`
`),ee}function ge(){return new h.default}function ve(Z,ee){var ue=p.default.query(Z);if(ue==null||ue.blotName!=="list-item"||!z(ee,`
`))return ee;for(var ce=-1,re=Z.parentNode;!re.classList.contains("ql-clipboard");)(p.default.query(re)||{}).blotName==="list"&&(ce+=1),re=re.parentNode;return ce<=0?ee:ee.compose(new h.default().retain(ee.length()-1).retain(1,{indent:ce}))}function Se(Z,ee){return z(ee,`
`)||(V(Z)||ee.length()>0&&Z.nextSibling&&V(Z.nextSibling))&&ee.insert(`
`),ee}function Re(Z,ee){if(V(Z)&&Z.nextElementSibling!=null&&!z(ee,`

`)){var ue=Z.offsetHeight+parseFloat(K(Z).marginTop)+parseFloat(K(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+ue*1.5&&ee.insert(`
`)}return ee}function ht(Z,ee){var ue={},ce=Z.style||{};return ce.fontStyle&&K(Z).fontStyle==="italic"&&(ue.italic=!0),ce.fontWeight&&(K(Z).fontWeight.startsWith("bold")||parseInt(K(Z).fontWeight)>=700)&&(ue.bold=!0),Object.keys(ue).length>0&&(ee=B(ee,ue)),parseFloat(ce.textIndent||0)>0&&(ee=new h.default().insert("	").concat(ee)),ee}function Ye(Z,ee){var ue=Z.data;if(Z.parentNode.tagName==="O:P")return ee.insert(ue.trim());if(ue.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return ee;if(!K(Z.parentNode).whiteSpace.startsWith("pre")){var ce=function(be,we){return we=we.replace(/[^\u00a0]/g,""),we.length<1&&be?" ":we};ue=ue.replace(/\r\n/g," ").replace(/\n/g," "),ue=ue.replace(/\s\s+/g,ce.bind(ce,!0)),(Z.previousSibling==null&&V(Z.parentNode)||Z.previousSibling!=null&&V(Z.previousSibling))&&(ue=ue.replace(/^\s+/,ce.bind(ce,!1))),(Z.nextSibling==null&&V(Z.parentNode)||Z.nextSibling!=null&&V(Z.nextSibling))&&(ue=ue.replace(/\s+$/,ce.bind(ce,!1)))}return ee.insert(ue)}r.default=M,r.matchAttributor=X,r.matchBlot=ne,r.matchNewline=Se,r.matchSpacing=Re,r.matchText=Ye},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,w,g){return w&&E(_.prototype,w),g&&E(_,g),_}}(),s=function E(_,w,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,w);if(m===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"optimize",value:function(g){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(O,P){var L=[],U=!0,H=!1,W=void 0;try{for(var Q=O[Symbol.iterator](),q;!(U=(q=Q.next()).done)&&(L.push(q.value),!(P&&L.length===P));U=!0);}catch(j){H=!0,W=j}finally{try{!U&&Q.return&&Q.return()}finally{if(H)throw W}}return L}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return A(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(O,P){for(var L=0;L<P.length;L++){var U=P[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,P,L){return P&&A(O.prototype,P),L&&A(O,L),O}}(),a=i(2),l=g(a),c=i(0),d=g(c),h=i(5),f=g(h),p=i(10),E=g(p),_=i(9),w=g(_);function g(A){return A&&A.__esModule?A:{default:A}}function m(A,O,P){return O in A?Object.defineProperty(A,O,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[O]=P,A}function v(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function y(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function k(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var C=(0,E.default)("quill:toolbar"),S=function(A){k(O,A);function O(P,L){v(this,O);var U=y(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,L));if(Array.isArray(U.options.container)){var H=document.createElement("div");N(H,U.options.container),P.container.parentNode.insertBefore(H,P.container),U.container=H}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var W;return W=C.error("Container required for toolbar",U.options),y(U,W)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(Q){U.addHandler(Q,U.options.handlers[Q])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(Q){U.attach(Q)}),U.quill.on(f.default.events.EDITOR_CHANGE,function(Q,q){Q===f.default.events.SELECTION_CHANGE&&U.update(q)}),U.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var Q=U.quill.selection.getRange(),q=o(Q,1),j=q[0];U.update(j)}),U}return s(O,[{key:"addHandler",value:function(L,U){this.handlers[L]=U}},{key:"attach",value:function(L){var U=this,H=[].find.call(L.classList,function(Q){return Q.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){C.warn("ignoring attaching to disabled format",H,L);return}if(d.default.query(H)==null){C.warn("ignoring attaching to nonexistent format",H,L);return}}var W=L.tagName==="SELECT"?"change":"click";L.addEventListener(W,function(Q){var q=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var j=L.options[L.selectedIndex];j.hasAttribute("selected")?q=!1:q=j.value||!1}else L.classList.contains("ql-active")?q=!1:q=L.value||!L.hasAttribute("value"),Q.preventDefault();U.quill.focus();var x=U.quill.selection.getRange(),M=o(x,1),B=M[0];if(U.handlers[H]!=null)U.handlers[H].call(U,q);else if(d.default.query(H).prototype instanceof d.default.Embed){if(q=prompt("Enter "+H),!q)return;U.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},H,q)),f.default.sources.USER)}else U.quill.format(H,q,f.default.sources.USER);U.update(B)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var U=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var W=o(H,2),Q=W[0],q=W[1];if(q.tagName==="SELECT"){var j=void 0;if(L==null)j=null;else if(U[Q]==null)j=q.querySelector("option[selected]");else if(!Array.isArray(U[Q])){var x=U[Q];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),j=q.querySelector('option[value="'+x+'"]')}j==null?(q.value="",q.selectedIndex=-1):j.selected=!0}else if(L==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var M=U[Q]===q.getAttribute("value")||U[Q]!=null&&U[Q].toString()===q.getAttribute("value")||U[Q]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",M)}else q.classList.toggle("ql-active",U[Q]!=null)})}}]),O}(w.default);S.DEFAULTS={};function T(A,O,P){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+O),P!=null&&(L.value=P),A.appendChild(L)}function N(A,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(P){var L=document.createElement("span");L.classList.add("ql-formats"),P.forEach(function(U){if(typeof U=="string")T(L,U);else{var H=Object.keys(U)[0],W=U[H];Array.isArray(W)?I(L,H,W):T(L,H,W)}}),A.appendChild(L)})}function I(A,O,P){var L=document.createElement("select");L.classList.add("ql-"+O),P.forEach(function(U){var H=document.createElement("option");U!==!1?H.setAttribute("value",U):H.setAttribute("selected","selected"),L.appendChild(H)}),A.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var O=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&O.quill.format(U,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(O){var P=this.quill.getFormat().align;O==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!O&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",O,f.default.sources.USER)},indent:function(O){var P=this.quill.getSelection(),L=this.quill.getFormat(P),U=parseInt(L.indent||0);if(O==="+1"||O==="-1"){var H=O==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",U+H,f.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,f.default.sources.USER)},list:function(O){var P=this.quill.getSelection(),L=this.quill.getFormat(P);O==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",O,f.default.sources.USER)}}},r.default=S,r.addControls=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,w,g){return w&&E(_.prototype,w),g&&E(_,g),_}}(),s=function E(_,w,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,w);if(m===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(w,g){d(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),m}return o(_,[{key:"buildItem",value:function(g){var m=s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m);var v=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,w,g){return w&&E(_.prototype,w),g&&E(_,g),_}}(),s=function E(_,w,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,w);if(m===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(w,g){d(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=g[v.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return o(_,[{key:"selectItem",value:function(g,m){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){var h=this;s(this,l),this.quill=c,this.boundsContainer=d||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),E=this.root.getBoundingClientRect(),_=0;if(E.right>p.right&&(_=p.right-E.right,this.root.style.left=h+_+"px"),E.left<p.left&&(_=p.left-E.left,this.root.style.left=h+_+"px"),E.bottom>p.bottom){var w=E.bottom-E.top,g=d.bottom-d.top+w;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,O){var P=[],L=!0,U=!1,H=void 0;try{for(var W=A[Symbol.iterator](),Q;!(L=(Q=W.next()).done)&&(P.push(Q.value),!(O&&P.length===O));L=!0);}catch(q){U=!0,H=q}finally{try{!L&&W.return&&W.return()}finally{if(U)throw H}}return P}return function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function I(A,O,P){A===null&&(A=Function.prototype);var L=Object.getOwnPropertyDescriptor(A,O);if(L===void 0){var U=Object.getPrototypeOf(A);return U===null?void 0:I(U,O,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},a=function(){function I(A,O){for(var P=0;P<O.length;P++){var L=O[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,O,P){return O&&I(A.prototype,O),P&&I(A,P),A}}(),l=i(3),c=v(l),d=i(8),h=v(d),f=i(43),p=v(f),E=i(27),_=v(E),w=i(15),g=i(41),m=v(g);function v(I){return I&&I.__esModule?I:{default:I}}function y(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function k(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function C(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(I){C(A,I);function A(O,P){y(this,A),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=S);var L=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,P));return L.quill.container.classList.add("ql-snow"),L}return a(A,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),m.default),this.tooltip=new N(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,U){P.handlers.link.call(P,!U.format.link)})}}]),A}(p.default);T.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var O=this.quill.getSelection();if(O==null||O.length==0)return;var P=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var L=this.quill.theme.tooltip;L.edit("link",P)}else this.quill.format("link",!1)}}}}});var N=function(I){C(A,I);function A(O,P){y(this,A);var L=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O,P));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(A,[{key:"listen",value:function(){var P=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(P.linkRange!=null){var U=P.linkRange;P.restoreFocus(),P.quill.formatText(U,"link",!1,h.default.sources.USER),delete P.linkRange}L.preventDefault(),P.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(L,U,H){if(L!=null){if(L.length===0&&H===h.default.sources.USER){var W=P.quill.scroll.descendant(_.default,L.index),Q=o(W,2),q=Q[0],j=Q[1];if(q!=null){P.linkRange=new w.Range(L.index-j,q.length());var x=_.default.formats(q.domNode);P.preview.textContent=x,P.preview.setAttribute("href",x),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(f.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=re(o),a=i(36),l=i(38),c=i(64),d=i(65),h=re(d),f=i(66),p=re(f),E=i(67),_=re(E),w=i(37),g=i(26),m=i(39),v=i(40),y=i(56),k=re(y),C=i(68),S=re(C),T=i(27),N=re(T),I=i(69),A=re(I),O=i(70),P=re(O),L=i(71),U=re(L),H=i(72),W=re(H),Q=i(73),q=re(Q),j=i(13),x=re(j),M=i(74),B=re(M),K=i(75),z=re(K),V=i(57),$=re(V),Y=i(41),X=re(Y),ne=i(28),fe=re(ne),ge=i(59),ve=re(ge),Se=i(60),Re=re(Se),ht=i(61),Ye=re(ht),Z=i(108),ee=re(Z),ue=i(62),ce=re(ue);function re(be){return be&&be.__esModule?be:{default:be}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":v.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":v.SizeClass,"formats/blockquote":h.default,"formats/code-block":x.default,"formats/header":p.default,"formats/list":_.default,"formats/bold":k.default,"formats/code":j.Code,"formats/italic":S.default,"formats/link":N.default,"formats/script":A.default,"formats/strike":P.default,"formats/underline":U.default,"formats/image":W.default,"formats/video":q.default,"formats/list/item":E.ListItem,"modules/formula":B.default,"modules/syntax":z.default,"modules/toolbar":$.default,"themes/bubble":ee.default,"themes/snow":ce.default,"ui/icons":X.default,"ui/picker":fe.default,"ui/icon-picker":Re.default,"ui/color-picker":ve.default,"ui/tooltip":Ye.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function _(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&_(w.prototype,g),m&&_(w,m),w}}(),s=function _(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:_(y,g,m)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function h(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function f(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var p=function(_){f(w,_);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(m,v){if(v==="+1"||v==="-1"){var y=this.value(m)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(m),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,m,v)}},{key:"canAdd",value:function(m,v){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,v)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,parseInt(v))}},{key:"value",value:function(m){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,m))||void 0}}]),w}(l.default.Attributor.Class),E=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(E,_){for(var w=0;w<_.length;w++){var g=_[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,_,w){return _&&p(E.prototype,_),w&&p(E,w),E}}(),s=i(4),a=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function d(p,E){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:p}function h(p,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(p,E):p.__proto__=E)}var f=function(p){h(E,p);function E(){return c(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),E}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(k,C){for(var S=0;S<C.length;S++){var T=C[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,C,S){return C&&y(k.prototype,C),S&&y(k,S),k}}(),s=function y(k,C,S){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,C);if(T===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:y(N,C,S)}else{if("value"in T)return T.value;var I=T.get;return I===void 0?void 0:I.call(S)}},a=i(0),l=p(a),c=i(4),d=p(c),h=i(25),f=p(h);function p(y){return y&&y.__esModule?y:{default:y}}function E(y,k,C){return k in y?Object.defineProperty(y,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[k]=C,y}function _(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function w(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function g(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var m=function(y){g(k,y);function k(){return _(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(S,T){S===v.blotName&&!T?this.replaceWith(l.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,T){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,T),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,T))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(d.default);m.blotName="list-item",m.tagName="LI";var v=function(y){g(k,y),o(k,null,[{key:"create",value:function(S){var T=S==="ordered"?"OL":"UL",N=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,T);return(S==="checked"||S==="unchecked")&&N.setAttribute("data-checked",S==="checked"),N}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(C){_(this,k);var S=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C)),T=function(I){if(I.target.parentNode===C){var A=S.statics.formats(C),O=l.default.find(I.target);A==="checked"?O.format("list","unchecked"):A==="unchecked"&&O.format("list","checked")}};return C.addEventListener("touchstart",T),C.addEventListener("mousedown",T),S}return o(k,[{key:"format",value:function(S,T){this.children.length>0&&this.children.tail.format(S,T)}},{key:"formats",value:function(){return E({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,T){if(S instanceof m)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,T);else{var N=T==null?this.length():T.offset(this),I=this.split(N);I.parent.insertBefore(S,I)}}},{key:"optimize",value:function(S){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var T=l.default.create(this.statics.defaultChild);S.moveChildren(T),this.appendChild(T)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(f.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[m],r.ListItem=m,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(_,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,w,g){return w&&E(_.prototype,w),g&&E(_,g),_}}(),s=function E(_,w,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,w);if(m===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:E(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=function(E){f(_,E);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),_}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(0),l=d(a),c=i(27);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var E=["alt","height","width"],_=function(w){p(g,w);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(v,y){E.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return E.reduce(function(y,k){return v.hasAttribute(k)&&(y[k]=v.getAttribute(k)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,c.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(l.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(4),l=i(27),c=d(l);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var E=["height","width"],_=function(w){p(g,w);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(v,y){E.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return E.reduce(function(y,k){return v.hasAttribute(k)&&(y[k]=v.getAttribute(k)),y},{})}},{key:"sanitize",value:function(v){return c.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(a.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function v(y,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,k,C){return k&&v(y.prototype,k),C&&v(y,C),y}}(),s=function v(y,k,C){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,k);if(S===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:v(T,k,C)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(C)}},a=i(35),l=p(a),c=i(5),d=p(c),h=i(9),f=p(h);function p(v){return v&&v.__esModule?v:{default:v}}function E(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function _(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function w(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){w(y,v);function y(){return E(this,y),_(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(C){var S=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",C)),S}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(v){w(y,v),o(y,null,[{key:"register",value:function(){d.default.register(g,!0)}}]);function y(){E(this,y);var k=_(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(f.default);r.FormulaBlot=g,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function C(S,T){for(var N=0;N<T.length;N++){var I=T[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,T,N){return T&&C(S.prototype,T),N&&C(S,N),S}}(),s=function C(S,T,N){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,T);if(I===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:C(A,T,N)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(N)}},a=i(0),l=_(a),c=i(5),d=_(c),h=i(9),f=_(h),p=i(13),E=_(p);function _(C){return C&&C.__esModule?C:{default:C}}function w(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function g(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function m(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var v=function(C){m(S,C);function S(){return w(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),S}(E.default);v.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(C){m(S,C),o(S,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(v,!0)}}]);function S(T,N){w(this,S);var I=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,T,N));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return I.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){I.highlight(),A=null},I.options.interval)}),I.highlight(),I}return o(S,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(A){A.highlight(N.options.highlight)}),this.quill.update(d.default.sources.SILENT),I!=null&&this.quill.setSelection(I,d.default.sources.SILENT)}}}]),S}(f.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var S=window.hljs.highlightAuto(C);return S.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=y,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(T,N,I){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,N);if(A===void 0){var O=Object.getPrototypeOf(T);return O===null?void 0:S(O,N,I)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(I)}},s=function(){function S(T,N){for(var I=0;I<N.length;I++){var A=N[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,N,I){return N&&S(T.prototype,N),I&&S(T,I),T}}(),a=i(3),l=w(a),c=i(8),d=w(c),h=i(43),f=w(h),p=i(15),E=i(41),_=w(E);function w(S){return S&&S.__esModule?S:{default:S}}function g(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function v(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){v(T,S);function T(N,I){g(this,T),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=y);var A=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,N,I));return A.quill.container.classList.add("ql-bubble"),A}return s(T,[{key:"extendToolbar",value:function(I){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),_.default)}}]),T}(f.default);k.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(S){v(T,S);function T(N,I){g(this,T);var A=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,N,I));return A.quill.on(d.default.events.EDITOR_CHANGE,function(O,P,L,U){if(O===d.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&U===d.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var H=A.quill.getLines(P.index,P.length);if(H.length===1)A.position(A.quill.getBounds(P));else{var W=H[H.length-1],Q=A.quill.getIndex(W),q=Math.min(W.length()-1,P.index+P.length-Q),j=A.quill.getBounds(new p.Range(Q,q));A.position(j)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(T,[{key:"listen",value:function(){var I=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var A=I.quill.getSelection();A!=null&&I.position(I.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var A=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,I),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",A===0)return A;O.style.marginLeft=-1*A-O.offsetWidth/2+"px"}}]),T}(h.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(vw);var C3=vw.exports,x3=Kt&&Kt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=Kt&&Kt.__assign||function(){return lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lu.apply(this,arguments)},D3=Kt&&Kt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},ic=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},bn=ic(le),L3=ic(W0),Go=ic(R3),yv=ic(C3),M3=function(t){x3(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var c,d,h,f;o==="text-change"?(d=(c=r).onEditorChangeText)===null||d===void 0||d.call(c,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(bn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(bn.default.Children.count(n.children)){var i=bn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),D3(this.cleanProps,this.dirtyProps).some(function(l){return!Go.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Go.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),vv(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new yv.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Go.default(n.ops,r.ops):Go.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),vv(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=L3.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return bn.default.Children.count(i)?bn.default.cloneElement(bn.default.Children.only(i),a):o?bn.default.createElement("pre",lu({},a)):bn.default.createElement("div",lu({},a))},e.prototype.render=function(){var n;return bn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,c,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,p=h&&!n;Go.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((d=(c=this.props).onBlur)===null||d===void 0||d.call(c,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=yv.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(bn.default.Component);function vv(t){Promise.resolve().then(t)}var V3=M3;const j3=Cv(V3);const F3=()=>{const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,o]=le.useState(null),s=ku(),a=jd();return se("section",{children:[F("h2",{children:"Add a New Post"}),se("form",{onSubmit:d=>{d.preventDefault(),t&&n&&(s(UN(t,n,i)),a("/posts"))},children:[se("div",{children:[F("label",{htmlFor:"title",children:"Post Title"}),F("input",{type:"text",id:"title",value:t,onChange:d=>e(d.target.value),required:!0})]}),se("div",{children:[F("label",{htmlFor:"body",children:"Post Body"}),F(j3,{value:n,onChange:r,placeholder:"Write your post content here..."})]}),se("div",{children:[F("label",{htmlFor:"file",children:"Upload Image"}),F("input",{type:"file",id:"file",accept:"image/*",onChange:d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&o(h)}})]}),F("button",{type:"submit",children:"Add Post"})]})]})},B3=()=>{const{postId:t}=tA(),e=al(o=>zN(o,t||"")),n=ku(),r=jd();if(!e)return F("section",{children:F("h2",{children:"Post not found!"})});const i=async()=>{t&&(await n(XE(t)),r("/post"))};return se("article",{children:[F("h2",{children:e.title}),F("div",{className:"post-body",dangerouslySetInnerHTML:{__html:e.body}}),e.file&&F("div",{className:"post-image",children:F("img",{src:URL.createObjectURL(e.file),alt:"Post Image",className:"post-image__img"})}),F("p",{className:"postCredit",children:F(nw,{timestamp:e.date})}),F(rw,{post:e}),F("button",{onClick:i,children:"Delete Post"})]})},U3=()=>se("header",{className:"Header",children:[F("h1",{children:"Redux Blog"}),F("nav",{children:se("ul",{children:[F("li",{children:F(Vt,{to:"/",children:"Home"})}),F("li",{children:F(Vt,{to:"post",children:"Post"})})]})})]}),q3=()=>se(Cr,{children:[F(U3,{}),F("main",{className:"App",children:F(mA,{})})]});const $3="/vanessa_portfolio/assets/logo-header-785415d7.svg",z3="/vanessa_portfolio/assets/CV_VANESSA-MORENO-79892f4a.pdf",pi=()=>se("header",{className:"header-container",children:[F("div",{className:"logo",children:se(Vt,{to:"/",children:[" ",F("img",{src:$3,alt:"logo",className:"logo-img"})]})}),se("nav",{className:"menu",children:[F(Vt,{to:"/About",children:"About"}),F(Vt,{to:"/Projects",children:"Projects"}),F(Vt,{to:"/Contact",children:"Contact"}),F(Vt,{to:"/Blog",children:"Blog"}),F(Vt,{to:"/Gallery",children:"Gallery"}),F(Vt,{to:"/Videogallery",children:"VideoGallery"})]}),F("div",{className:"download-button",children:F("a",{href:z3,download:"CV_VANESSA-MORENO.pdf",className:"btn",children:"Download CV"})})]});const H3="/vanessa_portfolio/assets/logo-blanco-de5732a7.svg",W3="/vanessa_portfolio/assets/email-icon-3ec457f1.svg",K3="/vanessa_portfolio/assets/phone-icon-890f5a98.svg",mi=()=>F("footer",{className:"footer",children:se("div",{className:"footer-content",children:[se("div",{className:"footer-left",children:[F("img",{src:H3,alt:"Logo",className:"footer-logo"}),F("span",{className:"footer-name",children:"Vanessa Moreno"})]}),se("div",{className:"footer-right",children:[se("div",{className:"footer-item",children:[F("img",{src:W3,alt:"Email Icon",className:"footer-icon"}),F("span",{className:"footer-text",children:"vanessamorenoperez55@gmail.com"})]}),se("div",{className:"footer-item",children:[F("img",{src:K3,alt:"Phone Icon",className:"footer-icon"}),F("span",{className:"footer-text",children:"+353 89 945 1920"})]})]})]})});const G3="/vanessa_portfolio/assets/foto-yo-395e7f7f.png",Q3="/vanessa_portfolio/assets/expertise1-ee655838.svg",Y3="/vanessa_portfolio/assets/expertise2-60307fe1.svg",X3="/vanessa_portfolio/assets/expertise3-7580b34d.svg",J3="/vanessa_portfolio/assets/expertise4-3904ed02.svg",Z3="/vanessa_portfolio/assets/expertise5-e0fa7572.svg",eV="/vanessa_portfolio/assets/expertise6-59fb021b.svg",_w="/vanessa_portfolio/assets/project1-b8bde737.png",Ew="/vanessa_portfolio/assets/project2-2cbc25b1.png",ww="/vanessa_portfolio/assets/project3-79540a6c.png",Tw="/vanessa_portfolio/assets/project4-65dc9061.png",bw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEESURBVHgBtVRREYMwDC07BCABCUjAwSYBB8PBkIADmIJtCugUMAeVwBxkr3dlV0rKuMLe3ftpLi+8JEQQUSL+gAN4grgCGzAVewFiBU1xA3OxFZbw4BRQJpaKEFjCEszAluZodCxY2HpLzbtyCvT6PVjYieeMC/Vz2JawWrJrXLSMi451QfOt0EPUm1H6Cpkcybg4f10wwnaBljw9NS3qmZzKFR6FSl/v8J6AF5qvpjR5CdcKKfz9HQc4OF9Xk+dnihfEdPUCPIK5FXqBD7COoujty48ZwcyIlaB9oJ5gBTEp1oCm69Zxw6CQC0j8VkjaeIjsVuh+XcH7artLMBMvaeeD/wHz4BsG9h9+7wAAAABJRU5ErkJggg==",tV=()=>se(Cr,{children:[F(pi,{}),se("div",{className:"flex-container",children:[" ",se("div",{className:"descripcion",children:[F("span",{style:{color:"black",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:"HI, I AM "}),se("span",{style:{color:"#9C0000",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:["VANESSA, ",F("br",{})]}),se("span",{style:{color:"black",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:["AN UI DESIGNER ",F("br",{})," BASED IN LIMERICK"]})]}),F("div",{className:"foto-yo",children:F("img",{src:G3,width:"350",alt:"Foto de Vanessa"})})]}),se("div",{className:"banda",children:[F("div",{className:"banda-background"}),F("div",{className:"banda-item",children:"interface"}),F("div",{className:"banda-separator",children:"/"}),F("div",{className:"banda-item",children:"user experience"}),F("div",{className:"banda-separator",children:"/"}),F("div",{className:"banda-item",children:"web development"}),F("div",{className:"banda-separator",children:"/"}),F("div",{className:"banda-item",children:"branding & merch"}),F("div",{className:"banda-separator",children:"/"}),F("div",{className:"banda-item",children:"layout design"}),F("div",{className:"banda-separator",children:"/"}),F("div",{className:"banda-item",children:"motion graphics"})]}),F("div",{className:"What-can-do",style:{fontFamily:"Arial, sans-serif"},children:"What I can do"}),se("div",{className:"expertise",children:[" ",F("div",{className:"grid-item",children:F("img",{src:Q3,alt:"Expertise 1"})}),F("div",{className:"grid-item",children:F("img",{src:Y3,alt:"Expertise 2"})}),F("div",{className:"grid-item",children:F("img",{src:X3,alt:"Expertise 3"})}),F("div",{className:"grid-item",children:F("img",{src:J3,alt:"Expertise 4"})}),F("div",{className:"grid-item",children:F("img",{src:Z3,alt:"Expertise 5"})}),F("div",{className:"grid-item",children:F("img",{src:eV,alt:"Expertise 6"})})]}),se("div",{className:"featured-works-section",children:[F("h2",{className:"featured-works-title",style:{fontFamily:"Arial, sans-serif"},children:"Featured Works"}),se("div",{className:"featured-works",children:[se("div",{className:"work-box",children:[F("img",{src:_w,alt:"Project 1",className:"project-image-home"}),F("div",{className:"project-label",children:"Project"}),F("h3",{className:"project-title",children:"Ños! Gofio"}),F("p",{className:"project-skills",children:"Logo Design · Packaging · Web Design · Merchandising"}),F("a",{href:"#",className:"view-more-btn",children:"View More ➔"})]}),se("div",{className:"work-box",children:[F("img",{src:Ew,alt:"Project 2",className:"project-image-home"}),F("div",{className:"project-label",children:"Project"}),F("h3",{className:"project-title",children:"Cinedfest"}),F("p",{className:"project-skills",children:"Logo Design · Social Media · Poster · Merchandising"}),F("a",{href:"#",className:"view-more-btn",children:"View More ➔"})]}),se("div",{className:"work-box",children:[F("img",{src:ww,alt:"Project 3",className:"project-image-home"}),F("div",{className:"project-label",children:"Project"}),F("h3",{className:"project-title",children:"Cipselas"}),F("p",{className:"project-skills",children:"Layout Design · Visual System · Microtypography"}),F("a",{href:"#",className:"view-more-btn",children:"View More ➔"})]}),se("div",{className:"work-box",children:[F("img",{src:Tw,alt:"Project 4",className:"project-image-home"}),F("div",{className:"project-label",children:"Project"}),F("h3",{className:"project-title",children:"Greenport Dashboard"}),F("p",{className:"project-skills",children:"Logo Design · UI Design · Visual System · Diagrams"}),F("a",{href:"#",className:"view-more-btn",children:"View More ➔"})]})]})]}),se("div",{className:"contact-form-section",children:[F("h2",{className:"contact-form-title",style:{fontFamily:"Arial, sans-serif"},children:"Let's chat!"}),se("form",{className:"contact-form",children:[se("div",{className:"form-row",children:[F("input",{type:"text",placeholder:"Name",className:"form-input"})," ",F("input",{type:"email",placeholder:"Email",className:"form-input"})," "]}),F("textarea",{placeholder:"Message",className:"form-textarea"})," ",se("button",{type:"submit",className:"submit-btn",children:[" ",F("span",{children:"Get in touch"}),F("img",{src:bw,alt:"Send",className:"send-icon"})]})]})]}),F("footer",{children:F(mi,{})})]}),nV="/vanessa_portfolio/assets/foto-yo-about-a86483d2.png";const rV=()=>se(Cr,{children:[F(pi,{}),se("div",{className:"about-container",children:[se("div",{className:"about-text",children:[F("h2",{className:"about-title",children:"About Me"}),se("p",{className:"about-description",children:["I’m an Interaction and Experience Designer with a background ",F("br",{}),"in Graphic Design, holding a Bachelor’s in Design and ",F("br",{}),"currently pursuing a Master’s in Interaction Design at the ",F("br",{}),"University of Limerick."]}),se("p",{className:"about-description",children:["Since 2021, I’ve worked as a UX/UI Designer and Graphic ",F("br",{}),"Designer with clients and studios in Gran Canaria. I have led ",F("br",{}),"projects ranging from resource management dashboards to ",F("br",{}),"branding, merchandising, and logo design."]}),se("p",{className:"about-description",children:["I’m proficient in tools like Figma, React, WordPress, and Adobe ",F("br",{}),"Suite. I bring a research-driven approach to creating ",F("br",{}),"functional and impactful designs."]}),se("div",{className:"contact-info",children:[F("p",{children:"vanessamorenoperez55@gmail.com"}),F("p",{children:"+353 89 945 1920"})]})]}),F("div",{className:"about-image-container",children:F("div",{className:"about-image-placeholder",children:F("img",{src:nV,alt:"Descripción de la imagen",className:"about-image"})})})]}),F("footer",{children:F(mi,{})})]});const iV="/vanessa_portfolio/assets/gallery-icon-cb84195d.svg",oV="/vanessa_portfolio/assets/videogallery-icon-2bfb7147.svg",sV=()=>se(Cr,{children:[F(pi,{}),se("div",{className:"row",children:[se("div",{className:"column-project",children:[F("h2",{className:"column-title-project",children:"Projects"}),se("p",{className:"column-text-project",children:["With a background in Graphic Design, I’ve developed a refined ",F("br",{}),"visual sensitivity that, combined with my UX/UI specialization, ",F("br",{}),"allows me to create impactful projects across various fields of ",F("br",{}),"visual communication. From branding and logo design to web ",F("br",{}),"development and interface design, my experience spans ",F("br",{}),"multiple aspects of digital and visual storytelling."]}),se("p",{className:"column-text-project",children:["Feel free to explore individual projects or browse ",F("br",{}),"through the galleries for a closer look at my work."]}),se("button",{type:"button",className:"gallery-btn",children:[" ",se(Vt,{to:"/gallery",className:"gallery-link",children:[F("span",{children:"Gallery"}),F("img",{src:iV,alt:"gallery",className:"gallery-icon"})]})]}),se("button",{type:"button",className:"videogallery-btn",children:[" ",se(Vt,{to:"/videogallery",className:"gallery-link",children:[F("span",{children:"Video Gallery"}),F("img",{src:oV,alt:"video gallery",className:"gallery-icon"})]})]})]}),F("div",{className:"column",children:se("div",{className:"work-boxes",children:[F(Ka,{imgSrc:_w,title:"Ños! Gofio",skills:"Logo Design · Packaging · Web Design · Merchandising"}),F(Ka,{imgSrc:Ew,title:"Cinedfest",skills:"Logo Design · Social Media · Poster · Merchandising"}),F(Ka,{imgSrc:ww,title:"Cipselas",skills:"Layout Design · Visual System · Microtypography"}),F(Ka,{imgSrc:Tw,title:"Greenport Dashboard",skills:"Logo Design · UI Design · Visual System · Diagrams"})]})})]}),F("footer",{children:F(mi,{})})]}),Ka=({imgSrc:t,title:e,skills:n})=>se("div",{className:"work-item",children:[F("img",{src:t,alt:e,className:"project-image"}),F("div",{className:"project-label",children:"Project"}),F("h3",{className:"project-title",children:e}),F("p",{className:"project-skills",children:n}),F("a",{href:"#",className:"view-more-btn",children:"View More ➔"})]});const aV="/vanessa_portfolio/assets/email-icon-red-377e465c.svg",lV="/vanessa_portfolio/assets/phone-icon-red-6dc880c5.svg",uV=()=>se(Cr,{children:[F(pi,{}),se("div",{className:"row",children:[se("div",{className:"column",children:[F("h2",{className:"column-title",children:"Contact"}),se("p",{className:"column-text",children:[F("img",{src:aV,alt:"Email Icon",style:{width:"20px",marginRight:"8px"}}),"vanessamorenoperez55@gmail.com ",F("br",{}),F("img",{src:lV,alt:"Phone Icon",style:{width:"20px",marginRight:"8px"}}),"+353 89 945 1920"]})]}),F("div",{className:"column",children:se("div",{className:"contact-form-section",children:[F("h2",{className:"contact-form-title",children:"Let's chat!"}),se("form",{className:"contact-form",children:[se("div",{className:"form-row",children:[F("input",{type:"text",placeholder:"Name",className:"form-input"}),F("input",{type:"email",placeholder:"Email",className:"form-input"})]}),F("textarea",{placeholder:"Message",className:"form-textarea"}),se("button",{type:"submit",className:"submit-btn",children:[F("span",{children:"Get in touch"}),F("img",{src:bw,alt:"Send",className:"send-icon"})]})]})]})})]}),F("footer",{children:F(mi,{})})]});const cV="/vanessa_portfolio/assets/gallery-image_A-bddfba88.jpg",fV="/vanessa_portfolio/assets/gallery-image_B-6027bc0b.jpg",hV="/vanessa_portfolio/assets/gallery-image_C-8ba110e2.jpg",dV="/vanessa_portfolio/assets/gallery-image_D-dc945784.jpg",pV="/vanessa_portfolio/assets/gallery-image_E-f2cc8720.jpg",mV="/vanessa_portfolio/assets/gallery-image_F-ce6048d6.jpg",gV="/vanessa_portfolio/assets/gallery-image_G-bc9e3569.jpg",yV="/vanessa_portfolio/assets/gallery-image_H-c4b1494d.jpg",vV="/vanessa_portfolio/assets/gallery-image_I-e22792ed.jpg",Ga=[cV,fV,hV,dV,pV,mV,gV,yV,vV],_V=()=>{const[t,e]=le.useState(!1),[n,r]=le.useState(0),i=a=>{r(a),e(!0)},o=()=>{r(a=>a===Ga.length-1?0:a+1)},s=()=>{r(a=>a===0?Ga.length-1:a-1)};return se(Cr,{children:[F(pi,{}),se("div",{className:"row",children:[" ",se("div",{className:"column-gallery",children:[F(Vt,{to:"/projects",className:"go-back-btn-gallery",children:"← Go back"})," ",F("h2",{className:"column-title-gallery",children:"Gallery"})," "]}),se("div",{className:"image-gallery",children:[" ",Ga.map((a,l)=>F("img",{src:a,alt:`Gallery Image ${l+1}`,className:"gallery-image",onClick:()=>i(l)},l))]})]}),t&&se("div",{className:"overlay",onClick:()=>e(!1),children:[" ",F("button",{className:"arrow left-arrow",onClick:a=>{a.stopPropagation(),s()},children:"← "}),F("img",{src:Ga[n],alt:"Expanded view",className:"expanded-image"})," ",F("button",{className:"arrow right-arrow",onClick:a=>{a.stopPropagation(),o()},children:"→ "})]}),F("footer",{children:F(mi,{})})]})};const _v="/vanessa_portfolio/assets/0-64e5cb58.png",Ev="/vanessa_portfolio/assets/1-95da7fa2.png",wv="/vanessa_portfolio/assets/2-990fac7e.png",Tv="/vanessa_portfolio/assets/3-464fb5e0.png",bv="/vanessa_portfolio/assets/4-67e1bbf3.png",Sv="/vanessa_portfolio/assets/5-f34686dd.png",Av="/vanessa_portfolio/assets/6-6cd5c656.png",Iv="/vanessa_portfolio/assets/7-88acc73e.png",kv="/vanessa_portfolio/assets/8-5c9353f6.png",Pv="/vanessa_portfolio/assets/9-8f6001aa.png",Ov="/vanessa_portfolio/assets/business-headshot-b19fd069.jpg",Nv="/vanessa_portfolio/assets/aesthetic-shot-009a19fc.jpg",Rv="/vanessa_portfolio/assets/passion-shot-28249c96.jpg",EV=()=>{const[t,e]=le.useState(!1),[n,r]=le.useState(""),i=[{src:_v,alt:"Image 0"},{src:Ev,alt:"Image 1"},{src:wv,alt:"Image 2"},{src:Tv,alt:"Image 3"},{src:bv,alt:"Image 4"},{src:Sv,alt:"Image 5"},{src:Av,alt:"Image 6"},{src:Iv,alt:"Image 7"},{src:kv,alt:"Image 8"},{src:Pv,alt:"Image 9"},{src:Ov,alt:"Business Headshot"},{src:Nv,alt:"Aesthetic Shot"},{src:Rv,alt:"Passion Shot"}],o=a=>{r(i[a].src),e(!0)};return se(Cr,{children:[F(pi,{}),se("div",{className:"container",children:[" ",F("h1",{className:"blog-title",children:"Blog"})," ",se("div",{className:"post",children:[F("h2",{className:"post-title",children:"Photography Series Analysis"}),se("div",{className:"post-meta",children:[F("span",{className:"post-date",children:"Published: 30/10/2024"})," |",F("span",{className:"post-read-time",children:"Reading time: 8 min"})]}),F("p",{className:"post-content",children:"This photography series includes three different images: a professional headshot, an aesthetic portrait, and a photo that shows my personal passion. Each image is designed to share a specific message or mood, highlighting different aspects of portrait photography and thematic expression."}),F("p",{className:"post-content",children:"To develop each idea, I started with a brainstorming session to get my thoughts in line with the project brief. I listed possible themes and visual elements that would help to communicate the message I wanted. After picking the key concepts, I sketched out each idea, thinking about important details like location, lighting, camera angles, clothes and props. I also looked for visual references and created mood boards to clarify the overall direction for each shot. All the photos were edited in Adobe Photoshop."}),F("h3",{className:"post-subtitle",children:"Business-Type Headshot"}),F("img",{className:"post-image",src:Ov,alt:"Business Headshot",onClick:()=>o(10)}),F("p",{className:"post-content",children:"For the business headshot, I wanted to create an image that balances professionalism with approachability. I chose soft frontal lighting to keep the exposure even across my face and avoid harsh shadows, giving a clean and polished look. I went with a plain white background, which I planned to replace later with a softly blurred office background, adding context without distracting from the subject."}),F("p",{className:"post-content",children:"In terms of framing, I opted for a close-up shot, focusing on the upper part of my torso and my face to draw attention to my expression. Unlike other portraits where I might not wear my glasses, I decided to wear them here to project a more intellectual appearance, as glasses are often associated with reading and screen work. To strike a balance between formality and friendliness, I tilted my head slightly to the left, breaking the symmetry to avoid a stiff look. I also wore a simple headband to keep my hair back, ensuring my face was clear and focused, along with a turtleneck blouse that added a touch of professionalism while maintaining a modern feel."}),F("p",{className:"post-content",children:"For facial expressions, I tried out a few options: a big smile, a soft smile without showing my teeth and a neutral look. After checking them out, I chose the full smile for its friendly quality. Including a warm smile gives the image a sense of reliability, which is boosted by the lighting and wardrobe choices."}),F("h3",{className:"post-subtitle",children:"Aesthetic Shot"}),F("img",{className:"post-image",src:Nv,alt:"Aesthetic Shot",onClick:()=>o(11)}),F("p",{className:"post-content",children:"For the aesthetic shot, I drew inspiration from cinematic photography that features deep shadows and rich colours, aiming to create a moody and thoughtful atmosphere. I set up the composition with a centered point of interest: a window right in the middle, with me sitting on the window ledge in a relaxed and introspective pose looking at the outside. This setup was meant to symbolize a contrast between inner darkness and the colourful world outside, serving as a reminder of hope in tough times."}),F("p",{className:"post-content",children:"To achieve the right atmosphere, I relied entirely on natural light, avoiding artificial sources to enhance the room's darkness. By positioning the camera to focus on the window, I let the outside light shape the composition, creating a strong contrast between the bright window and the shadowy interior. This lighting choice highlighted my silhouette against the brighter outdoor scene."}),F("p",{className:"post-content",children:"For my outfit, I went with an all-black look to keep the focus on the light and mood without adding any distractions. In post-production, I made a few adjustments to enhance the atmosphere of the image. I boosted the greens visible through the window and subtly increased the contrast to sharpen the silhouette and enrich the tonal range, allowing the main elements of the composition to stand out."}),F("h3",{className:"post-subtitle",children:"Passion Shot"}),F("img",{className:"post-image",src:Rv,alt:"Passion Shot",onClick:()=>o(12)}),F("p",{className:"post-content",children:"For the passion shot, I wanted to capture my favourite activity since moving to Ireland: traveling and exploring new places. To visually share this topic, I carefully arranged a composition with key items related to trip planning. These included a map with some locations circled, a pen, a Pinterest board full of ideas, a tourist brochure with potential destinations and some decorative elements like a small plant and a cup of coffee. This setup was meant to evoke the feeling of getting ready for an adventure."}),F("p",{className:"post-content",children:"To create a balanced and visually interesting composition, I arranged these items within the frame, making sure each element contributed to the overall story without overcrowding the space. I had to ensure that details, especially the circled spots on the map, were clear for the viewer. This took several tries to position the objects and adjust the camera angle for the best shot. The goal was to keep things organized while creating a casual, inviting atmosphere that reflects the excitement of planning a trip."}),F("p",{className:"post-content",children:"The background for this shot was my desk, which is originally brown and did not fit the colour palette and look I was looking for. To fix this, I used Photoshop to edit the image by selecting the table and adjusting its colour, brightness and contrast, turning it into a white surface. This change made the composition pop, allowing the travel-related items to stand out and creating a cohesive visual experience that matched the theme of exploration and creativity."})]}),F("hr",{}),se("div",{className:"post",children:[F("h2",{className:"post-title",children:"Contribution to Video Assignment: Drink for Thought"}),se("div",{className:"post-meta",children:[F("span",{className:"post-date",children:"Published: 23/11/2024"})," |",F("span",{className:"post-read-time",children:"Reading time: 8 min"})]}),F("p",{className:"post-content",children:"During the production of the video Drink for Thought, I played as the Manager for the meeting scenes and in production I took on the role of editor. My responsibilities included reviewing and enhancing the quality of the footage by balancing brightness, colours and contrast, combining all the shots and incorporating special effects and music."}),F("p",{className:"post-content",children:"For the editing process, I used Adobe After Effects. Once all the footage was recorded, the team uploaded the clips to a shared folder, where I retrieved them. I began by cutting and arranging the footage into a cohesive timeline in After Effects, ensuring the final video would not exceed two minutes."}),se("div",{className:"post-images-container",children:[F("img",{className:"post-image2",src:_v,alt:"after-effects",onClick:()=>o(0)}),F("img",{className:"post-image2",src:Ev,alt:"acting role",onClick:()=>o(1)})]}),F("h3",{className:"post-subtitle",children:"Visual Adjustments and Editing"}),F("p",{className:"post-content",children:"After organizing the footage, I focused on unifying brightness, colours and contrast, since some of the scenes were filmed from different angles and different illumination. I mainly used the Lumetri Color tool in After Effects to achieve a consistent look throughout the video."}),se("div",{className:"post-images-container",children:[F("img",{className:"post-image2",src:wv,alt:"scene1-comparison",onClick:()=>o(2)}),F("img",{className:"post-image2",src:Tv,alt:"scene2-comparison",onClick:()=>o(3)}),F("img",{className:"post-image2",src:bv,alt:"scene3-comparison",onClick:()=>o(4)}),F("img",{className:"post-image2",src:Sv,alt:"sequence-comparison",onClick:()=>o(5)})]}),F("h3",{className:"post-subtitle",children:"Special Effects and Compositions"}),F("p",{className:"post-content",children:'Next, I added special effects to enhance the storytelling. For the final shot of the apple juice, I replaced the background with a graphic composition created in Adobe Photoshop. Secondly, I animated a light bulb that appears when the designer conceives a new packaging idea. I also created fade-in and fade-out compositions in Adobe Illustrator and incorporated a translucent screen transition with the "two weeks later."'}),se("div",{className:"post-images-container",children:[F("img",{className:"post-image2",src:Av,alt:"product-composition",onClick:()=>o(6)}),F("img",{className:"post-image2",src:Iv,alt:"idea-icon",onClick:()=>o(7)}),F("img",{className:"post-image2",src:kv,alt:"credits",onClick:()=>o(8)})]}),F("h3",{className:"post-subtitle",children:"Audio Design"}),F("p",{className:"post-content",children:'Since all the scenes were silent, I selected music and sound effects to complement the video. Using Bensound.com and Freesound.org, I matched music to the three narrative sections: failure, change and success, ensuring the mood aligned with the emotions of the protagonist. For sound effects, I synchronized the "idea" sound and the apple-biting sound, both downloaded from Freesound, with the composed shoots.'}),F("h3",{className:"post-subtitle",children:"Export and Final Details"}),F("p",{className:"post-content",children:"Finally, I exported the final video using Adobe Media Encoder. To meet the 25 MB size limit without sacrificing quality, I adjusted the bitrate encoding to VBR 2-pass, with bitrates set between 1.57 and 5.37. This optimization ensured the video maintained high quality while adhering to file size constraints."}),F("div",{className:"post-images-container",children:F("img",{className:"post-image2",src:Pv,alt:"export-configuration",onClick:()=>o(9)})}),F("h3",{className:"post-subtitle",children:"Outcome Reflection"}),F("p",{className:"post-content",children:"This project allowed me to manage post-production editing and creative enhancements. My role was instrumental in unifying the team's efforts into a cohesive final product that communicated our idea. I particularly learnt a lot about video compression because of the file size limits, it required a lot of research and trial-error."}),F("p",{className:"post-content",children:"I feel satisfied and proud with how my contributions brought the project all together and how it aligned with the team’s collective vision."})]})]}),t&&F("div",{className:"lightbox",onClick:()=>{e(!1)},children:F("div",{className:"lightbox-content",children:F("img",{className:"lightbox-image",src:n,alt:"Enlarged view"})})}),F("footer",{children:F(mi,{})})]})};function wV(){const[t,e]=le.useState(0),n=["./video1.mp4","./video2.mp4","./video3.mp4"];function r(){e(o=>(o+1)%n.length)}function i(){e(o=>(o-1+n.length)%n.length)}return se(Cr,{children:[F(pi,{}),se("div",{className:"row",children:[se("div",{className:"column-videogallery",children:[" ",F(Vt,{to:"/projects",className:"go-back-btn",children:"← Go back"}),F("h2",{className:"column-title-videogallery",children:"VideoGallery"})]}),se("div",{className:"video-gallery-container",children:[" ",F("video",{src:n[t],controls:!0,className:"video-player"},n[t]),se("div",{className:"video-gallery-buttons",children:[F("button",{onClick:i,className:"video-gallery-button",children:"Previous"}),F("button",{onClick:r,className:"video-gallery-button",children:"Next"})]})]})]}),F(mi,{})]})}const TV=()=>se(SA,{basename:"/vanessa_portfolio",children:[" ",F("div",{className:"app-container",children:se(yA,{children:[F(Ht,{path:"/",element:F(tV,{})}),F(Ht,{path:"/about",element:F(rV,{})}),F(Ht,{path:"/projects",element:F(sV,{})}),F(Ht,{path:"/contact",element:F(uV,{})}),F(Ht,{path:"/gallery",element:F(_V,{})}),F(Ht,{path:"/blog",element:F(EV,{})}),F(Ht,{path:"/videogallery",element:F(wV,{})}),se(Ht,{path:"/",element:F(q3,{}),children:[F(Ht,{index:!0,element:F(iC,{})}),se(Ht,{path:"post",children:[F(Ht,{index:!0,element:F(F3,{})}),F(Ht,{path:":postId",element:F(B3,{})})]})]})]})})]}),Sw=bI({reducer:{posts:KN}}),bV=()=>(le.useEffect(()=>{Sw.dispatch(ys())},[]),F(TV,{}));K0(document.getElementById("root")).render(F(le.StrictMode,{children:F(GA,{store:Sw,children:F(bV,{})})}));
