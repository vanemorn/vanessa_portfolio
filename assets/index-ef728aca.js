var zT=Object.defineProperty;var HT=(t,e,n)=>e in t?zT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cc=(t,e,n)=>(HT(t,typeof e!="symbol"?e+"":e,n),n);function WT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},wu={},i_={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),KT=Symbol.for("react.portal"),GT=Symbol.for("react.fragment"),QT=Symbol.for("react.strict_mode"),YT=Symbol.for("react.profiler"),XT=Symbol.for("react.provider"),ZT=Symbol.for("react.context"),JT=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.memo"),nb=Symbol.for("react.lazy"),Vm=Symbol.iterator;function rb(t){return t===null||typeof t!="object"?null:(t=Vm&&t[Vm]||t["@@iterator"],typeof t=="function"?t:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s_=Object.assign,a_={};function vo(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||o_}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l_(){}l_.prototype=vo.prototype;function td(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||o_}var nd=td.prototype=new l_;nd.constructor=td;s_(nd,vo.prototype);nd.isPureReactComponent=!0;var Fm=Array.isArray,u_=Object.prototype.hasOwnProperty,rd={current:null},c_={key:!0,ref:!0,__self:!0,__source:!0};function f_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)u_.call(e,r)&&!c_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ia,type:t,key:o,ref:s,props:i,_owner:rd.current}}function ib(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function id(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function ob(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jm=/\/+/g;function xc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ob(""+t.key):e.toString(36)}function ll(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ia:case KT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xc(s,0):r,Fm(i)?(n="",t!=null&&(n=t.replace(jm,"$&/")+"/"),ll(i,e,n,"",function(c){return c})):i!=null&&(id(i)&&(i=ib(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Fm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+xc(o,a);s+=ll(o,e,n,l,i)}else if(l=rb(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+xc(o,a++),s+=ll(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Na(t,e,n){if(t==null)return t;var r=[],i=0;return ll(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},ul={transition:null},ab={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:rd};function h_(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Na,forEach:function(t,e,n){Na(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Na(t,function(){e++}),e},toArray:function(t){return Na(t,function(e){return e})||[]},only:function(t){if(!id(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=vo;Ie.Fragment=GT;Ie.Profiler=YT;Ie.PureComponent=td;Ie.StrictMode=QT;Ie.Suspense=eb;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;Ie.act=h_;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=s_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u_.call(e,l)&&!c_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ia,type:t.type,key:i,ref:o,props:r,_owner:s}};Ie.createContext=function(t){return t={$$typeof:ZT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XT,_context:t},t.Consumer=t};Ie.createElement=f_;Ie.createFactory=function(t){var e=f_.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:JT,render:t}};Ie.isValidElement=id;Ie.lazy=function(t){return{$$typeof:nb,_payload:{_status:-1,_result:t},_init:sb}};Ie.memo=function(t,e){return{$$typeof:tb,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};Ie.unstable_act=h_;Ie.useCallback=function(t,e){return Vt.current.useCallback(t,e)};Ie.useContext=function(t){return Vt.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Vt.current.useEffect(t,e)};Ie.useId=function(){return Vt.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Vt.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};Ie.useRef=function(t){return Vt.current.useRef(t)};Ie.useState=function(t){return Vt.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Vt.current.useTransition()};Ie.version="18.3.1";i_.exports=Ie;var le=i_.exports;const d_=n_(le),If=WT({__proto__:null,default:d_},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=le,ub=Symbol.for("react.element"),cb=Symbol.for("react.fragment"),fb=Object.prototype.hasOwnProperty,hb=lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,db={key:!0,ref:!0,__self:!0,__source:!0};function p_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fb.call(e,r)&&!db.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ub,type:t,key:o,ref:s,props:i,_owner:hb.current}}wu.Fragment=cb;wu.jsx=p_;wu.jsxs=p_;r_.exports=wu;var od=r_.exports;const jr=od.Fragment,j=od.jsx,se=od.jsxs;var m_={exports:{}},sn={},g_={exports:{}},y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,q){var F=Q.length;Q.push(q);e:for(;0<F;){var x=F-1>>>1,M=Q[x];if(0<i(M,q))Q[x]=q,Q[F]=M,F=x;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var q=Q[0],F=Q.pop();if(F!==q){Q[0]=F;e:for(var x=0,M=Q.length,B=M>>>1;x<B;){var K=2*(x+1)-1,z=Q[K],V=K+1,$=Q[V];if(0>i(z,F))V<M&&0>i($,z)?(Q[x]=$,Q[V]=F,x=V):(Q[x]=z,Q[K]=F,x=K);else if(V<M&&0>i($,F))Q[x]=$,Q[V]=F,x=V;else break e}}return q}function i(Q,q){var F=Q.sortIndex-q.sortIndex;return F!==0?F:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=Q)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function y(Q){if(E=!1,v(Q),!_)if(n(l)!==null)_=!0,H(k);else{var q=n(c);q!==null&&W(y,q.startTime-Q)}}function k(Q,q){_=!1,E&&(E=!1,g(T),T=-1),p=!0;var F=f;try{for(v(q),h=n(l);h!==null&&(!(h.expirationTime>q)||Q&&!S());){var x=h.callback;if(typeof x=="function"){h.callback=null,f=h.priorityLevel;var M=x(h.expirationTime<=q);q=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),v(q)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var K=n(c);K!==null&&W(y,K.startTime-q),B=!1}return B}finally{h=null,f=F,p=!1}}var C=!1,A=null,T=-1,O=5,I=-1;function S(){return!(t.unstable_now()-I<O)}function R(){if(A!==null){var Q=t.unstable_now();I=Q;var q=!0;try{q=A(!0,Q)}finally{q?P():(C=!1,A=null)}}else C=!1}var P;if(typeof m=="function")P=function(){m(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=R,P=function(){U.postMessage(null)}}else P=function(){w(R,0)};function H(Q){A=Q,C||(C=!0,P())}function W(Q,q){T=w(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,H(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var F=f;f=q;try{return Q()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var F=f;f=Q;try{return q()}finally{f=F}},t.unstable_scheduleCallback=function(Q,q,F){var x=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?x+F:x):F=x,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,Q={id:d++,callback:q,priorityLevel:Q,startTime:F,expirationTime:M,sortIndex:-1},F>x?(Q.sortIndex=F,e(c,Q),n(l)===null&&Q===n(c)&&(E?(g(T),T=-1):E=!0,W(y,F-x))):(Q.sortIndex=M,e(l,Q),_||p||(_=!0,H(k))),Q},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Q){var q=f;return function(){var F=f;f=q;try{return Q.apply(this,arguments)}finally{f=F}}}})(y_);g_.exports=y_;var pb=g_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=le,nn=pb;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v_=new Set,Rs={};function vi(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Rs[t]=e,t=0;t<e.length;t++)v_.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=Object.prototype.hasOwnProperty,gb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},Um={};function yb(t){return kf.call(Um,t)?!0:kf.call(Bm,t)?!1:gb.test(t)?Um[t]=!0:(Bm[t]=!0,!1)}function vb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _b(t,e,n,r){if(e===null||typeof e>"u"||vb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function ad(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sd,ad);wt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sd,ad);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sd,ad);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_b(e,n,i,r)&&(n=null),r||i===null?yb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ca=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),E_=Symbol.for("react.context"),cd=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),fd=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),w_=Symbol.for("react.offscreen"),qm=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=qm&&t[qm]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Dc;function ss(t){if(Dc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dc=e&&e[1]||""}return`
`+Dc+t}var Lc=!1;function Mc(t,e){if(!t||Lc)return"";Lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Lc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function Eb(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=Mc(t.type,!1),t;case 11:return t=Mc(t.type.render,!1),t;case 1:return t=Mc(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Mi:return"Portal";case Pf:return"Profiler";case ud:return"StrictMode";case Rf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E_:return(t.displayName||"Context")+".Consumer";case __:return(t._context.displayName||"Context")+".Provider";case cd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fd:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case lr:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function wb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tb(t){var e=T_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xa(t){t._valueTracker||(t._valueTracker=Tb(t))}function b_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cf(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $m(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A_(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function xf(t,e){A_(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Df(t,e.type,n):e.hasOwnProperty("defaultValue")&&Df(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Df(t,e,n){(e!=="number"||Pl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function Gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(as(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function S_(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Da,k_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bb=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(t){bb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ps[e]=ps[t]})});function P_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ps.hasOwnProperty(t)&&ps[t]?(""+e).trim():e+"px"}function R_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ab=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vf(t,e){if(e){if(Ab[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bf=null,Qi=null,Yi=null;function Km(t){if(t=aa(t)){if(typeof Bf!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Iu(e),Bf(t.stateNode,t.type,e))}}function O_(t){Qi?Yi?Yi.push(t):Yi=[t]:Qi=t}function N_(){if(Qi){var t=Qi,e=Yi;if(Yi=Qi=null,Km(t),e)for(t=0;t<e.length;t++)Km(e[t])}}function C_(t,e){return t(e)}function x_(){}var Vc=!1;function D_(t,e,n){if(Vc)return t(e,n);Vc=!0;try{return C_(t,e,n)}finally{Vc=!1,(Qi!==null||Yi!==null)&&(x_(),N_())}}function Ns(t,e){var n=t.stateNode;if(n===null)return null;var r=Iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Uf=!1;if(Kn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Uf=!1}function Sb(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ms=!1,Rl=null,Ol=!1,qf=null,Ib={onError:function(t){ms=!0,Rl=t}};function kb(t,e,n,r,i,o,s,a,l){ms=!1,Rl=null,Sb.apply(Ib,arguments)}function Pb(t,e,n,r,i,o,s,a,l){if(kb.apply(this,arguments),ms){if(ms){var c=Rl;ms=!1,Rl=null}else throw Error(oe(198));Ol||(Ol=!0,qf=c)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gm(t){if(_i(t)!==t)throw Error(oe(188))}function Rb(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gm(i),t;if(o===r)return Gm(i),e;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function M_(t){return t=Rb(t),t!==null?V_(t):null}function V_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V_(t);if(e!==null)return e;t=t.sibling}return null}var F_=nn.unstable_scheduleCallback,Qm=nn.unstable_cancelCallback,Ob=nn.unstable_shouldYield,Nb=nn.unstable_requestPaint,nt=nn.unstable_now,Cb=nn.unstable_getCurrentPriorityLevel,dd=nn.unstable_ImmediatePriority,j_=nn.unstable_UserBlockingPriority,Nl=nn.unstable_NormalPriority,xb=nn.unstable_LowPriority,B_=nn.unstable_IdlePriority,Tu=null,Cn=null;function Db(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Tu,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Vb,Lb=Math.log,Mb=Math.LN2;function Vb(t){return t>>>=0,t===0?32:31-(Lb(t)/Mb|0)|0}var La=64,Ma=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ls(a):(o&=s,o!==0&&(r=ls(o)))}else s=n&~i,s!==0?r=ls(s):o!==0&&(r=ls(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function Fb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-bn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Fb(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function $f(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U_(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function Fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function Bb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function pd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function q_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $_,md,z_,H_,W_,zf=!1,Va=[],yr=null,vr=null,_r=null,Cs=new Map,xs=new Map,cr=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(t,e){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(e.pointerId)}}function Go(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=aa(e),e!==null&&md(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qb(t,e,n,r,i){switch(e){case"focusin":return yr=Go(yr,t,e,n,r,i),!0;case"dragenter":return vr=Go(vr,t,e,n,r,i),!0;case"mouseover":return _r=Go(_r,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Cs.set(o,Go(Cs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xs.set(o,Go(xs.get(o)||null,t,e,n,r,i)),!0}return!1}function K_(t){var e=ei(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=L_(n),e!==null){t.blockedOn=e,W_(t.priority,function(){z_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return e=aa(n),e!==null&&md(e),t.blockedOn=n,!1;e.shift()}return!0}function Xm(t,e,n){cl(t)&&n.delete(e)}function $b(){zf=!1,yr!==null&&cl(yr)&&(yr=null),vr!==null&&cl(vr)&&(vr=null),_r!==null&&cl(_r)&&(_r=null),Cs.forEach(Xm),xs.forEach(Xm)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,zf||(zf=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,$b)))}function Ds(t){function e(i){return Qo(i,t)}if(0<Va.length){Qo(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yr!==null&&Qo(yr,t),vr!==null&&Qo(vr,t),_r!==null&&Qo(_r,t),Cs.forEach(e),xs.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)K_(n),n.blockedOn===null&&cr.shift()}var Xi=tr.ReactCurrentBatchConfig,xl=!0;function zb(t,e,n,r){var i=Le,o=Xi.transition;Xi.transition=null;try{Le=1,gd(t,e,n,r)}finally{Le=i,Xi.transition=o}}function Hb(t,e,n,r){var i=Le,o=Xi.transition;Xi.transition=null;try{Le=4,gd(t,e,n,r)}finally{Le=i,Xi.transition=o}}function gd(t,e,n,r){if(xl){var i=Hf(t,e,n,r);if(i===null)Gc(t,e,r,Dl,n),Ym(t,r);else if(qb(i,t,e,n,r))r.stopPropagation();else if(Ym(t,r),e&4&&-1<Ub.indexOf(t)){for(;i!==null;){var o=aa(i);if(o!==null&&$_(o),o=Hf(t,e,n,r),o===null&&Gc(t,e,r,Dl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gc(t,e,r,null,n)}}var Dl=null;function Hf(t,e,n,r){if(Dl=null,t=hd(r),t=ei(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dl=t,null}function G_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cb()){case dd:return 1;case j_:return 4;case Nl:case xb:return 16;case B_:return 536870912;default:return 16}default:return 16}}var dr=null,yd=null,fl=null;function Q_(){if(fl)return fl;var t,e=yd,n=e.length,r,i="value"in dr?dr.value:dr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return fl=i.slice(t,1<r?1-r:void 0)}function hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fa(){return!0}function Zm(){return!1}function an(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fa:Zm,this.isPropagationStopped=Zm,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=an(_o),sa=Ge({},_o,{view:0,detail:0}),Wb=an(sa),jc,Bc,Yo,bu=Ge({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yo&&(Yo&&t.type==="mousemove"?(jc=t.screenX-Yo.screenX,Bc=t.screenY-Yo.screenY):Bc=jc=0,Yo=t),jc)},movementY:function(t){return"movementY"in t?t.movementY:Bc}}),Jm=an(bu),Kb=Ge({},bu,{dataTransfer:0}),Gb=an(Kb),Qb=Ge({},sa,{relatedTarget:0}),Uc=an(Qb),Yb=Ge({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Xb=an(Yb),Zb=Ge({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jb=an(Zb),eA=Ge({},_o,{data:0}),eg=an(eA),tA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rA[t])?!!e[t]:!1}function _d(){return iA}var oA=Ge({},sa,{key:function(t){if(t.key){var e=tA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sA=an(oA),aA=Ge({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=an(aA),lA=Ge({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),uA=an(lA),cA=Ge({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),fA=an(cA),hA=Ge({},bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dA=an(hA),pA=[9,13,27,32],Ed=Kn&&"CompositionEvent"in window,gs=null;Kn&&"documentMode"in document&&(gs=document.documentMode);var mA=Kn&&"TextEvent"in window&&!gs,Y_=Kn&&(!Ed||gs&&8<gs&&11>=gs),ng=String.fromCharCode(32),rg=!1;function X_(t,e){switch(t){case"keyup":return pA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function gA(t,e){switch(t){case"compositionend":return Z_(e);case"keypress":return e.which!==32?null:(rg=!0,ng);case"textInput":return t=e.data,t===ng&&rg?null:t;default:return null}}function yA(t,e){if(Fi)return t==="compositionend"||!Ed&&X_(t,e)?(t=Q_(),fl=yd=dr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y_&&e.locale!=="ko"?null:e.data;default:return null}}var vA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vA[t.type]:e==="textarea"}function J_(t,e,n,r){O_(r),e=Ll(e,"onChange"),0<e.length&&(n=new vd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ys=null,Ls=null;function _A(t){c0(t,0)}function Au(t){var e=Ui(t);if(b_(e))return t}function EA(t,e){if(t==="change")return e}var e0=!1;if(Kn){var qc;if(Kn){var $c="oninput"in document;if(!$c){var og=document.createElement("div");og.setAttribute("oninput","return;"),$c=typeof og.oninput=="function"}qc=$c}else qc=!1;e0=qc&&(!document.documentMode||9<document.documentMode)}function sg(){ys&&(ys.detachEvent("onpropertychange",t0),Ls=ys=null)}function t0(t){if(t.propertyName==="value"&&Au(Ls)){var e=[];J_(e,Ls,t,hd(t)),D_(_A,e)}}function wA(t,e,n){t==="focusin"?(sg(),ys=e,Ls=n,ys.attachEvent("onpropertychange",t0)):t==="focusout"&&sg()}function TA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Ls)}function bA(t,e){if(t==="click")return Au(e)}function AA(t,e){if(t==="input"||t==="change")return Au(e)}function SA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:SA;function Ms(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kf.call(e,i)||!In(t[i],e[i]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,e){var n=ag(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ag(n)}}function n0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r0(){for(var t=window,e=Pl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pl(t.document)}return e}function wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IA(t){var e=r0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n0(n.ownerDocument.documentElement,n)){if(r!==null&&wd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lg(n,o);var s=lg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kA=Kn&&"documentMode"in document&&11>=document.documentMode,ji=null,Wf=null,vs=null,Kf=!1;function ug(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||ji==null||ji!==Pl(r)||(r=ji,"selectionStart"in r&&wd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vs&&Ms(vs,r)||(vs=r,r=Ll(Wf,"onSelect"),0<r.length&&(e=new vd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},zc={},i0={};Kn&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Su(t){if(zc[t])return zc[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i0)return zc[t]=e[n];return t}var o0=Su("animationend"),s0=Su("animationiteration"),a0=Su("animationstart"),l0=Su("transitionend"),u0=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(t,e){u0.set(t,e),vi(e,[t])}for(var Hc=0;Hc<cg.length;Hc++){var Wc=cg[Hc],PA=Wc.toLowerCase(),RA=Wc[0].toUpperCase()+Wc.slice(1);Br(PA,"on"+RA)}Br(o0,"onAnimationEnd");Br(s0,"onAnimationIteration");Br(a0,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(l0,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function fg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pb(r,e,void 0,t),t.currentTarget=null}function c0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;fg(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;fg(i,a,c),o=l}}}if(Ol)throw t=qf,Ol=!1,qf=null,t}function Be(t,e){var n=e[Zf];n===void 0&&(n=e[Zf]=new Set);var r=t+"__bubble";n.has(r)||(f0(e,t,2,!1),n.add(r))}function Kc(t,e,n){var r=0;e&&(r|=4),f0(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Vs(t){if(!t[Ba]){t[Ba]=!0,v_.forEach(function(n){n!=="selectionchange"&&(OA.has(n)||Kc(n,!1,t),Kc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,Kc("selectionchange",!1,e))}}function f0(t,e,n,r){switch(G_(e)){case 1:var i=zb;break;case 4:i=Hb;break;default:i=gd}n=i.bind(null,e,n,t),i=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ei(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}D_(function(){var c=o,d=hd(n),h=[];e:{var f=u0.get(t);if(f!==void 0){var p=vd,_=t;switch(t){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":p=sA;break;case"focusin":_="focus",p=Uc;break;case"focusout":_="blur",p=Uc;break;case"beforeblur":case"afterblur":p=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uA;break;case o0:case s0:case a0:p=Xb;break;case l0:p=fA;break;case"scroll":p=Wb;break;case"wheel":p=dA;break;case"copy":case"cut":case"paste":p=Jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tg}var E=(e&4)!==0,w=!E&&t==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var m=c,v;m!==null;){v=m;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,g!==null&&(y=Ns(m,g),y!=null&&E.push(Fs(m,y,v)))),w)break;m=m.return}0<E.length&&(f=new p(f,_,null,n,d),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==jf&&(_=n.relatedTarget||n.fromElement)&&(ei(_)||_[Gn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?ei(_):null,_!==null&&(w=_i(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(E=Jm,y="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=tg,y="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:Ui(p),v=_==null?f:Ui(_),f=new E(y,m+"leave",p,n,d),f.target=w,f.relatedTarget=v,y=null,ei(d)===c&&(E=new E(g,m+"enter",_,n,d),E.target=v,E.relatedTarget=w,y=E),w=y,p&&_)t:{for(E=p,g=_,m=0,v=E;v;v=Ni(v))m++;for(v=0,y=g;y;y=Ni(y))v++;for(;0<m-v;)E=Ni(E),m--;for(;0<v-m;)g=Ni(g),v--;for(;m--;){if(E===g||g!==null&&E===g.alternate)break t;E=Ni(E),g=Ni(g)}E=null}else E=null;p!==null&&hg(h,f,p,E,!1),_!==null&&w!==null&&hg(h,w,_,E,!0)}}e:{if(f=c?Ui(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=EA;else if(ig(f))if(e0)k=AA;else{k=TA;var C=wA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=bA);if(k&&(k=k(t,c))){J_(h,k,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Df(f,"number",f.value)}switch(C=c?Ui(c):window,t){case"focusin":(ig(C)||C.contentEditable==="true")&&(ji=C,Wf=c,vs=null);break;case"focusout":vs=Wf=ji=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,ug(h,n,d);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":ug(h,n,d)}var A;if(Ed)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fi?X_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Y_&&n.locale!=="ko"&&(Fi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fi&&(A=Q_()):(dr=d,yd="value"in dr?dr.value:dr.textContent,Fi=!0)),C=Ll(c,T),0<C.length&&(T=new eg(T,t,null,n,d),h.push({event:T,listeners:C}),A?T.data=A:(A=Z_(n),A!==null&&(T.data=A)))),(A=mA?gA(t,n):yA(t,n))&&(c=Ll(c,"onBeforeInput"),0<c.length&&(d=new eg("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=A))}c0(h,e)})}function Fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ns(t,n),o!=null&&r.unshift(Fs(t,o,i)),o=Ns(t,e),o!=null&&r.push(Fs(t,o,i))),t=t.return}return r}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ns(n,o),l!=null&&s.unshift(Fs(n,l,a))):i||(l=Ns(n,o),l!=null&&s.push(Fs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function dg(t){return(typeof t=="string"?t:""+t).replace(NA,`
`).replace(CA,"")}function Ua(t,e,n){if(e=dg(e),dg(t)!==e&&n)throw Error(oe(425))}function Ml(){}var Gf=null,Qf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(LA)}:Xf;function LA(t){setTimeout(function(){throw t})}function Qc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ds(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),On="__reactFiber$"+Eo,js="__reactProps$"+Eo,Gn="__reactContainer$"+Eo,Zf="__reactEvents$"+Eo,MA="__reactListeners$"+Eo,VA="__reactHandles$"+Eo;function ei(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gn]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mg(t);t!==null;){if(n=t[On])return n;t=mg(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[On]||t[Gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Iu(t){return t[js]||null}var Jf=[],qi=-1;function Ur(t){return{current:t}}function qe(t){0>qi||(t.current=Jf[qi],Jf[qi]=null,qi--)}function Fe(t,e){qi++,Jf[qi]=t.current,t.current=e}var Cr={},Ct=Ur(Cr),$t=Ur(!1),li=Cr;function no(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Vl(){qe($t),qe(Ct)}function gg(t,e,n){if(Ct.current!==Cr)throw Error(oe(168));Fe(Ct,e),Fe($t,n)}function h0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,wb(t)||"Unknown",i));return Ge({},n,r)}function Fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,li=Ct.current,Fe(Ct,t),Fe($t,$t.current),!0}function yg(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=h0(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(Ct),Fe(Ct,t)):qe($t),Fe($t,n)}var $n=null,ku=!1,Yc=!1;function d0(t){$n===null?$n=[t]:$n.push(t)}function FA(t){ku=!0,d0(t)}function qr(){if(!Yc&&$n!==null){Yc=!0;var t=0,e=Le;try{var n=$n;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,ku=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),F_(dd,qr),i}finally{Le=e,Yc=!1}}return null}var $i=[],zi=0,jl=null,Bl=0,ln=[],un=0,ui=null,zn=1,Hn="";function Qr(t,e){$i[zi++]=Bl,$i[zi++]=jl,jl=t,Bl=e}function p0(t,e,n){ln[un++]=zn,ln[un++]=Hn,ln[un++]=ui,ui=t;var r=zn;t=Hn;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var o=32-bn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zn=1<<32-bn(e)+i|n<<i|r,Hn=o+t}else zn=1<<o|n<<i|r,Hn=t}function Td(t){t.return!==null&&(Qr(t,1),p0(t,1,0))}function bd(t){for(;t===jl;)jl=$i[--zi],$i[zi]=null,Bl=$i[--zi],$i[zi]=null;for(;t===ui;)ui=ln[--un],ln[un]=null,Hn=ln[--un],ln[un]=null,zn=ln[--un],ln[un]=null}var tn=null,Xt=null,$e=!1,wn=null;function m0(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Xt=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:zn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Xt=null,!0):!1;default:return!1}}function eh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function th(t){if($e){var e=Xt;if(e){var n=e;if(!vg(t,e)){if(eh(t))throw Error(oe(418));e=Er(n.nextSibling);var r=tn;e&&vg(t,e)?m0(r,n):(t.flags=t.flags&-4097|2,$e=!1,tn=t)}}else{if(eh(t))throw Error(oe(418));t.flags=t.flags&-4097|2,$e=!1,tn=t}}}function _g(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function qa(t){if(t!==tn)return!1;if(!$e)return _g(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=Xt)){if(eh(t))throw g0(),Error(oe(418));for(;e;)m0(t,e),e=Er(e.nextSibling)}if(_g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=tn?Er(t.stateNode.nextSibling):null;return!0}function g0(){for(var t=Xt;t;)t=Er(t.nextSibling)}function ro(){Xt=tn=null,$e=!1}function Ad(t){wn===null?wn=[t]:wn.push(t)}var jA=tr.ReactCurrentBatchConfig;function Xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eg(t){var e=t._init;return e(t._payload)}function y0(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Ar(g,m),g.index=0,g.sibling=null,g}function o(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,y){return m===null||m.tag!==6?(m=rf(v,g.mode,y),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,y){var k=v.type;return k===Vi?d(g,m,v.props.children,y,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&Eg(k)===m.type)?(y=i(m,v.props),y.ref=Xo(g,m,v),y.return=g,y):(y=_l(v.type,v.key,v.props,null,g.mode,y),y.ref=Xo(g,m,v),y.return=g,y)}function c(g,m,v,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=of(v,g.mode,y),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function d(g,m,v,y,k){return m===null||m.tag!==7?(m=oi(v,g.mode,y,k),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=rf(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ca:return v=_l(m.type,m.key,m.props,null,g.mode,v),v.ref=Xo(g,null,m),v.return=g,v;case Mi:return m=of(m,g.mode,v),m.return=g,m;case lr:var y=m._init;return h(g,y(m._payload),v)}if(as(m)||Wo(m))return m=oi(m,g.mode,v,null),m.return=g,m;$a(g,m)}return null}function f(g,m,v,y){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:return v.key===k?l(g,m,v,y):null;case Mi:return v.key===k?c(g,m,v,y):null;case lr:return k=v._init,f(g,m,k(v._payload),y)}if(as(v)||Wo(v))return k!==null?null:d(g,m,v,y,null);$a(g,v)}return null}function p(g,m,v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(v)||null,a(m,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ca:return g=g.get(y.key===null?v:y.key)||null,l(m,g,y,k);case Mi:return g=g.get(y.key===null?v:y.key)||null,c(m,g,y,k);case lr:var C=y._init;return p(g,m,v,C(y._payload),k)}if(as(y)||Wo(y))return g=g.get(v)||null,d(m,g,y,k,null);$a(m,y)}return null}function _(g,m,v,y){for(var k=null,C=null,A=m,T=m=0,O=null;A!==null&&T<v.length;T++){A.index>T?(O=A,A=null):O=A.sibling;var I=f(g,A,v[T],y);if(I===null){A===null&&(A=O);break}t&&A&&I.alternate===null&&e(g,A),m=o(I,m,T),C===null?k=I:C.sibling=I,C=I,A=O}if(T===v.length)return n(g,A),$e&&Qr(g,T),k;if(A===null){for(;T<v.length;T++)A=h(g,v[T],y),A!==null&&(m=o(A,m,T),C===null?k=A:C.sibling=A,C=A);return $e&&Qr(g,T),k}for(A=r(g,A);T<v.length;T++)O=p(A,g,T,v[T],y),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?T:O.key),m=o(O,m,T),C===null?k=O:C.sibling=O,C=O);return t&&A.forEach(function(S){return e(g,S)}),$e&&Qr(g,T),k}function E(g,m,v,y){var k=Wo(v);if(typeof k!="function")throw Error(oe(150));if(v=k.call(v),v==null)throw Error(oe(151));for(var C=k=null,A=m,T=m=0,O=null,I=v.next();A!==null&&!I.done;T++,I=v.next()){A.index>T?(O=A,A=null):O=A.sibling;var S=f(g,A,I.value,y);if(S===null){A===null&&(A=O);break}t&&A&&S.alternate===null&&e(g,A),m=o(S,m,T),C===null?k=S:C.sibling=S,C=S,A=O}if(I.done)return n(g,A),$e&&Qr(g,T),k;if(A===null){for(;!I.done;T++,I=v.next())I=h(g,I.value,y),I!==null&&(m=o(I,m,T),C===null?k=I:C.sibling=I,C=I);return $e&&Qr(g,T),k}for(A=r(g,A);!I.done;T++,I=v.next())I=p(A,g,T,I.value,y),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),m=o(I,m,T),C===null?k=I:C.sibling=I,C=I);return t&&A.forEach(function(R){return e(g,R)}),$e&&Qr(g,T),k}function w(g,m,v,y){if(typeof v=="object"&&v!==null&&v.type===Vi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:e:{for(var k=v.key,C=m;C!==null;){if(C.key===k){if(k=v.type,k===Vi){if(C.tag===7){n(g,C.sibling),m=i(C,v.props.children),m.return=g,g=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lr&&Eg(k)===C.type){n(g,C.sibling),m=i(C,v.props),m.ref=Xo(g,C,v),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===Vi?(m=oi(v.props.children,g.mode,y,v.key),m.return=g,g=m):(y=_l(v.type,v.key,v.props,null,g.mode,y),y.ref=Xo(g,m,v),y.return=g,g=y)}return s(g);case Mi:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=of(v,g.mode,y),m.return=g,g=m}return s(g);case lr:return C=v._init,w(g,m,C(v._payload),y)}if(as(v))return _(g,m,v,y);if(Wo(v))return E(g,m,v,y);$a(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=rf(v,g.mode,y),m.return=g,g=m),s(g)):n(g,m)}return w}var io=y0(!0),v0=y0(!1),Ul=Ur(null),ql=null,Hi=null,Sd=null;function Id(){Sd=Hi=ql=null}function kd(t){var e=Ul.current;qe(Ul),t._currentValue=e}function nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zi(t,e){ql=t,Sd=Hi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Sd!==t)if(t={context:t,memoizedValue:e,next:null},Hi===null){if(ql===null)throw Error(oe(308));Hi=t,ql.dependencies={lanes:0,firstContext:t}}else Hi=Hi.next=t;return e}var ti=null;function Pd(t){ti===null?ti=[t]:ti.push(t)}function _0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,Pd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pd(t,n)}}function wg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $l(t,e,n,r){var i=t.updateQueue;ur=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(f=e,p=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=Ge({},h,f);break e;case 2:ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fi|=s,t.lanes=s,t.memoizedState=h}}function Tg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var la={},xn=Ur(la),Bs=Ur(la),Us=Ur(la);function ni(t){if(t===la)throw Error(oe(174));return t}function Od(t,e){switch(Fe(Us,e),Fe(Bs,t),Fe(xn,la),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mf(e,t)}qe(xn),Fe(xn,e)}function oo(){qe(xn),qe(Bs),qe(Us)}function w0(t){ni(Us.current);var e=ni(xn.current),n=Mf(e,t.type);e!==n&&(Fe(Bs,t),Fe(xn,n))}function Nd(t){Bs.current===t&&(qe(xn),qe(Bs))}var We=Ur(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xc=[];function Cd(){for(var t=0;t<Xc.length;t++)Xc[t]._workInProgressVersionPrimary=null;Xc.length=0}var pl=tr.ReactCurrentDispatcher,Zc=tr.ReactCurrentBatchConfig,ci=0,Ke=null,st=null,ht=null,Hl=!1,_s=!1,qs=0,BA=0;function It(){throw Error(oe(321))}function xd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function Dd(t,e,n,r,i,o){if(ci=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?zA:HA,t=n(r,i),_s){o=0;do{if(_s=!1,qs=0,25<=o)throw Error(oe(301));o+=1,ht=st=null,e.updateQueue=null,pl.current=WA,t=n(r,i)}while(_s)}if(pl.current=Wl,e=st!==null&&st.next!==null,ci=0,ht=st=Ke=null,Hl=!1,e)throw Error(oe(300));return t}function Ld(){var t=qs!==0;return qs=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=t:ht=ht.next=t,ht}function pn(){if(st===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?Ke.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(oe(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?Ke.memoizedState=ht=t:ht=ht.next=t}return ht}function $s(t,e){return typeof e=="function"?e(t):e}function Jc(t){var e=pn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((ci&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ke.lanes|=d,fi|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,In(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ke.lanes|=o,fi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ef(t){var e=pn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);In(o,e.memoizedState)||(qt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function T0(){}function b0(t,e){var n=Ke,r=pn(),i=e(),o=!In(r.memoizedState,i);if(o&&(r.memoizedState=i,qt=!0),r=r.queue,Md(I0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,zs(9,S0.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(oe(349));ci&30||A0(n,e,i)}return i}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S0(t,e,n,r){e.value=n,e.getSnapshot=r,k0(e)&&P0(t)}function I0(t,e,n){return n(function(){k0(e)&&P0(t)})}function k0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function P0(t){var e=Qn(t,1);e!==null&&An(e,t,1,-1)}function bg(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},e.queue=t,t=t.dispatch=$A.bind(null,Ke,t),[e.memoizedState,t]}function zs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R0(){return pn().memoizedState}function ml(t,e,n,r){var i=Rn();Ke.flags|=t,i.memoizedState=zs(1|e,n,void 0,r===void 0?null:r)}function Pu(t,e,n,r){var i=pn();r=r===void 0?null:r;var o=void 0;if(st!==null){var s=st.memoizedState;if(o=s.destroy,r!==null&&xd(r,s.deps)){i.memoizedState=zs(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=zs(1|e,n,o,r)}function Ag(t,e){return ml(8390656,8,t,e)}function Md(t,e){return Pu(2048,8,t,e)}function O0(t,e){return Pu(4,2,t,e)}function N0(t,e){return Pu(4,4,t,e)}function C0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x0(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4,4,C0.bind(null,e,t),n)}function Vd(){}function D0(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L0(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M0(t,e,n){return ci&21?(In(n,e)||(n=U_(),Ke.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function UA(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Zc.transition;Zc.transition={};try{t(!1),e()}finally{Le=n,Zc.transition=r}}function V0(){return pn().memoizedState}function qA(t,e,n){var r=br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F0(t))j0(e,n);else if(n=_0(t,e,n,r),n!==null){var i=Mt();An(n,t,r,i),B0(n,e,r)}}function $A(t,e,n){var r=br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F0(t))j0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,In(a,s)){var l=e.interleaved;l===null?(i.next=i,Pd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_0(t,e,i,r),n!==null&&(i=Mt(),An(n,t,r,i),B0(n,e,r))}}function F0(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function j0(t,e){_s=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pd(t,n)}}var Wl={readContext:dn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},zA={readContext:dn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Ag,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,C0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qA.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:bg,useDebugValue:Vd,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=bg(!1),e=t[0];return t=UA.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Rn();if($e){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),dt===null)throw Error(oe(349));ci&30||A0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ag(I0.bind(null,r,o,t),[t]),r.flags|=2048,zs(9,S0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rn(),e=dt.identifierPrefix;if($e){var n=Hn,r=zn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HA={readContext:dn,useCallback:D0,useContext:dn,useEffect:Md,useImperativeHandle:x0,useInsertionEffect:O0,useLayoutEffect:N0,useMemo:L0,useReducer:Jc,useRef:R0,useState:function(){return Jc($s)},useDebugValue:Vd,useDeferredValue:function(t){var e=pn();return M0(e,st.memoizedState,t)},useTransition:function(){var t=Jc($s)[0],e=pn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:b0,useId:V0,unstable_isNewReconciler:!1},WA={readContext:dn,useCallback:D0,useContext:dn,useEffect:Md,useImperativeHandle:x0,useInsertionEffect:O0,useLayoutEffect:N0,useMemo:L0,useReducer:ef,useRef:R0,useState:function(){return ef($s)},useDebugValue:Vd,useDeferredValue:function(t){var e=pn();return st===null?e.memoizedState=t:M0(e,st.memoizedState,t)},useTransition:function(){var t=ef($s)[0],e=pn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:b0,useId:V0,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ru={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=br(t),o=Wn(r,i);o.payload=e,n!=null&&(o.callback=n),e=wr(t,o,i),e!==null&&(An(e,t,i,r),dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=br(t),o=Wn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wr(t,o,i),e!==null&&(An(e,t,i,r),dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=br(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(An(e,t,r,n),dl(e,t,r))}};function Sg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ms(n,r)||!Ms(i,o):!0}function U0(t,e,n){var r=!1,i=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=zt(e)?li:Ct.current,r=e.contextTypes,o=(r=r!=null)?no(t,i):Cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ig(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ru.enqueueReplaceState(e,e.state,null)}function ih(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=zt(e)?li:Ct.current,i.context=no(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(rh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ru.enqueueReplaceState(i,i.state,null),$l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=Eb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function tf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KA=typeof WeakMap=="function"?WeakMap:Map;function q0(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,mh=r),oh(t,e)},n}function $0(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){oh(t,e),typeof r!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function kg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aS.bind(null,t,e,n),e.then(t,t))}function Pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var GA=tr.ReactCurrentOwner,qt=!1;function Lt(t,e,n,r){e.child=t===null?v0(e,null,n,r):io(e,t.child,n,r)}function Og(t,e,n,r,i){n=n.render;var o=e.ref;return Zi(e,i),r=Dd(t,e,n,r,o,i),n=Ld(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):($e&&n&&Td(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Ng(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Hd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,z0(t,e,o,r,i)):(t=_l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(s,r)&&t.ref===e.ref)return Yn(t,e,i)}return e.flags|=1,t=Ar(o,r),t.ref=e.ref,t.return=e,e.child=t}function z0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ms(o,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,Yn(t,e,i)}return sh(t,e,n,r,i)}function H0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ki,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Ki,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(Ki,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(Ki,Gt),Gt|=r;return Lt(t,e,i,n),e.child}function W0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sh(t,e,n,r,i){var o=zt(n)?li:Ct.current;return o=no(e,o),Zi(e,i),n=Dd(t,e,n,r,o,i),r=Ld(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):($e&&r&&Td(e),e.flags|=1,Lt(t,e,n,i),e.child)}function Cg(t,e,n,r,i){if(zt(n)){var o=!0;Fl(e)}else o=!1;if(Zi(e,i),e.stateNode===null)gl(t,e),U0(e,n,r),ih(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=zt(n)?li:Ct.current,c=no(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ig(e,s,r,c),ur=!1;var f=e.memoizedState;s.state=f,$l(e,r,s,i),l=e.memoizedState,a!==r||f!==l||$t.current||ur?(typeof d=="function"&&(rh(e,n,d,r),l=e.memoizedState),(a=ur||Sg(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,E0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=zt(n)?li:Ct.current,l=no(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ig(e,s,r,l),ur=!1,f=e.memoizedState,s.state=f,$l(e,r,s,i);var _=e.memoizedState;a!==h||f!==_||$t.current||ur?(typeof p=="function"&&(rh(e,n,p,r),_=e.memoizedState),(c=ur||Sg(e,n,c,r,f,_,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ah(t,e,n,r,o,i)}function ah(t,e,n,r,i,o){W0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&yg(e,n,!1),Yn(t,e,o);r=e.stateNode,GA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=io(e,t.child,null,o),e.child=io(e,null,a,o)):Lt(t,e,a,o),e.memoizedState=r.state,i&&yg(e,n,!0),e.child}function K0(t){var e=t.stateNode;e.pendingContext?gg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gg(t,e.context,!1),Od(t,e.containerInfo)}function xg(t,e,n,r,i){return ro(),Ad(i),e.flags|=256,Lt(t,e,n,r),e.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function G0(t,e,n){var r=e.pendingProps,i=We.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(We,i&1),t===null)return th(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Cu(s,r,0,null),t=oi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=uh(n),e.memoizedState=lh,t):Fd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ar(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ar(a,o):(o=oi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?uh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=lh,r}return o=t.child,t=o.sibling,r=Ar(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fd(t,e){return e=Cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function za(t,e,n,r){return r!==null&&Ad(r),io(e,t.child,null,n),t=Fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=tf(Error(oe(422))),za(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Cu({mode:"visible",children:r.children},i,0,null),o=oi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&io(e,t.child,null,s),e.child.memoizedState=uh(s),e.memoizedState=lh,o);if(!(e.mode&1))return za(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(oe(419)),r=tf(o,r,void 0),za(t,e,s,r)}if(a=(s&t.childLanes)!==0,qt||a){if(r=dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qn(t,i),An(r,t,i,-1))}return zd(),r=tf(Error(oe(421))),za(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xt=Er(i.nextSibling),tn=e,$e=!0,wn=null,t!==null&&(ln[un++]=zn,ln[un++]=Hn,ln[un++]=ui,zn=t.id,Hn=t.overflow,ui=e),e=Fd(e,r.children),e.flags|=4096,e)}function Dg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nh(t.return,e,n)}function nf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Q0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,n,e);else if(t.tag===19)Dg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nf(e,!0,n,null,o);break;case"together":nf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YA(t,e,n){switch(e.tag){case 3:K0(e),ro();break;case 5:w0(e);break;case 1:zt(e.type)&&Fl(e);break;case 4:Od(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?G0(t,e,n):(Fe(We,We.current&1),t=Yn(t,e,n),t!==null?t.sibling:null);Fe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,H0(t,e,n)}return Yn(t,e,n)}var Y0,ch,X0,Z0;Y0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};X0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ni(xn.current);var o=null;switch(n){case"input":i=Cf(t,i),r=Cf(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Lf(t,i),r=Lf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Vf(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zo(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XA(t,e,n){var r=e.pendingProps;switch(bd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return zt(e.type)&&Vl(),kt(e),null;case 3:return r=e.stateNode,oo(),qe($t),qe(Ct),Cd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(vh(wn),wn=null))),ch(t,e),kt(e),null;case 5:Nd(e);var i=ni(Us.current);if(n=e.type,t!==null&&e.stateNode!=null)X0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return kt(e),null}if(t=ni(xn.current),qa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[On]=e,r[js]=o,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<us.length;i++)Be(us[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":$m(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Hm(r,o),Be("invalid",r)}Vf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",""+a]):Rs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Be("scroll",r)}switch(n){case"input":xa(r),zm(r,o,!0);break;case"textarea":xa(r),Wm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[On]=e,t[js]=r,Y0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ff(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<us.length;i++)Be(us[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":$m(t,r),i=Cf(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Hm(t,r),i=Lf(t,r),Be("invalid",t);break;default:i=r}Vf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?R_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&k_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(t,l):typeof l=="number"&&Os(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Be("scroll",t):l!=null&&ld(t,o,l,s))}switch(n){case"input":xa(t),zm(t,r,!1);break;case"textarea":xa(t),Wm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)Z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=ni(Us.current),ni(xn.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(o=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return kt(e),null;case 13:if(qe(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&Xt!==null&&e.mode&1&&!(e.flags&128))g0(),ro(),e.flags|=98560,o=!1;else if(o=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[On]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),o=!1}else wn!==null&&(vh(wn),wn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?lt===0&&(lt=3):zd())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return oo(),ch(t,e),t===null&&Vs(e.stateNode.containerInfo),kt(e),null;case 10:return kd(e.type._context),kt(e),null;case 17:return zt(e.type)&&Vl(),kt(e),null;case 19:if(qe(We),o=e.memoizedState,o===null)return kt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Zo(o,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zl(t),s!==null){for(e.flags|=128,Zo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(We,We.current&1|2),e.child}t=t.sibling}o.tail!==null&&nt()>ao&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304)}else{if(!r)if(t=zl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return kt(e),null}else 2*nt()-o.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nt(),e.sibling=null,n=We.current,Fe(We,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return $d(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function ZA(t,e){switch(bd(e),e.tag){case 1:return zt(e.type)&&Vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),qe($t),qe(Ct),Cd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nd(e),null;case 13:if(qe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(We),null;case 4:return oo(),null;case 10:return kd(e.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var Ha=!1,Ot=!1,JA=typeof WeakSet=="function"?WeakSet:Set,de=null;function Wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function fh(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var Lg=!1;function eS(t,e){if(Gf=xl,t=r0(),wd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++d===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:t,selectionRange:n},xl=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,w=_.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?E:_n(e.type,E),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(y){Ze(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return _=Lg,Lg=!1,_}function Es(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&fh(e,n,o)}i=i.next}while(i!==r)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J0(t){var e=t.alternate;e!==null&&(t.alternate=null,J0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[js],delete e[Zf],delete e[MA],delete e[VA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e1(t){return t.tag===5||t.tag===3||t.tag===4}function Mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(dh(t,e,n),t=t.sibling;t!==null;)dh(t,e,n),t=t.sibling}function ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ph(t,e,n),t=t.sibling;t!==null;)ph(t,e,n),t=t.sibling}var yt=null,En=!1;function ar(t,e,n){for(n=n.child;n!==null;)t1(t,e,n),n=n.sibling}function t1(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Tu,n)}catch{}switch(n.tag){case 5:Ot||Wi(n,e);case 6:var r=yt,i=En;yt=null,ar(t,e,n),yt=r,En=i,yt!==null&&(En?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(En?(t=yt,n=n.stateNode,t.nodeType===8?Qc(t.parentNode,n):t.nodeType===1&&Qc(t,n),Ds(t)):Qc(yt,n.stateNode));break;case 4:r=yt,i=En,yt=n.stateNode.containerInfo,En=!0,ar(t,e,n),yt=r,En=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&fh(n,e,s),i=i.next}while(i!==r)}ar(t,e,n);break;case 1:if(!Ot&&(Wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ar(t,e,n);break;case 21:ar(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ar(t,e,n),Ot=r):ar(t,e,n);break;default:ar(t,e,n)}}function Vg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JA),e.forEach(function(r){var i=uS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,En=!1;break e;case 3:yt=a.stateNode.containerInfo,En=!0;break e;case 4:yt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(yt===null)throw Error(oe(160));t1(o,s,i),yt=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n1(e,t),e=e.sibling}function n1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),kn(t),r&4){try{Es(3,t,t.return),Ou(3,t)}catch(E){Ze(t,t.return,E)}try{Es(5,t,t.return)}catch(E){Ze(t,t.return,E)}}break;case 1:vn(e,t),kn(t),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(vn(e,t),kn(t),r&512&&n!==null&&Wi(n,n.return),t.flags&32){var i=t.stateNode;try{Os(i,"")}catch(E){Ze(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A_(i,o),Ff(a,s);var c=Ff(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?R_(i,h):d==="dangerouslySetInnerHTML"?k_(i,h):d==="children"?Os(i,h):ld(i,d,h,c)}switch(a){case"input":xf(i,o);break;case"textarea":S_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gi(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Gi(i,!!o.multiple,o.defaultValue,!0):Gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[js]=o}catch(E){Ze(t,t.return,E)}}break;case 6:if(vn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){Ze(t,t.return,E)}}break;case 3:if(vn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ds(e.containerInfo)}catch(E){Ze(t,t.return,E)}break;case 4:vn(e,t),kn(t);break;case 13:vn(e,t),kn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ud=nt())),r&4&&Vg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(c=Ot)||d,vn(e,t),Ot=c):vn(e,t),kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(de=t,d=t.child;d!==null;){for(h=de=d;de!==null;){switch(f=de,p=f.child,f.tag){case 0:case 11:case 14:case 15:Es(4,f,f.return);break;case 1:Wi(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Ze(r,n,E)}}break;case 5:Wi(f,f.return);break;case 22:if(f.memoizedState!==null){jg(h);continue}}p!==null?(p.return=f,de=p):jg(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P_("display",s))}catch(E){Ze(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){Ze(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(e,t),kn(t),r&4&&Vg(t);break;case 21:break;default:vn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e1(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Os(i,""),r.flags&=-33);var o=Mg(t);ph(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Mg(t);dh(t,a,s);break;default:throw Error(oe(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tS(t,e,n){de=t,r1(t)}function r1(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ha;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Ha;var c=Ot;if(Ha=s,(Ot=l)&&!c)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?Bg(i):l!==null?(l.return=s,de=l):Bg(i);for(;o!==null;)de=o,r1(o),o=o.sibling;de=i,Ha=a,Ot=c}Fg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):Fg(t)}}function Fg(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Tg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Ot||e.flags&512&&hh(e)}catch(f){Ze(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function jg(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Bg(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ou(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var o=e.return;try{hh(e)}catch(l){Ze(e,o,l)}break;case 5:var s=e.return;try{hh(e)}catch(l){Ze(e,s,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var nS=Math.ceil,Kl=tr.ReactCurrentDispatcher,jd=tr.ReactCurrentOwner,fn=tr.ReactCurrentBatchConfig,Ce=0,dt=null,it=null,Et=0,Gt=0,Ki=Ur(0),lt=0,Hs=null,fi=0,Nu=0,Bd=0,ws=null,Bt=null,Ud=0,ao=1/0,qn=null,Gl=!1,mh=null,Tr=null,Wa=!1,pr=null,Ql=0,Ts=0,gh=null,yl=-1,vl=0;function Mt(){return Ce&6?nt():yl!==-1?yl:yl=nt()}function br(t){return t.mode&1?Ce&2&&Et!==0?Et&-Et:jA.transition!==null?(vl===0&&(vl=U_()),vl):(t=Le,t!==0||(t=window.event,t=t===void 0?16:G_(t.type)),t):1}function An(t,e,n,r){if(50<Ts)throw Ts=0,gh=null,Error(oe(185));oa(t,n,r),(!(Ce&2)||t!==dt)&&(t===dt&&(!(Ce&2)&&(Nu|=n),lt===4&&fr(t,Et)),Ht(t,r),n===1&&Ce===0&&!(e.mode&1)&&(ao=nt()+500,ku&&qr()))}function Ht(t,e){var n=t.callbackNode;jb(t,e);var r=Cl(t,t===dt?Et:0);if(r===0)n!==null&&Qm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qm(n),e===1)t.tag===0?FA(Ug.bind(null,t)):d0(Ug.bind(null,t)),DA(function(){!(Ce&6)&&qr()}),n=null;else{switch(q_(r)){case 1:n=dd;break;case 4:n=j_;break;case 16:n=Nl;break;case 536870912:n=B_;break;default:n=Nl}n=f1(n,i1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i1(t,e){if(yl=-1,vl=0,Ce&6)throw Error(oe(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=Cl(t,t===dt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=Ce;Ce|=2;var o=s1();(dt!==t||Et!==e)&&(qn=null,ao=nt()+500,ii(t,e));do try{oS();break}catch(a){o1(t,a)}while(1);Id(),Kl.current=o,Ce=i,it!==null?e=0:(dt=null,Et=0,e=lt)}if(e!==0){if(e===2&&(i=$f(t),i!==0&&(r=i,e=yh(t,i))),e===1)throw n=Hs,ii(t,0),fr(t,r),Ht(t,nt()),n;if(e===6)fr(t,r);else{if(i=t.current.alternate,!(r&30)&&!rS(i)&&(e=Yl(t,r),e===2&&(o=$f(t),o!==0&&(r=o,e=yh(t,o))),e===1))throw n=Hs,ii(t,0),fr(t,r),Ht(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Yr(t,Bt,qn);break;case 3:if(fr(t,r),(r&130023424)===r&&(e=Ud+500-nt(),10<e)){if(Cl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xf(Yr.bind(null,t,Bt,qn),e);break}Yr(t,Bt,qn);break;case 4:if(fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-bn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nS(r/1960))-r,10<r){t.timeoutHandle=Xf(Yr.bind(null,t,Bt,qn),r);break}Yr(t,Bt,qn);break;case 5:Yr(t,Bt,qn);break;default:throw Error(oe(329))}}}return Ht(t,nt()),t.callbackNode===n?i1.bind(null,t):null}function yh(t,e){var n=ws;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&vh(e)),t}function vh(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function rS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!In(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~Bd,e&=~Nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function Ug(t){if(Ce&6)throw Error(oe(327));Ji();var e=Cl(t,0);if(!(e&1))return Ht(t,nt()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=$f(t);r!==0&&(e=r,n=yh(t,r))}if(n===1)throw n=Hs,ii(t,0),fr(t,e),Ht(t,nt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Bt,qn),Ht(t,nt()),null}function qd(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(ao=nt()+500,ku&&qr())}}function hi(t){pr!==null&&pr.tag===0&&!(Ce&6)&&Ji();var e=Ce;Ce|=1;var n=fn.transition,r=Le;try{if(fn.transition=null,Le=1,t)return t()}finally{Le=r,fn.transition=n,Ce=e,!(Ce&6)&&qr()}}function $d(){Gt=Ki.current,qe(Ki)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xA(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(bd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:oo(),qe($t),qe(Ct),Cd();break;case 5:Nd(r);break;case 4:oo();break;case 13:qe(We);break;case 19:qe(We);break;case 10:kd(r.type._context);break;case 22:case 23:$d()}n=n.return}if(dt=t,it=t=Ar(t.current,null),Et=Gt=e,lt=0,Hs=null,Bd=Nu=fi=0,Bt=ws=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ti=null}return t}function o1(t,e){do{var n=it;try{if(Id(),pl.current=Wl,Hl){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(ci=0,ht=st=Ke=null,_s=!1,qs=0,jd.current=null,n===null||n.return===null){lt=1,Hs=e,it=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pg(s);if(p!==null){p.flags&=-257,Rg(p,s,a,o,e),p.mode&1&&kg(o,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var E=new Set;E.add(l),e.updateQueue=E}else _.add(l);break e}else{if(!(e&1)){kg(o,c,e),zd();break e}l=Error(oe(426))}}else if($e&&a.mode&1){var w=Pg(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rg(w,s,a,o,e),Ad(so(l,a));break e}}o=l=so(l,a),lt!==4&&(lt=2),ws===null?ws=[o]:ws.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=q0(o,l,e);wg(o,g);break e;case 1:a=l;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tr===null||!Tr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=$0(o,a,e);wg(o,y);break e}}o=o.return}while(o!==null)}l1(n)}catch(k){e=k,it===n&&n!==null&&(it=n=n.return);continue}break}while(1)}function s1(){var t=Kl.current;return Kl.current=Wl,t===null?Wl:t}function zd(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||!(fi&268435455)&&!(Nu&268435455)||fr(dt,Et)}function Yl(t,e){var n=Ce;Ce|=2;var r=s1();(dt!==t||Et!==e)&&(qn=null,ii(t,e));do try{iS();break}catch(i){o1(t,i)}while(1);if(Id(),Ce=n,Kl.current=r,it!==null)throw Error(oe(261));return dt=null,Et=0,lt}function iS(){for(;it!==null;)a1(it)}function oS(){for(;it!==null&&!Ob();)a1(it)}function a1(t){var e=c1(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?l1(t):it=e,jd.current=null}function l1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZA(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,it=null;return}}else if(n=XA(n,e,Gt),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);lt===0&&(lt=5)}function Yr(t,e,n){var r=Le,i=fn.transition;try{fn.transition=null,Le=1,sS(t,e,n,r)}finally{fn.transition=i,Le=r}return null}function sS(t,e,n,r){do Ji();while(pr!==null);if(Ce&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bb(t,o),t===dt&&(it=dt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wa||(Wa=!0,f1(Nl,function(){return Ji(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var s=Le;Le=1;var a=Ce;Ce|=4,jd.current=null,eS(t,n),n1(n,t),IA(Qf),xl=!!Gf,Qf=Gf=null,t.current=n,tS(n),Nb(),Ce=a,Le=s,fn.transition=o}else t.current=n;if(Wa&&(Wa=!1,pr=t,Ql=i),o=t.pendingLanes,o===0&&(Tr=null),Db(n.stateNode),Ht(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=mh,mh=null,t;return Ql&1&&t.tag!==0&&Ji(),o=t.pendingLanes,o&1?t===gh?Ts++:(Ts=0,gh=t):Ts=0,qr(),null}function Ji(){if(pr!==null){var t=q_(Ql),e=fn.transition,n=Le;try{if(fn.transition=null,Le=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,Ql=0,Ce&6)throw Error(oe(331));var i=Ce;for(Ce|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:Es(8,d,o)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var f=d.sibling,p=d.return;if(J0(d),d===c){de=null;break}if(f!==null){f.return=p,de=f;break}de=p}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Es(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,de=g;break e}de=o.return}}var m=t.current;for(de=m;de!==null;){s=de;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,de=v;else e:for(s=m;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(k){Ze(a,a.return,k)}if(a===s){de=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,de=y;break e}de=a.return}}if(Ce=i,qr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Tu,t)}catch{}r=!0}return r}finally{Le=n,fn.transition=e}}return!1}function qg(t,e,n){e=so(n,e),e=q0(t,e,1),t=wr(t,e,1),e=Mt(),t!==null&&(oa(t,1,e),Ht(t,e))}function Ze(t,e,n){if(t.tag===3)qg(t,t,n);else for(;e!==null;){if(e.tag===3){qg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tr===null||!Tr.has(r))){t=so(n,t),t=$0(e,t,1),e=wr(e,t,1),t=Mt(),e!==null&&(oa(e,1,t),Ht(e,t));break}}e=e.return}}function aS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(Et&n)===n&&(lt===4||lt===3&&(Et&130023424)===Et&&500>nt()-Ud?ii(t,0):Bd|=n),Ht(t,e)}function u1(t,e){e===0&&(t.mode&1?(e=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):e=1);var n=Mt();t=Qn(t,e),t!==null&&(oa(t,e,n),Ht(t,n))}function lS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u1(t,n)}function uS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),u1(t,n)}var c1;c1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,YA(t,e,n);qt=!!(t.flags&131072)}else qt=!1,$e&&e.flags&1048576&&p0(e,Bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gl(t,e),t=e.pendingProps;var i=no(e,Ct.current);Zi(e,n),i=Dd(null,e,r,t,i,n);var o=Ld();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(o=!0,Fl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rd(e),i.updater=Ru,e.stateNode=i,i._reactInternals=e,ih(e,r,t,n),e=ah(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&Td(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fS(r),t=_n(r,t),i){case 0:e=sh(null,e,r,t,n);break e;case 1:e=Cg(null,e,r,t,n);break e;case 11:e=Og(null,e,r,t,n);break e;case 14:e=Ng(null,e,r,_n(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),sh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Cg(t,e,r,i,n);case 3:e:{if(K0(e),t===null)throw Error(oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,E0(t,e),$l(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=so(Error(oe(423)),e),e=xg(t,e,r,n,i);break e}else if(r!==i){i=so(Error(oe(424)),e),e=xg(t,e,r,n,i);break e}else for(Xt=Er(e.stateNode.containerInfo.firstChild),tn=e,$e=!0,wn=null,n=v0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=Yn(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return w0(e),t===null&&th(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Yf(r,i)?s=null:o!==null&&Yf(r,o)&&(e.flags|=32),W0(t,e),Lt(t,e,s,n),e.child;case 6:return t===null&&th(e),null;case 13:return G0(t,e,n);case 4:return Od(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Og(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Fe(Ul,r._currentValue),r._currentValue=s,o!==null)if(In(o.value,s)){if(o.children===i.children&&!$t.current){e=Yn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(oe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),nh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zi(e,n),i=dn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Ng(t,e,r,i,n);case 15:return z0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),gl(t,e),e.tag=1,zt(r)?(t=!0,Fl(e)):t=!1,Zi(e,n),U0(e,r,i),ih(e,r,i,n),ah(null,e,r,!0,t,n);case 19:return Q0(t,e,n);case 22:return H0(t,e,n)}throw Error(oe(156,e.tag))};function f1(t,e){return F_(t,e)}function cS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new cS(t,e,n,r)}function Hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fS(t){if(typeof t=="function")return Hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cd)return 11;if(t===fd)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Hd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vi:return oi(n.children,i,o,e);case ud:s=8,i|=8;break;case Pf:return t=cn(12,n,e,i|2),t.elementType=Pf,t.lanes=o,t;case Rf:return t=cn(13,n,e,i),t.elementType=Rf,t.lanes=o,t;case Of:return t=cn(19,n,e,i),t.elementType=Of,t.lanes=o,t;case w_:return Cu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case __:s=10;break e;case E_:s=9;break e;case cd:s=11;break e;case fd:s=14;break e;case lr:s=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=cn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function oi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Cu(t,e,n,r){return t=cn(22,t,r,e),t.elementType=w_,t.lanes=n,t.stateNode={isHidden:!1},t}function rf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function of(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wd(t,e,n,r,i,o,s,a,l){return t=new hS(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(o),t}function dS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h1(t){if(!t)return Cr;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(zt(n))return h0(t,n,e)}return e}function d1(t,e,n,r,i,o,s,a,l){return t=Wd(n,r,!0,t,i,o,s,a,l),t.context=h1(null),n=t.current,r=Mt(),i=br(n),o=Wn(r,i),o.callback=e??null,wr(n,o,i),t.current.lanes=i,oa(t,i,r),Ht(t,r),t}function xu(t,e,n,r){var i=e.current,o=Mt(),s=br(i);return n=h1(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,s),t!==null&&(An(t,i,s,o),dl(t,i,s)),s}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $g(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kd(t,e){$g(t,e),(t=t.alternate)&&$g(t,e)}function pS(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gd(t){this._internalRoot=t}Du.prototype.render=Gd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));xu(t,e,null,null)};Du.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hi(function(){xu(null,t,null,null)}),e[Gn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=H_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&K_(t)}};function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zg(){}function mS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Xl(s);o.call(c)}}var s=d1(e,r,t,0,null,!1,!1,"",zg);return t._reactRootContainer=s,t[Gn]=s.current,Vs(t.nodeType===8?t.parentNode:t),hi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xl(l);a.call(c)}}var l=Wd(t,0,!1,null,null,!1,!1,"",zg);return t._reactRootContainer=l,t[Gn]=l.current,Vs(t.nodeType===8?t.parentNode:t),hi(function(){xu(e,l,n,r)}),l}function Mu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xl(s);a.call(l)}}xu(e,s,t,i)}else s=mS(n,e,t,i,r);return Xl(s)}$_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(pd(e,n|1),Ht(e,nt()),!(Ce&6)&&(ao=nt()+500,qr()))}break;case 13:hi(function(){var r=Qn(t,1);if(r!==null){var i=Mt();An(r,t,1,i)}}),Kd(t,1)}};md=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=Mt();An(e,t,134217728,n)}Kd(t,134217728)}};z_=function(t){if(t.tag===13){var e=br(t),n=Qn(t,e);if(n!==null){var r=Mt();An(n,t,e,r)}Kd(t,e)}};H_=function(){return Le};W_=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Bf=function(t,e,n){switch(e){case"input":if(xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Iu(r);if(!i)throw Error(oe(90));b_(r),xf(r,i)}}}break;case"textarea":S_(t,n);break;case"select":e=n.value,e!=null&&Gi(t,!!n.multiple,e,!1)}};C_=qd;x_=hi;var gS={usingClientEntryPoint:!1,Events:[aa,Ui,Iu,O_,N_,qd]},Jo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yS={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M_(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Tu=Ka.inject(yS),Cn=Ka}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(e))throw Error(oe(200));return dS(t,e,null,n)};sn.createRoot=function(t,e){if(!Qd(t))throw Error(oe(299));var n=!1,r="",i=p1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wd(t,1,!1,null,null,n,!1,r,i),t[Gn]=e.current,Vs(t.nodeType===8?t.parentNode:t),new Gd(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=M_(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return hi(t)};sn.hydrate=function(t,e,n){if(!Lu(e))throw Error(oe(200));return Mu(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Qd(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=p1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=d1(e,null,t,1,n??null,i,!1,o,s),t[Gn]=e.current,Vs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};sn.render=function(t,e,n){if(!Lu(e))throw Error(oe(200));return Mu(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Lu(t))throw Error(oe(40));return t._reactRootContainer?(hi(function(){Mu(null,null,t,!1,function(){t._reactRootContainer=null,t[Gn]=null})}),!0):!1};sn.unstable_batchedUpdates=qd;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lu(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Mu(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function m1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m1)}catch(t){console.error(t)}}m1(),m_.exports=sn;var g1=m_.exports,y1,Hg=g1;y1=Hg.createRoot,Hg.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}var mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mr||(mr={}));const Wg="popstate";function vS(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return _h("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zl(i)}return ES(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _S(){return Math.random().toString(36).substr(2,8)}function Kg(t,e){return{usr:t.state,key:t.key,idx:e}}function _h(t,e,n,r){return n===void 0&&(n=null),Ws({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wo(e):e,{state:n,key:e&&e.key||r||_S()})}function Zl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ES(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=mr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Ws({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=mr.Pop;let w=d(),g=w==null?null:w-c;c=w,l&&l({action:a,location:E.location,delta:g})}function f(w,g){a=mr.Push;let m=_h(E.location,w,g);n&&n(m,w),c=d()+1;let v=Kg(m,c),y=E.createHref(m);try{s.pushState(v,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(y)}o&&l&&l({action:a,location:E.location,delta:1})}function p(w,g){a=mr.Replace;let m=_h(E.location,w,g);n&&n(m,w),c=d();let v=Kg(m,c),y=E.createHref(m);s.replaceState(v,"",y),o&&l&&l({action:a,location:E.location,delta:0})}function _(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Zl(w);return m=m.replace(/ $/,"%20"),ot(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let E={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wg,h),l=w,()=>{i.removeEventListener(Wg,h),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let g=_(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return s.go(w)}};return E}var Gg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gg||(Gg={}));function wS(t,e,n){return n===void 0&&(n="/"),TS(t,e,n,!1)}function TS(t,e,n,r){let i=typeof e=="string"?wo(e):e,o=Yd(i.pathname||"/",n);if(o==null)return null;let s=_1(t);bS(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=DS(o);a=CS(s[l],c,r)}return a}function _1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Sr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(ot(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_1(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:OS(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of E1(o.path))i(o,s,l)}),e}function E1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=E1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AS=/^:[\w-]+$/,SS=3,IS=2,kS=1,PS=10,RS=-2,Qg=t=>t==="*";function OS(t,e){let n=t.split("/"),r=n.length;return n.some(Qg)&&(r+=RS),e&&(r+=IS),n.filter(i=>!Qg(i)).reduce((i,o)=>i+(AS.test(o)?SS:o===""?kS:PS),r)}function NS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=Yg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Yg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Sr([o,h.pathname]),pathnameBase:FS(Sr([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Sr([o,h.pathnameBase]))}return s}function Yg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let E=a[h]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const _=a[h];return p&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function xS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),v1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return v1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wo(t):t;return{pathname:n?n.startsWith("/")?n:MS(n,e):e,search:jS(r),hash:BS(i)}}function MS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w1(t,e){let n=VS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function T1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wo(t):(i=Ws({},t),ot(!i.pathname||!i.pathname.includes("?"),sf("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),sf("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),sf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=LS(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Sr=t=>t.join("/").replace(/\/\/+/g,"/"),FS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function US(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const b1=["post","put","patch","delete"];new Set(b1);const qS=["get",...b1];new Set(qS);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}const Xd=le.createContext(null),$S=le.createContext(null),Ei=le.createContext(null),Vu=le.createContext(null),nr=le.createContext({outlet:null,matches:[],isDataRoute:!1}),A1=le.createContext(null);function zS(t,e){let{relative:n}=e===void 0?{}:e;ua()||ot(!1);let{basename:r,navigator:i}=le.useContext(Ei),{hash:o,pathname:s,search:a}=I1(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Sr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ua(){return le.useContext(Vu)!=null}function Fu(){return ua()||ot(!1),le.useContext(Vu).location}function S1(t){le.useContext(Ei).static||le.useLayoutEffect(t)}function Zd(){let{isDataRoute:t}=le.useContext(nr);return t?sI():HS()}function HS(){ua()||ot(!1);let t=le.useContext(Xd),{basename:e,future:n,navigator:r}=le.useContext(Ei),{matches:i}=le.useContext(nr),{pathname:o}=Fu(),s=JSON.stringify(w1(i,n.v7_relativeSplatPath)),a=le.useRef(!1);return S1(()=>{a.current=!0}),le.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=T1(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Sr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}const WS=le.createContext(null);function KS(t){let e=le.useContext(nr).outlet;return e&&le.createElement(WS.Provider,{value:t},e)}function GS(){let{matches:t}=le.useContext(nr),e=t[t.length-1];return e?e.params:{}}function I1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=le.useContext(Ei),{matches:i}=le.useContext(nr),{pathname:o}=Fu(),s=JSON.stringify(w1(i,r.v7_relativeSplatPath));return le.useMemo(()=>T1(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function QS(t,e){return YS(t,e)}function YS(t,e,n,r){ua()||ot(!1);let{navigator:i}=le.useContext(Ei),{matches:o}=le.useContext(nr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Fu(),d;if(e){var h;let w=typeof e=="string"?wo(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||ot(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=wS(t,{pathname:p}),E=tI(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Sr([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Sr([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&E?le.createElement(Vu.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mr.Pop}},E):E}function XS(){let t=oI(),e=US(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:i},n):null,o)}const ZS=le.createElement(XS,null);class JS extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?le.createElement(nr.Provider,{value:this.props.routeContext},le.createElement(A1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eI(t){let{routeContext:e,match:n,children:r}=t,i=le.useContext(Xd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(nr.Provider,{value:e},r)}function tI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,_=!1,E=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||ZS,l&&(c<0&&f===0?(aI("route-fallback",!1),_=!0,w=null):c===f&&(_=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),m=()=>{let v;return p?v=E:_?v=w:h.route.Component?v=le.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,le.createElement(eI,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?le.createElement(JS,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var k1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(k1||{}),Jl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jl||{});function nI(t){let e=le.useContext(Xd);return e||ot(!1),e}function rI(t){let e=le.useContext($S);return e||ot(!1),e}function iI(t){let e=le.useContext(nr);return e||ot(!1),e}function P1(t){let e=iI(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function oI(){var t;let e=le.useContext(A1),n=rI(Jl.UseRouteError),r=P1(Jl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sI(){let{router:t}=nI(k1.UseNavigateStable),e=P1(Jl.UseNavigateStable),n=le.useRef(!1);return S1(()=>{n.current=!0}),le.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ks({fromRouteId:e},o)))},[t,e])}const Xg={};function aI(t,e,n){!e&&!Xg[t]&&(Xg[t]=!0)}function lI(t){return KS(t.context)}function Kt(t){ot(!1)}function uI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mr.Pop,navigator:o,static:s=!1,future:a}=t;ua()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=le.useMemo(()=>({basename:l,navigator:o,static:s,future:Ks({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=wo(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:_="default"}=r,E=le.useMemo(()=>{let w=Yd(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:_},navigationType:i}},[l,d,h,f,p,_,i]);return E==null?null:le.createElement(Ei.Provider,{value:c},le.createElement(Vu.Provider,{children:n,value:E}))}function cI(t){let{children:e,location:n}=t;return QS(Eh(e),n)}new Promise(()=>{});function Eh(t,e){e===void 0&&(e=[]);let n=[];return le.Children.forEach(t,(r,i)=>{if(!le.isValidElement(r))return;let o=[...e,i];if(r.type===le.Fragment){n.push.apply(n,Eh(r.props.children,o));return}r.type!==Kt&&ot(!1),!r.props.index||!r.props.children||ot(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Eh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}function fI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dI(t,e){return t.button===0&&(!e||e==="_self")&&!hI(t)}const pI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mI="6";try{window.__reactRouterVersion=mI}catch{}const gI="startTransition",Zg=If[gI];function yI(t){let{basename:e,children:n,future:r,window:i}=t,o=le.useRef();o.current==null&&(o.current=vS({window:i,v5Compat:!0}));let s=o.current,[a,l]=le.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=le.useCallback(h=>{c&&Zg?Zg(()=>l(h)):l(h)},[l,c]);return le.useLayoutEffect(()=>s.listen(d),[s,d]),le.createElement(uI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const vI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=le.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=fI(e,pI),{basename:p}=le.useContext(Ei),_,E=!1;if(typeof c=="string"&&_I.test(c)&&(_=c,vI))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),k=Yd(y.pathname,p);y.origin===v.origin&&k!=null?c=k+y.search+y.hash:E=!0}catch{}let w=zS(c,{relative:i}),g=EI(c,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||g(v)}return le.createElement("a",wh({},f,{href:_||w,onClick:E||o?r:m,ref:n,target:l}))});var Jg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jg||(Jg={}));var ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ey||(ey={}));function EI(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Zd(),c=Fu(),d=I1(t,{relative:s});return le.useCallback(h=>{if(dI(h,n)){h.preventDefault();let f=r!==void 0?r:Zl(c)===Zl(d);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,d,r,i,n,t,o,s,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},O1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new TI;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bI=function(t){const e=R1(t);return O1.encodeByteArray(e,!0)},eu=function(t){return bI(t).replace(/\./g,"")},AI=function(t){try{return O1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=()=>SI().__FIREBASE_DEFAULTS__,kI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AI(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return II()||kI()||PI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RI=t=>{var e,n;return(n=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N1=t=>{const e=RI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C1=()=>{var t;return(t=Jd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[eu(JSON.stringify(n)),eu(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CI(){var t;const e=(t=Jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xI(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MI,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D1.prototype.create)}}class D1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?VI(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wi(i,a,r)}}function VI(t,e){return t.replace(FI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FI=/\{\$([^}]+)}/g;function Th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ty(o)&&ty(s)){if(!Th(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ty(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jI=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UI(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BI(t){return t===Xr?void 0:t}function UI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const $I={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},zI=Oe.INFO,HI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},WI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L1{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=WI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const KI=(t,e)=>e.some(n=>t instanceof n);let ny,ry;function GI(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,bh=new WeakMap,V1=new WeakMap,af=new WeakMap,ep=new WeakMap;function YI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),ep.set(e,t),e}function XI(t){if(bh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});bh.set(t,e)}let Ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZI(t){Ah=t(Ah)}function JI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lf(this),e,...n);return V1.set(r,e.sort?e.sort():[e]),Ir(r)}:QI().includes(t)?function(...e){return t.apply(lf(this),e),Ir(M1.get(this))}:function(...e){return Ir(t.apply(lf(this),e))}}function ek(t){return typeof t=="function"?JI(t):(t instanceof IDBTransaction&&XI(t),KI(t,GI())?new Proxy(t,Ah):t)}function Ir(t){if(t instanceof IDBRequest)return YI(t);if(af.has(t))return af.get(t);const e=ek(t);return e!==t&&(af.set(t,e),ep.set(e,t)),e}const lf=t=>ep.get(t);function tk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ir(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ir(s.result),l.oldVersion,l.newVersion,Ir(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nk=["get","getKey","getAll","getAllKeys","count"],rk=["put","add","delete","clear"],uf=new Map;function iy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nk.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return uf.set(e,o),o}ZI(t=>({...t,get:(e,n,r)=>iy(e,n)||t.get(e,n,r),has:(e,n)=>!!iy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ok(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ok(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sh="@firebase/app",oy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new L1("@firebase/app"),sk="@firebase/app-compat",ak="@firebase/analytics-compat",lk="@firebase/analytics",uk="@firebase/app-check-compat",ck="@firebase/app-check",fk="@firebase/auth",hk="@firebase/auth-compat",dk="@firebase/database",pk="@firebase/data-connect",mk="@firebase/database-compat",gk="@firebase/functions",yk="@firebase/functions-compat",vk="@firebase/installations",_k="@firebase/installations-compat",Ek="@firebase/messaging",wk="@firebase/messaging-compat",Tk="@firebase/performance",bk="@firebase/performance-compat",Ak="@firebase/remote-config",Sk="@firebase/remote-config-compat",Ik="@firebase/storage",kk="@firebase/storage-compat",Pk="@firebase/firestore",Rk="@firebase/vertexai",Ok="@firebase/firestore-compat",Nk="firebase",Ck="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]",xk={[Sh]:"fire-core",[sk]:"fire-core-compat",[lk]:"fire-analytics",[ak]:"fire-analytics-compat",[ck]:"fire-app-check",[uk]:"fire-app-check-compat",[fk]:"fire-auth",[hk]:"fire-auth-compat",[dk]:"fire-rtdb",[pk]:"fire-data-connect",[mk]:"fire-rtdb-compat",[gk]:"fire-fn",[yk]:"fire-fn-compat",[vk]:"fire-iid",[_k]:"fire-iid-compat",[Ek]:"fire-fcm",[wk]:"fire-fcm-compat",[Tk]:"fire-perf",[bk]:"fire-perf-compat",[Ak]:"fire-rc",[Sk]:"fire-rc-compat",[Ik]:"fire-gcs",[kk]:"fire-gcs-compat",[Pk]:"fire-fst",[Ok]:"fire-fst-compat",[Rk]:"fire-vertex","fire-js":"fire-js",[Nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,Dk=new Map,kh=new Map;function sy(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(kh.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,t);for(const n of tu.values())sy(n,t);for(const n of Dk.values())sy(n,t);return!0}function F1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new D1("app","Firebase",Lk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=Ck;function B1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ih,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=C1()),!n)throw kr.create("no-options");const o=tu.get(i);if(o){if(Th(n,o.options)&&Th(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}const s=new qI(i);for(const l of kh.values())s.addComponent(l);const a=new Mk(n,r,s);return tu.set(i,a),a}function U1(t=Ih){const e=tu.get(t);if(!e&&t===Ih&&C1())return B1();if(!e)throw kr.create("no-app",{appName:t});return e}function Pr(t,e,n){var r;let i=(r=xk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Gs(new lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebase-heartbeat-database",Fk=1,Qs="firebase-heartbeat-store";let cf=null;function q1(){return cf||(cf=tk(Vk,Fk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qs)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),cf}async function jk(t){try{const n=(await q1()).transaction(Qs),r=await n.objectStore(Qs).get($1(t));return await n.done,r}catch(e){if(e instanceof wi)Xn.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xn.warn(n.message)}}}async function ay(t,e){try{const r=(await q1()).transaction(Qs,"readwrite");await r.objectStore(Qs).put(e,$1(t)),await r.done}catch(n){if(n instanceof wi)Xn.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(r.message)}}}function $1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1024,Uk=30*24*60*60*1e3;class qk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ly();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Uk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ly(),{heartbeatsToSend:r,unsentEntries:i}=$k(this._heartbeatsCache.heartbeats),o=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xn.warn(n),""}}}function ly(){return new Date().toISOString().substring(0,10)}function $k(t,e=Bk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uy(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){Gs(new lo("platform-logger",e=>new ik(e),"PRIVATE")),Gs(new lo("heartbeat",e=>new qk(e),"PRIVATE")),Pr(Sh,oy,t),Pr(Sh,oy,"esm2017"),Pr("fire-js","")}Hk("");var Wk="firebase",Kk="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(Wk,Kk,"app");var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,z1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function O(){}O.prototype=T.prototype,A.D=T.prototype,A.prototype=new O,A.prototype.constructor=A,A.C=function(I,S,R){for(var P=Array(arguments.length-2),L=2;L<arguments.length;L++)P[L-2]=arguments[L];return T.prototype[S].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,O){O||(O=0);var I=Array(16);if(typeof T=="string")for(var S=0;16>S;++S)I[S]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(S=0;16>S;++S)I[S]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=A.g[0],O=A.g[1],S=A.g[2];var R=A.g[3],P=T+(R^O&(S^R))+I[0]+3614090360&4294967295;T=O+(P<<7&4294967295|P>>>25),P=R+(S^T&(O^S))+I[1]+3905402710&4294967295,R=T+(P<<12&4294967295|P>>>20),P=S+(O^R&(T^O))+I[2]+606105819&4294967295,S=R+(P<<17&4294967295|P>>>15),P=O+(T^S&(R^T))+I[3]+3250441966&4294967295,O=S+(P<<22&4294967295|P>>>10),P=T+(R^O&(S^R))+I[4]+4118548399&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(S^T&(O^S))+I[5]+1200080426&4294967295,R=T+(P<<12&4294967295|P>>>20),P=S+(O^R&(T^O))+I[6]+2821735955&4294967295,S=R+(P<<17&4294967295|P>>>15),P=O+(T^S&(R^T))+I[7]+4249261313&4294967295,O=S+(P<<22&4294967295|P>>>10),P=T+(R^O&(S^R))+I[8]+1770035416&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(S^T&(O^S))+I[9]+2336552879&4294967295,R=T+(P<<12&4294967295|P>>>20),P=S+(O^R&(T^O))+I[10]+4294925233&4294967295,S=R+(P<<17&4294967295|P>>>15),P=O+(T^S&(R^T))+I[11]+2304563134&4294967295,O=S+(P<<22&4294967295|P>>>10),P=T+(R^O&(S^R))+I[12]+1804603682&4294967295,T=O+(P<<7&4294967295|P>>>25),P=R+(S^T&(O^S))+I[13]+4254626195&4294967295,R=T+(P<<12&4294967295|P>>>20),P=S+(O^R&(T^O))+I[14]+2792965006&4294967295,S=R+(P<<17&4294967295|P>>>15),P=O+(T^S&(R^T))+I[15]+1236535329&4294967295,O=S+(P<<22&4294967295|P>>>10),P=T+(S^R&(O^S))+I[1]+4129170786&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^S&(T^O))+I[6]+3225465664&4294967295,R=T+(P<<9&4294967295|P>>>23),P=S+(T^O&(R^T))+I[11]+643717713&4294967295,S=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(S^R))+I[0]+3921069994&4294967295,O=S+(P<<20&4294967295|P>>>12),P=T+(S^R&(O^S))+I[5]+3593408605&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^S&(T^O))+I[10]+38016083&4294967295,R=T+(P<<9&4294967295|P>>>23),P=S+(T^O&(R^T))+I[15]+3634488961&4294967295,S=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(S^R))+I[4]+3889429448&4294967295,O=S+(P<<20&4294967295|P>>>12),P=T+(S^R&(O^S))+I[9]+568446438&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^S&(T^O))+I[14]+3275163606&4294967295,R=T+(P<<9&4294967295|P>>>23),P=S+(T^O&(R^T))+I[3]+4107603335&4294967295,S=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(S^R))+I[8]+1163531501&4294967295,O=S+(P<<20&4294967295|P>>>12),P=T+(S^R&(O^S))+I[13]+2850285829&4294967295,T=O+(P<<5&4294967295|P>>>27),P=R+(O^S&(T^O))+I[2]+4243563512&4294967295,R=T+(P<<9&4294967295|P>>>23),P=S+(T^O&(R^T))+I[7]+1735328473&4294967295,S=R+(P<<14&4294967295|P>>>18),P=O+(R^T&(S^R))+I[12]+2368359562&4294967295,O=S+(P<<20&4294967295|P>>>12),P=T+(O^S^R)+I[5]+4294588738&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^S)+I[8]+2272392833&4294967295,R=T+(P<<11&4294967295|P>>>21),P=S+(R^T^O)+I[11]+1839030562&4294967295,S=R+(P<<16&4294967295|P>>>16),P=O+(S^R^T)+I[14]+4259657740&4294967295,O=S+(P<<23&4294967295|P>>>9),P=T+(O^S^R)+I[1]+2763975236&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^S)+I[4]+1272893353&4294967295,R=T+(P<<11&4294967295|P>>>21),P=S+(R^T^O)+I[7]+4139469664&4294967295,S=R+(P<<16&4294967295|P>>>16),P=O+(S^R^T)+I[10]+3200236656&4294967295,O=S+(P<<23&4294967295|P>>>9),P=T+(O^S^R)+I[13]+681279174&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^S)+I[0]+3936430074&4294967295,R=T+(P<<11&4294967295|P>>>21),P=S+(R^T^O)+I[3]+3572445317&4294967295,S=R+(P<<16&4294967295|P>>>16),P=O+(S^R^T)+I[6]+76029189&4294967295,O=S+(P<<23&4294967295|P>>>9),P=T+(O^S^R)+I[9]+3654602809&4294967295,T=O+(P<<4&4294967295|P>>>28),P=R+(T^O^S)+I[12]+3873151461&4294967295,R=T+(P<<11&4294967295|P>>>21),P=S+(R^T^O)+I[15]+530742520&4294967295,S=R+(P<<16&4294967295|P>>>16),P=O+(S^R^T)+I[2]+3299628645&4294967295,O=S+(P<<23&4294967295|P>>>9),P=T+(S^(O|~R))+I[0]+4096336452&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~S))+I[7]+1126891415&4294967295,R=T+(P<<10&4294967295|P>>>22),P=S+(T^(R|~O))+I[14]+2878612391&4294967295,S=R+(P<<15&4294967295|P>>>17),P=O+(R^(S|~T))+I[5]+4237533241&4294967295,O=S+(P<<21&4294967295|P>>>11),P=T+(S^(O|~R))+I[12]+1700485571&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~S))+I[3]+2399980690&4294967295,R=T+(P<<10&4294967295|P>>>22),P=S+(T^(R|~O))+I[10]+4293915773&4294967295,S=R+(P<<15&4294967295|P>>>17),P=O+(R^(S|~T))+I[1]+2240044497&4294967295,O=S+(P<<21&4294967295|P>>>11),P=T+(S^(O|~R))+I[8]+1873313359&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~S))+I[15]+4264355552&4294967295,R=T+(P<<10&4294967295|P>>>22),P=S+(T^(R|~O))+I[6]+2734768916&4294967295,S=R+(P<<15&4294967295|P>>>17),P=O+(R^(S|~T))+I[13]+1309151649&4294967295,O=S+(P<<21&4294967295|P>>>11),P=T+(S^(O|~R))+I[4]+4149444226&4294967295,T=O+(P<<6&4294967295|P>>>26),P=R+(O^(T|~S))+I[11]+3174756917&4294967295,R=T+(P<<10&4294967295|P>>>22),P=S+(T^(R|~O))+I[2]+718787259&4294967295,S=R+(P<<15&4294967295|P>>>17),P=O+(R^(S|~T))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(S+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+S&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var O=T-this.blockSize,I=this.B,S=this.h,R=0;R<T;){if(S==0)for(;R<=O;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<T;)if(I[S++]=A.charCodeAt(R++),S==this.blockSize){i(this,I),S=0;break}}else for(;R<T;)if(I[S++]=A[R++],S==this.blockSize){i(this,I),S=0;break}}this.h=S,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var O=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=O&255,O/=256;for(this.u(A),A=Array(16),T=O=0;4>T;++T)for(var I=0;32>I;I+=8)A[O++]=this.g[T]>>>I&255;return A};function o(A,T){var O=a;return Object.prototype.hasOwnProperty.call(O,A)?O[A]:O[A]=T(A)}function s(A,T){this.h=T;for(var O=[],I=!0,S=A.length-1;0<=S;S--){var R=A[S]|0;I&&R==T||(O[S]=R,I=!1)}this.g=O}var a={};function l(A){return-128<=A&&128>A?o(A,function(T){return new s([T|0],0>T?-1:0)}):new s([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return w(c(-A));for(var T=[],O=1,I=0;A>=O;I++)T[I]=A/O|0,O*=4294967296;return new s(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return w(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=c(Math.pow(T,8)),I=h,S=0;S<A.length;S+=8){var R=Math.min(8,A.length-S),P=parseInt(A.substring(S,S+R),T);8>R?(R=c(Math.pow(T,R)),I=I.j(R).add(c(P))):(I=I.j(O),I=I.add(c(P)))}return I}var h=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(E(this))return-w(this).m();for(var A=0,T=1,O=0;O<this.g.length;O++){var I=this.i(O);A+=(0<=I?I:4294967296+I)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(E(this))return"-"+w(this).toString(A);for(var T=c(Math.pow(A,6)),O=this,I="";;){var S=y(O,T).g;O=g(O,S.j(T));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(A);if(O=S,_(O))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=g(this,A),E(A)?-1:_(A)?0:1};function w(A){for(var T=A.g.length,O=[],I=0;I<T;I++)O[I]=~A.g[I];return new s(O,~A.h).add(f)}t.abs=function(){return E(this)?w(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),O=[],I=0,S=0;S<=T;S++){var R=I+(this.i(S)&65535)+(A.i(S)&65535),P=(R>>>16)+(this.i(S)>>>16)+(A.i(S)>>>16);I=P>>>16,R&=65535,P&=65535,O[S]=P<<16|R}return new s(O,O[O.length-1]&-2147483648?-1:0)};function g(A,T){return A.add(w(T))}t.j=function(A){if(_(this)||_(A))return h;if(E(this))return E(A)?w(this).j(w(A)):w(w(this).j(A));if(E(A))return w(this.j(w(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,O=[],I=0;I<2*T;I++)O[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<A.g.length;S++){var R=this.i(I)>>>16,P=this.i(I)&65535,L=A.i(S)>>>16,U=A.i(S)&65535;O[2*I+2*S]+=P*U,m(O,2*I+2*S),O[2*I+2*S+1]+=R*U,m(O,2*I+2*S+1),O[2*I+2*S+1]+=P*L,m(O,2*I+2*S+1),O[2*I+2*S+2]+=R*L,m(O,2*I+2*S+2)}for(I=0;I<T;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=T;I<2*T;I++)O[I]=0;return new s(O,0)};function m(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function v(A,T){this.g=A,this.h=T}function y(A,T){if(_(T))throw Error("division by zero");if(_(A))return new v(h,h);if(E(A))return T=y(w(A),T),new v(w(T.g),w(T.h));if(E(T))return T=y(A,w(T)),new v(w(T.g),T.h);if(30<A.g.length){if(E(A)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var O=f,I=T;0>=I.l(A);)O=k(O),I=k(I);var S=C(O,1),R=C(I,1);for(I=C(I,2),O=C(O,2);!_(I);){var P=R.add(I);0>=P.l(A)&&(S=S.add(O),R=P),I=C(I,1),O=C(O,1)}return T=g(A,S.j(T)),new v(S,T)}for(S=h;0<=A.l(T);){for(O=Math.max(1,Math.floor(A.m()/T.m())),I=Math.ceil(Math.log(O)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=c(O),P=R.j(T);E(P)||0<P.l(A);)O-=I,R=c(O),P=R.j(T);_(R)&&(R=f),S=S.add(R),A=g(A,P)}return new v(S,A)}t.A=function(A){return y(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),O=[],I=0;I<T;I++)O[I]=this.i(I)&A.i(I);return new s(O,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),O=[],I=0;I<T;I++)O[I]=this.i(I)|A.i(I);return new s(O,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),O=[],I=0;I<T;I++)O[I]=this.i(I)^A.i(I);return new s(O,this.h^A.h)};function k(A){for(var T=A.g.length+1,O=[],I=0;I<T;I++)O[I]=A.i(I)<<1|A.i(I-1)>>>31;return new s(O,A.h)}function C(A,T){var O=T>>5;T%=32;for(var I=A.g.length-O,S=[],R=0;R<I;R++)S[R]=0<T?A.i(R+O)>>>T|A.i(R+O+1)<<32-T:A.i(R+O);return new s(S,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,z1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,si=s}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H1,cs,W1,El,Ph,K1,G1,Q1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,b,N){return u==Array.prototype||u==Object.prototype||(u[b]=N.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ga=="object"&&Ga];for(var b=0;b<u.length;++b){var N=u[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(u,b){if(b)e:{var N=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var G=u[D];if(!(G in N))break e;N=N[G]}u=u[u.length-1],D=N[u],b=b(D),b!=D&&b!=null&&e(N,u,{configurable:!0,writable:!0,value:b})}}function o(u,b){u instanceof String&&(u+="");var N=0,D=!1,G={next:function(){if(!D&&N<u.length){var Z=N++;return{value:b(Z,u[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(u){return u||function(){return o(this,function(b,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(u){var b=typeof u;return b=b!="object"?b:u?Array.isArray(u)?"array":b:"null",b=="array"||b=="object"&&typeof u.length=="number"}function c(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function d(u,b,N){return u.call.apply(u.bind,arguments)}function h(u,b,N){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),u.apply(b,G)}}return function(){return u.apply(b,arguments)}}function f(u,b,N){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,b){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function _(u,b){function N(){}N.prototype=b.prototype,u.aa=b.prototype,u.prototype=new N,u.prototype.constructor=u,u.Qb=function(D,G,Z){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return b.prototype[G].apply(D,ae)}}function E(u){const b=u.length;if(0<b){const N=Array(b);for(let D=0;D<b;D++)N[D]=u[D];return N}return[]}function w(u,b){for(let N=1;N<arguments.length;N++){const D=arguments[N];if(l(D)){const G=u.length||0,Z=D.length||0;u.length=G+Z;for(let ae=0;ae<Z;ae++)u[G+ae]=D[ae]}else u.push(D)}}class g{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function m(u){return/^[\s\xa0]*$/.test(u)}function v(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function y(u){return y[" "](u),u}y[" "]=function(){};var k=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function C(u,b,N){for(const D in u)b.call(N,u[D],D,u)}function A(u,b){for(const N in u)b.call(void 0,u[N],N,u)}function T(u){const b={};for(const N in u)b[N]=u[N];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,b){let N,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(N in D)u[N]=D[N];for(let Z=0;Z<O.length;Z++)N=O[Z],Object.prototype.hasOwnProperty.call(D,N)&&(u[N]=D[N])}}function S(u){var b=1;u=u.split(":");const N=[];for(;0<b&&u.length;)N.push(u.shift()),b--;return u.length&&N.push(u.join(":")),N}function R(u){a.setTimeout(()=>{throw u},0)}function P(){var u=q;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class L{constructor(){this.h=this.g=null}add(b,N){const D=U.get();D.set(b,N),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new g(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Q=!1,q=new L,F=()=>{const u=a.Promise.resolve(void 0);W=()=>{u.then(x)}};var x=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(N){R(N)}var b=U;b.j(u),100>b.h&&(b.h++,u.next=b.g,b.g=u)}Q=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const N=()=>{};a.addEventListener("test",N,b),a.removeEventListener("test",N,b)}catch{}return u}();function z(u,b){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var N=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget){if(k){e:{try{y(b.nodeName);var G=!0;break e}catch{}G=!1}G||(b=null)}}else N=="mouseover"?b=u.fromElement:N=="mouseout"&&(b=u.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:V[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&z.aa.h.call(this)}}_(z,B);var V={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(u,b,N,D,G){this.listener=u,this.proxy=null,this.src=b,this.type=N,this.capture=!!D,this.ha=G,this.key=++Y,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,b,N,D,G){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ae=ve(u,b,D,G);return-1<ae?(b=u[ae],N||(b.fa=!1)):(b=new X(b,this.src,Z,!!D,G),b.fa=N,u.push(b)),b};function ge(u,b){var N=b.type;if(N in u.g){var D=u.g[N],G=Array.prototype.indexOf.call(D,b,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(D,G,1),Z&&(ne(b),u.g[N].length==0&&(delete u.g[N],u.h--))}}function ve(u,b,N,D){for(var G=0;G<u.length;++G){var Z=u[G];if(!Z.da&&Z.listener==b&&Z.capture==!!N&&Z.ha==D)return G}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Ne={};function pt(u,b,N,D,G){if(D&&D.once)return ee(u,b,N,D,G);if(Array.isArray(b)){for(var Z=0;Z<b.length;Z++)pt(u,b[Z],N,D,G);return null}return N=bt(N),u&&u[$]?u.K(b,N,c(D)?!!D.capture:!!D,G):Ye(u,b,N,!1,D,G)}function Ye(u,b,N,D,G,Z){if(!b)throw Error("Invalid event type");var ae=c(G)?!!G.capture:!!G,Me=we(u);if(Me||(u[Ae]=Me=new fe(u)),N=Me.add(b,N,D,ae,Z),N.proxy)return N;if(D=J(),N.proxy=D,D.src=u,D.listener=N,u.addEventListener)K||(G=ae),G===void 0&&(G=!1),u.addEventListener(b.toString(),D,G);else if(u.attachEvent)u.attachEvent(re(b.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function J(){function u(N){return b.call(u.src,u.listener,N)}const b=be;return u}function ee(u,b,N,D,G){if(Array.isArray(b)){for(var Z=0;Z<b.length;Z++)ee(u,b[Z],N,D,G);return null}return N=bt(N),u&&u[$]?u.L(b,N,c(D)?!!D.capture:!!D,G):Ye(u,b,N,!0,D,G)}function ue(u,b,N,D,G){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)ue(u,b[Z],N,D,G);else D=c(D)?!!D.capture:!!D,N=bt(N),u&&u[$]?(u=u.i,b=String(b).toString(),b in u.g&&(Z=u.g[b],N=ve(Z,N,D,G),-1<N&&(ne(Z[N]),Array.prototype.splice.call(Z,N,1),Z.length==0&&(delete u.g[b],u.h--)))):u&&(u=we(u))&&(b=u.g[b.toString()],u=-1,b&&(u=ve(b,N,D,G)),(N=-1<u?b[u]:null)&&ce(N))}function ce(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[$])ge(b.i,u);else{var N=u.type,D=u.proxy;b.removeEventListener?b.removeEventListener(N,D,u.capture):b.detachEvent?b.detachEvent(re(N),D):b.addListener&&b.removeListener&&b.removeListener(D),(N=we(b))?(ge(N,u),N.h==0&&(N.src=null,b[Ae]=null)):ne(u)}}}function re(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function be(u,b){if(u.da)u=!0;else{b=new z(b,this);var N=u.listener,D=u.ha||u.src;u.fa&&ce(u),u=N.call(D,b)}return u}function we(u){return u=u[Ae],u instanceof fe?u:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(u){return typeof u=="function"?u:(u[Te]||(u[Te]=function(b){return u.handleEvent(b)}),u[Te])}function Ve(){M.call(this),this.i=new fe(this),this.M=this,this.F=null}_(Ve,M),Ve.prototype[$]=!0,Ve.prototype.removeEventListener=function(u,b,N,D){ue(this,u,b,N,D)};function Se(u,b){var N,D=u.F;if(D)for(N=[];D;D=D.F)N.push(D);if(u=u.M,D=b.type||b,typeof b=="string")b=new B(b,u);else if(b instanceof B)b.target=b.target||u;else{var G=b;b=new B(D,u),I(b,G)}if(G=!0,N)for(var Z=N.length-1;0<=Z;Z--){var ae=b.g=N[Z];G=Ii(ae,D,!0,b)&&G}if(ae=b.g=u,G=Ii(ae,D,!0,b)&&G,G=Ii(ae,D,!1,b)&&G,N)for(Z=0;Z<N.length;Z++)ae=b.g=N[Z],G=Ii(ae,D,!1,b)&&G}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var u=this.i,b;for(b in u.g){for(var N=u.g[b],D=0;D<N.length;D++)ne(N[D]);delete u.g[b],u.h--}}this.F=null},Ve.prototype.K=function(u,b,N,D){return this.i.add(String(u),b,!1,N,D)},Ve.prototype.L=function(u,b,N,D){return this.i.add(String(u),b,!0,N,D)};function Ii(u,b,N,D){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();for(var G=!0,Z=0;Z<b.length;++Z){var ae=b[Z];if(ae&&!ae.da&&ae.capture==N){var Me=ae.listener,mt=ae.ha||ae.src;ae.fa&&ge(u.i,ae),G=Me.call(mt,D)!==!1&&G}}return G&&!D.defaultPrevented}function He(u,b,N){if(typeof u=="function")N&&(u=f(u,N));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(u,b||0)}function gn(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,gn(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class vT extends M{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:gn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(u){M.call(this),this.h=u,this.g={}}_(xo,M);var zp=[];function Hp(u){C(u.g,function(b,N){this.g.hasOwnProperty(N)&&ce(b)},u),u.g={}}xo.prototype.N=function(){xo.aa.N.call(this),Hp(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=a.JSON.stringify,_T=a.JSON.parse,ET=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function yc(){}yc.prototype.h=null;function Wp(u){return u.h||(u.h=u.i())}function Kp(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vc(){B.call(this,"d")}_(vc,B);function _c(){B.call(this,"c")}_(_c,B);var Hr={},Gp=null;function ga(){return Gp=Gp||new Ve}Hr.La="serverreachability";function Qp(u){B.call(this,Hr.La,u)}_(Qp,B);function Lo(u){const b=ga();Se(b,new Qp(b))}Hr.STAT_EVENT="statevent";function Yp(u,b){B.call(this,Hr.STAT_EVENT,u),this.stat=b}_(Yp,B);function xt(u){const b=ga();Se(b,new Yp(b,u))}Hr.Ma="timingevent";function Xp(u,b){B.call(this,Hr.Ma,u),this.size=b}_(Xp,B);function Mo(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},b)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function wT(u,b,N,D,G,Z){u.info(function(){if(u.g)if(Z)for(var ae="",Me=Z.split("&"),mt=0;mt<Me.length;mt++){var xe=Me[mt].split("=");if(1<xe.length){var At=xe[0];xe=xe[1];var St=At.split("_");ae=2<=St.length&&St[1]=="type"?ae+(At+"="+xe+"&"):ae+(At+"=redacted&")}}else ae=null;else ae=Z;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+b+`
`+N+`
`+ae})}function TT(u,b,N,D,G,Z,ae){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+b+`
`+N+`
`+Z+" "+ae})}function ki(u,b,N,D){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+AT(u,N)+(D?" "+D:"")})}function bT(u,b){u.info(function(){return"TIMEOUT: "+b})}Vo.prototype.info=function(){};function AT(u,b){if(!u.g)return b;if(!b)return null;try{var N=JSON.parse(b);if(N){for(u=0;u<N.length;u++)if(Array.isArray(N[u])){var D=N[u];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ae=1;ae<G.length;ae++)G[ae]=""}}}}return gc(N)}catch{return b}}var ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ec;function va(){}_(va,yc),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},Ec=new va;function ir(u,b,N,D){this.j=u,this.i=b,this.l=N,this.R=D||1,this.U=new xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jp}function Jp(){this.i=null,this.g="",this.h=!1}var em={},wc={};function Tc(u,b,N){u.L=1,u.v=Ta(Bn(b)),u.m=N,u.P=!0,tm(u,null)}function tm(u,b){u.F=Date.now(),_a(u),u.A=Bn(u.v);var N=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),mm(N.i,"t",D),u.C=0,N=u.j.J,u.h=new Jp,u.g=xm(u.j,N?b:null,!u.m),0<u.O&&(u.M=new vT(f(u.Y,u,u.g),u.O)),b=u.U,N=u.g,D=u.ca;var G="readystatechange";Array.isArray(G)||(G&&(zp[0]=G.toString()),G=zp);for(var Z=0;Z<G.length;Z++){var ae=pt(N,G[Z],D||b.handleEvent,!1,b.h||b);if(!ae)break;b.g[ae.key]=ae}b=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,b)):(u.u="GET",u.g.ea(u.A,u.u,null,b)),Lo(),wT(u.i,u.u,u.A,u.l,u.R,u.m)}ir.prototype.ca=function(u){u=u.target;const b=this.M;b&&Un(u)==3?b.j():this.Y(u)},ir.prototype.Y=function(u){try{if(u==this.g)e:{const St=Un(this.g);var b=this.g.Ba();const Oi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Tm(this.g)))){this.J||St!=4||b==7||(b==8||0>=Oi?Lo(3):Lo(2)),bc(this);var N=this.g.Z();this.X=N;t:if(nm(this)){var D=Tm(this.g);u="";var G=D.length,Z=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),Fo(this);var ae="";break t}this.h.i=new a.TextDecoder}for(b=0;b<G;b++)this.h.h=!0,u+=this.h.i.decode(D[b],{stream:!(Z&&b==G-1)});D.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=N==200,TT(this.i,this.u,this.A,this.l,this.R,St,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,mt=this.g;if((Me=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Me)){var xe=Me;break t}}xe=null}if(N=xe)ki(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,N);else{this.o=!1,this.s=3,xt(12),Wr(this),Fo(this);break e}}if(this.P){N=!0;let yn;for(;!this.J&&this.C<ae.length;)if(yn=ST(this,ae),yn==wc){St==4&&(this.s=4,xt(14),N=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==em){this.s=4,xt(15),ki(this.i,this.l,ae,"[Invalid Chunk]"),N=!1;break}else ki(this.i,this.l,yn,null),Ac(this,yn);if(nm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,xt(16),N=!1),this.o=this.o&&N,!N)ki(this.i,this.l,ae,"[Invalid Chunked Response]"),Wr(this),Fo(this);else if(0<ae.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Oc(At),At.M=!0,xt(11))}}else ki(this.i,this.l,ae,null),Ac(this,ae);St==4&&Wr(this),this.o&&!this.J&&(St==4?Rm(this.j,this):(this.o=!1,_a(this)))}else qT(this.g),N==400&&0<ae.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Wr(this),Fo(this)}}}catch{}finally{}};function nm(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ST(u,b){var N=u.C,D=b.indexOf(`
`,N);return D==-1?wc:(N=Number(b.substring(N,D)),isNaN(N)?em:(D+=1,D+N>b.length?wc:(b=b.slice(D,D+N),u.C=D+N,b)))}ir.prototype.cancel=function(){this.J=!0,Wr(this)};function _a(u){u.S=Date.now()+u.I,rm(u,u.I)}function rm(u,b){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mo(f(u.ba,u),b)}function bc(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ir.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bT(this.i,this.A),this.L!=2&&(Lo(),xt(17)),Wr(this),this.s=2,Fo(this)):rm(this,this.S-u)};function Fo(u){u.j.G==0||u.J||Rm(u.j,u)}function Wr(u){bc(u);var b=u.M;b&&typeof b.ma=="function"&&b.ma(),u.M=null,Hp(u.U),u.g&&(b=u.g,u.g=null,b.abort(),b.ma())}function Ac(u,b){try{var N=u.j;if(N.G!=0&&(N.g==u||Sc(N.h,u))){if(!u.K&&Sc(N.h,u)&&N.G==3){try{var D=N.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<u.F)Pa(N),Ia(N);else break e;Rc(N),xt(18)}}else N.za=G[1],0<N.za-N.T&&37500>G[2]&&N.F&&N.v==0&&!N.C&&(N.C=Mo(f(N.Za,N),6e3));if(1>=sm(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Gr(N,11)}else if((u.K||N.g==u)&&Pa(N),!m(b))for(G=N.Da.g.parse(b),b=0;b<G.length;b++){let xe=G[b];if(N.T=xe[0],xe=xe[1],N.G==2)if(xe[0]=="c"){N.K=xe[1],N.ia=xe[2];const At=xe[3];At!=null&&(N.la=At,N.j.info("VER="+N.la));const St=xe[4];St!=null&&(N.Aa=St,N.j.info("SVER="+N.Aa));const Oi=xe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(D=1.5*Oi,N.L=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const yn=u.g;if(yn){const Oa=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var Z=D.h;Z.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ic(Z,Z.h),Z.h=null))}if(D.D){const Nc=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(D.ya=Nc,je(D.I,D.D,Nc))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-u.F,N.j.info("Handshake RTT: "+N.R+"ms")),D=N;var ae=u;if(D.qa=Cm(D,D.J?D.ia:null,D.W),ae.K){am(D.h,ae);var Me=ae,mt=D.L;mt&&(Me.I=mt),Me.B&&(bc(Me),_a(Me)),D.g=ae}else km(D);0<N.i.length&&ka(N)}else xe[0]!="stop"&&xe[0]!="close"||Gr(N,7);else N.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Gr(N,7):Pc(N):xe[0]!="noop"&&N.l&&N.l.ta(xe),N.v=0)}}Lo(4)}catch{}}var IT=class{constructor(u,b){this.g=u,this.map=b}};function im(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function om(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function sm(u){return u.h?1:u.g?u.g.size:0}function Sc(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function Ic(u,b){u.g?u.g.add(b):u.h=b}function am(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}im.prototype.cancel=function(){if(this.i=lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lm(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const N of u.g.values())b=b.concat(N.D);return b}return E(u.i)}function kT(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var b=[],N=u.length,D=0;D<N;D++)b.push(u[D]);return b}b=[],N=0;for(D in u)b[N++]=u[D];return b}function PT(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var b=[];u=u.length;for(var N=0;N<u;N++)b.push(N);return b}b=[],N=0;for(const D in u)b[N++]=D;return b}}}function um(u,b){if(u.forEach&&typeof u.forEach=="function")u.forEach(b,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,b,void 0);else for(var N=PT(u),D=kT(u),G=D.length,Z=0;Z<G;Z++)b.call(void 0,D[Z],N&&N[Z],u)}var cm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RT(u,b){if(u){u=u.split("&");for(var N=0;N<u.length;N++){var D=u[N].indexOf("="),G=null;if(0<=D){var Z=u[N].substring(0,D);G=u[N].substring(D+1)}else Z=u[N];b(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Kr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Kr){this.h=u.h,Ea(this,u.j),this.o=u.o,this.g=u.g,wa(this,u.s),this.l=u.l;var b=u.i,N=new Uo;N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),fm(this,N),this.m=u.m}else u&&(b=String(u).match(cm))?(this.h=!1,Ea(this,b[1]||"",!0),this.o=jo(b[2]||""),this.g=jo(b[3]||"",!0),wa(this,b[4]),this.l=jo(b[5]||"",!0),fm(this,b[6]||"",!0),this.m=jo(b[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Kr.prototype.toString=function(){var u=[],b=this.j;b&&u.push(Bo(b,hm,!0),":");var N=this.g;return(N||b=="file")&&(u.push("//"),(b=this.o)&&u.push(Bo(b,hm,!0),"@"),u.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&u.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&u.push("/"),u.push(Bo(N,N.charAt(0)=="/"?CT:NT,!0))),(N=this.i.toString())&&u.push("?",N),(N=this.m)&&u.push("#",Bo(N,DT)),u.join("")};function Bn(u){return new Kr(u)}function Ea(u,b,N){u.j=N?jo(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function wa(u,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);u.s=b}else u.s=null}function fm(u,b,N){b instanceof Uo?(u.i=b,LT(u.i,u.h)):(N||(b=Bo(b,xT)),u.i=new Uo(b,u.h))}function je(u,b,N){u.i.set(b,N)}function Ta(u){return je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function jo(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bo(u,b,N){return typeof u=="string"?(u=encodeURI(u).replace(b,OT),N&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function OT(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hm=/[#\/\?@]/g,NT=/[#\?:]/g,CT=/[#\?]/g,xT=/[#\?@]/g,DT=/#/g;function Uo(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function or(u){u.g||(u.g=new Map,u.h=0,u.i&&RT(u.i,function(b,N){u.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}t=Uo.prototype,t.add=function(u,b){or(this),this.i=null,u=Pi(this,u);var N=this.g.get(u);return N||this.g.set(u,N=[]),N.push(b),this.h+=1,this};function dm(u,b){or(u),b=Pi(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function pm(u,b){return or(u),b=Pi(u,b),u.g.has(b)}t.forEach=function(u,b){or(this),this.g.forEach(function(N,D){N.forEach(function(G){u.call(b,G,D,this)},this)},this)},t.na=function(){or(this);const u=Array.from(this.g.values()),b=Array.from(this.g.keys()),N=[];for(let D=0;D<b.length;D++){const G=u[D];for(let Z=0;Z<G.length;Z++)N.push(b[D])}return N},t.V=function(u){or(this);let b=[];if(typeof u=="string")pm(this,u)&&(b=b.concat(this.g.get(Pi(this,u))));else{u=Array.from(this.g.values());for(let N=0;N<u.length;N++)b=b.concat(u[N])}return b},t.set=function(u,b){return or(this),this.i=null,u=Pi(this,u),pm(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},t.get=function(u,b){return u?(u=this.V(u),0<u.length?String(u[0]):b):b};function mm(u,b,N){dm(u,b),0<N.length&&(u.i=null,u.g.set(Pi(u,b),E(N)),u.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(var N=0;N<b.length;N++){var D=b[N];const Z=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var G=Z;ae[D]!==""&&(G+="="+encodeURIComponent(String(ae[D]))),u.push(G)}}return this.i=u.join("&")};function Pi(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function LT(u,b){b&&!u.j&&(or(u),u.i=null,u.g.forEach(function(N,D){var G=D.toLowerCase();D!=G&&(dm(this,D),mm(this,G,N))},u)),u.j=b}function MT(u,b){const N=new Vo;if(a.Image){const D=new Image;D.onload=p(sr,N,"TestLoadImage: loaded",!0,b,D),D.onerror=p(sr,N,"TestLoadImage: error",!1,b,D),D.onabort=p(sr,N,"TestLoadImage: abort",!1,b,D),D.ontimeout=p(sr,N,"TestLoadImage: timeout",!1,b,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else b(!1)}function VT(u,b){const N=new Vo,D=new AbortController,G=setTimeout(()=>{D.abort(),sr(N,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:D.signal}).then(Z=>{clearTimeout(G),Z.ok?sr(N,"TestPingServer: ok",!0,b):sr(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),sr(N,"TestPingServer: error",!1,b)})}function sr(u,b,N,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(N)}catch{}}function FT(){this.g=new ET}function jT(u,b,N){const D=N||"";try{um(u,function(G,Z){let ae=G;c(G)&&(ae=gc(G)),b.push(D+Z+"="+encodeURIComponent(ae))})}catch(G){throw b.push(D+"type="+encodeURIComponent("_badmap")),G}}function ba(u){this.l=u.Ub||null,this.j=u.eb||!1}_(ba,yc),ba.prototype.g=function(){return new Aa(this.l,this.j)},ba.prototype.i=function(u){return function(){return u}}({});function Aa(u,b){Ve.call(this),this.D=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Aa,Ve),t=Aa.prototype,t.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=b,this.readyState=1,$o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(b.body=u),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gm(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gm(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?qo(this):$o(this),this.readyState==3&&gm(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qo(this))},t.Qa=function(u){this.g&&(this.response=u,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$o(u)}t.setRequestHeader=function(u,b){this.u.append(u,b)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,u.push(N[0]+": "+N[1]),N=b.next();return u.join(`\r
`)};function $o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ym(u){let b="";return C(u,function(N,D){b+=D,b+=":",b+=N,b+=`\r
`}),b}function kc(u,b,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=ym(N),typeof u=="string"?N!=null&&encodeURIComponent(String(N)):je(u,b,N))}function Xe(u){Ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Xe,Ve);var BT=/^https?$/i,UT=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,b,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ec.g(),this.v=this.o?Wp(this.o):Wp(Ec),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(Z){vm(this,Z);return}if(u=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)N.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())N.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UT,b,void 0))||D||G||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ae]of N)this.g.setRequestHeader(Z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wm(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){vm(this,Z)}};function vm(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.m=5,_m(u),Sa(u)}function _m(u){u.A||(u.A=!0,Se(u,"complete"),Se(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Se(this,"complete"),Se(this,"abort"),Sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Em(this):this.bb())},t.bb=function(){Em(this)};function Em(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Un(u)!=4||u.Z()!=2)){if(u.u&&Un(u)==4)He(u.Ea,0,u);else if(Se(u,"readystatechange"),Un(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var N;if(!(N=b)){var D;if(D=ae===0){var G=String(u.D).match(cm)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!BT.test(G?G.toLowerCase():"")}N=D}if(N)Se(u,"complete"),Se(u,"success");else{u.m=6;try{var Z=2<Un(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",_m(u)}}finally{Sa(u)}}}}function Sa(u,b){if(u.g){wm(u);const N=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,b||Se(u,"ready");try{N.onreadystatechange=D}catch{}}}function wm(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),_T(b)}};function Tm(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qT(u){const b={};u=(u.g&&2<=Un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(m(u[D]))continue;var N=S(u[D]);const G=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Z=b[G]||[];b[G]=Z,Z.push(N)}A(b,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(u,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[u]||b}function bm(u){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,u),this.cb=zo("retryDelaySeedMs",1e4,u),this.Wa=zo("forwardChannelMaxRetries",2,u),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new im(u&&u.concurrentRequestLimit),this.Da=new FT,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bm.prototype,t.la=8,t.G=1,t.connect=function(u,b,N,D){xt(0),this.W=u,this.H=b||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.I=Cm(this,null,this.W),ka(this)};function Pc(u){if(Am(u),u.G==3){var b=u.U++,N=Bn(u.I);if(je(N,"SID",u.K),je(N,"RID",b),je(N,"TYPE","terminate"),Ho(u,N),b=new ir(u,u.j,b),b.L=2,b.v=Ta(Bn(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!N&&a.Image&&(new Image().src=b.v,N=!0),N||(b.g=xm(b.j,null),b.g.ea(b.v)),b.F=Date.now(),_a(b)}Nm(u)}function Ia(u){u.g&&(Oc(u),u.g.cancel(),u.g=null)}function Am(u){Ia(u),u.u&&(a.clearTimeout(u.u),u.u=null),Pa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ka(u){if(!om(u.h)&&!u.s){u.s=!0;var b=u.Ga;W||F(),Q||(W(),Q=!0),q.add(b,u),u.B=0}}function $T(u,b){return sm(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=b.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mo(f(u.Ga,u,b),Om(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const G=new ir(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=T(Z),I(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var b=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=N;break e}if(b===4096||N===this.i.length-1){b=N+1;break e}}b=1e3}else b=1e3;b=Im(this,G,b),N=Bn(this.I),je(N,"RID",u),je(N,"CVER",22),this.D&&je(N,"X-HTTP-Session-Id",this.D),Ho(this,N),Z&&(this.O?b="headers="+encodeURIComponent(String(ym(Z)))+"&"+b:this.m&&kc(N,this.m,Z)),Ic(this.h,G),this.Ua&&je(N,"TYPE","init"),this.P?(je(N,"$req",b),je(N,"SID","null"),G.T=!0,Tc(G,N,null)):Tc(G,N,b),this.G=2}}else this.G==3&&(u?Sm(this,u):this.i.length==0||om(this.h)||Sm(this))};function Sm(u,b){var N;b?N=b.l:N=u.U++;const D=Bn(u.I);je(D,"SID",u.K),je(D,"RID",N),je(D,"AID",u.T),Ho(u,D),u.m&&u.o&&kc(D,u.m,u.o),N=new ir(u,u.j,N,u.B+1),u.m===null&&(N.H=u.o),b&&(u.i=b.D.concat(u.i)),b=Im(u,N,1e3),N.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ic(u.h,N),Tc(N,D,b)}function Ho(u,b){u.H&&C(u.H,function(N,D){je(b,D,N)}),u.l&&um({},function(N,D){je(b,D,N)})}function Im(u,b,N){N=Math.min(u.i.length,N);var D=u.l?f(u.l.Na,u.l,u):null;e:{var G=u.i;let Z=-1;for(;;){const ae=["count="+N];Z==-1?0<N?(Z=G[0].g,ae.push("ofs="+Z)):Z=0:ae.push("ofs="+Z);let Me=!0;for(let mt=0;mt<N;mt++){let xe=G[mt].g;const At=G[mt].map;if(xe-=Z,0>xe)Z=Math.max(0,G[mt].g-100),Me=!1;else try{jT(At,ae,"req"+xe+"_")}catch{D&&D(At)}}if(Me){D=ae.join("&");break e}}}return u=u.i.splice(0,N),b.D=u,D}function km(u){if(!u.g&&!u.u){u.Y=1;var b=u.Fa;W||F(),Q||(W(),Q=!0),q.add(b,u),u.v=0}}function Rc(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mo(f(u.Fa,u),Om(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Pm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mo(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Ia(this),Pm(this))};function Oc(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Pm(u){u.g=new ir(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var b=Bn(u.qa);je(b,"RID","rpc"),je(b,"SID",u.K),je(b,"AID",u.T),je(b,"CI",u.F?"0":"1"),!u.F&&u.ja&&je(b,"TO",u.ja),je(b,"TYPE","xmlhttp"),Ho(u,b),u.m&&u.o&&kc(b,u.m,u.o),u.L&&(u.g.I=u.L);var N=u.g;u=u.ia,N.L=1,N.v=Ta(Bn(b)),N.m=null,N.P=!0,tm(N,u)}t.Za=function(){this.C!=null&&(this.C=null,Ia(this),Rc(this),xt(19))};function Pa(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Rm(u,b){var N=null;if(u.g==b){Pa(u),Oc(u),u.g=null;var D=2}else if(Sc(u.h,b))N=b.D,am(u.h,b),D=1;else return;if(u.G!=0){if(b.o)if(D==1){N=b.m?b.m.length:0,b=Date.now()-b.F;var G=u.B;D=ga(),Se(D,new Xp(D,N)),ka(u)}else km(u);else if(G=b.s,G==3||G==0&&0<b.X||!(D==1&&$T(u,b)||D==2&&Rc(u)))switch(N&&0<N.length&&(b=u.h,b.i=b.i.concat(N)),G){case 1:Gr(u,5);break;case 4:Gr(u,10);break;case 3:Gr(u,6);break;default:Gr(u,2)}}}function Om(u,b){let N=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(N*=2),N*b}function Gr(u,b){if(u.j.info("Error code "+b),b==2){var N=f(u.fb,u),D=u.Xa;const G=!D;D=new Kr(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ea(D,"https"),Ta(D),G?MT(D.toString(),N):VT(D.toString(),N)}else xt(2);u.G=0,u.l&&u.l.sa(b),Nm(u),Am(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Nm(u){if(u.G=0,u.ka=[],u.l){const b=lm(u.h);(b.length!=0||u.i.length!=0)&&(w(u.ka,b),w(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function Cm(u,b,N){var D=N instanceof Kr?Bn(N):new Kr(N);if(D.g!="")b&&(D.g=b+"."+D.g),wa(D,D.s);else{var G=a.location;D=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;var Z=new Kr(null);D&&Ea(Z,D),b&&(Z.g=b),G&&wa(Z,G),N&&(Z.l=N),D=Z}return N=u.D,b=u.ya,N&&b&&je(D,N,b),je(D,"VER",u.la),Ho(u,D),D}function xm(u,b,N){if(b&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Ca&&!u.pa?new Xe(new ba({eb:N})):new Xe(u.pa),b.Ha(u.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dm(){}t=Dm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(u,b){return new Wt(u,b)};function Wt(u,b){Ve.call(this),this.g=new bm(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(u?u["X-WebChannel-Client-Profile"]=b.va:u={"X-WebChannel-Client-Profile":b.va}),this.g.S=u,(u=b&&b.Sb)&&!m(u)&&(this.g.m=u),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!m(b)&&(this.g.D=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new Ri(this)}_(Wt,Ve),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Pc(this.g)},Wt.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var N={};N.__data__=u,u=N}else this.u&&(N={},N.__data__=gc(u),u=N);b.i.push(new IT(b.Ya++,u)),b.G==3&&ka(b)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Pc(this.g),delete this.g,Wt.aa.N.call(this)};function Lm(u){vc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const N in b){u=N;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}_(Lm,vc);function Mm(){_c.call(this),this.status=1}_(Mm,_c);function Ri(u){this.g=u}_(Ri,Dm),Ri.prototype.ua=function(){Se(this.g,"a")},Ri.prototype.ta=function(u){Se(this.g,new Lm(u))},Ri.prototype.sa=function(u){Se(this.g,new Mm)},Ri.prototype.ra=function(){Se(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,Q1=function(){return new Ra},G1=function(){return ga()},K1=Hr,Ph={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,El=ya,Zp.COMPLETE="complete",W1=Zp,Kp.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,cs=Kp,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,H1=Xe}).apply(typeof Ga<"u"?Ga:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new L1("@firebase/firestore");function Ci(){return di.logLevel}function he(t,...e){if(di.logLevel<=Oe.DEBUG){const n=e.map(tp);di.debug(`Firestore (${To}): ${t}`,...n)}}function Zn(t,...e){if(di.logLevel<=Oe.ERROR){const n=e.map(tp);di.error(`Firestore (${To}): ${t}`,...n)}}function uo(t,...e){if(di.logLevel<=Oe.WARN){const n=e.map(tp);di.warn(`Firestore (${To}): ${t}`,...n)}}function tp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function De(t,e){t||ye()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class Qk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Y1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Rt(e)}}class Xk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Zk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Jk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ut(0,0))}static max(){return new _e(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Ys{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const nP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ys{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return nP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ze.fromString(e))}static fromName(e){return new me(ze.fromString(e).popFirst(5))}static empty(){return new me(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ze(e.slice()))}}function rP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new xr(i,me.empty(),e)}function iP(t){return new xr(t.readTime,t.key,-1)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(_e.min(),me.empty(),-1)}static max(){return new xr(_e.max(),me.empty(),-1)}}function oP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==sP)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function lP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ju.oe=-1;function Bu(t){return t==null}function nu(t){return t===0&&1/t==-1/0}function uP(t){return typeof t=="number"&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hy(e)),e=fP(t.get(n),e);return hy(e)}function fP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function hy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=o??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new ct(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new J1("Invalid base64 string: "+o):o}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const hP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(t){if(De(!!t),typeof t=="string"){let e=0;const n=hP.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uu(t){const e=t.mapValue.fields.__previous_value__;return np(e)?Uu(e):e}function Xs(t){const e=Dr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?np(t)?4:mP(t)?9007199254740991:pP(t)?10:11:ye()}function Vn(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xs(t).isEqual(Xs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Dr(i.timestampValue),a=Dr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Lr(i.bytesValue).isEqual(Lr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?nu(s)===nu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dy(s)!==dy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Vn(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function Js(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=Mr(t),r=Mr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),l=tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return my(t.timestampValue,e.timestampValue);case 4:return my(Xs(t),Xs(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Lr(o),l=Lr(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Pe(a[c],l[c]);if(d!==0)return d}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pe(tt(o.latitude),tt(s.latitude));return a!==0?a:Pe(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,d;const h=o.fields||{},f=s.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=Pe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:gy(p,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ya.mapValue&&s===Ya.mapValue)return 0;if(o===Ya.mapValue)return 1;if(s===Ya.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Pe(l[h],d[h]);if(f!==0)return f;const p=fo(a[l[h]],c[d[h]]);if(p!==0)return p}return Pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function my(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Dr(t),r=Dr(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function gy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=fo(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function ho(t){return Rh(t)}function Rh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Dr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Rh(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function wl(t){switch(Mr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uu(t);return e?16+wl(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+wl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return $r(r.fields,(o,s)=>{i+=o.length+wl(s)}),i}(t.mapValue);default:throw ye()}}function Oh(t){return!!t&&"integerValue"in t}function rp(t){return!!t&&"arrayValue"in t}function yy(t){return!!t&&"nullValue"in t}function vy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tl(t){return!!t&&"mapValue"in t}function pP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=bs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Tl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$r(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ut(bs(this.value))}}function eE(t){const e=[];return $r(t.fields,(n,r)=>{const i=new _t([n]);if(Tl(r)){const o=eE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,_e.min(),_e.min(),_e.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,_e.min(),_e.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,_e.min(),_e.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function _y(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=fo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ey(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{}class at extends tE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vP(e,n,r):n==="array-contains"?new wP(e,r):n==="in"?new TP(e,r):n==="not-in"?new bP(e,r):n==="array-contains-any"?new AP(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _P(e,r):new EP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends tE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fn(e,n)}matches(e){return nE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nE(t){return t.op==="and"}function rE(t){return yP(t)&&nE(t)}function yP(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Nh(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+ho(t.value);if(rE(t))return t.filters.map(e=>Nh(e)).join(",");{const e=t.filters.map(n=>Nh(n)).join(",");return`${t.op}(${e})`}}function iE(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&iE(s,i.filters[a]),!0):!1}(t,e):void ye()}function oE(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(oE).join(" ,")+"}"}(t):"Filter"}class vP extends at{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class _P extends at{constructor(e,n){super(e,"in",n),this.keys=sE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EP extends at{constructor(e,n){super(e,"not-in",n),this.keys=sE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class wP extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rp(n)&&Js(n.arrayValue,this.value)}}class TP extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Js(this.value.arrayValue,n)}}class bP extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Js(this.value.arrayValue,n)}}class AP extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Js(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function wy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new SP(t,e,n,r,i,o,s)}function ip(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),e.ue=n}return e.ue}function op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ey(t.startAt,e.startAt)&&Ey(t.endAt,e.endAt)}function Ch(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IP(t,e,n,r,i,o,s,a){return new qu(t,e,n,r,i,o,s,a)}function aE(t){return new qu(t)}function Ty(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kP(t){return t.collectionGroup!==null}function As(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(_t.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new iu(o,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new iu(_t.keyField(),r))}return e.ce}function Dn(t){const e=Ee(t);return e.le||(e.le=PP(e,As(t))),e.le}function PP(t,e){if(t.limitType==="F")return wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new iu(i.field,o)});const n=t.endAt?new ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ru(t.startAt.position,t.startAt.inclusive):null;return wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xh(t,e,n){return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $u(t,e){return op(Dn(t),Dn(e))&&t.limitType===e.limitType}function lE(t){return`${ip(Dn(t))}|lt:${t.limitType}`}function xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oE(i)).join(", ")}]`),Bu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ho(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function zu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of As(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=_y(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,As(r),i)||r.endAt&&!function(s,a,l){const c=_y(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,As(r),i))}(t,e)}function RP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uE(t){return(e,n)=>{let r=!1;for(const i of As(t)){const o=OP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OP(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?fo(l,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Qe(me.comparator);function Jn(){return NP}const cE=new Qe(me.comparator);function fs(...t){let e=cE;for(const n of t)e=e.insert(n.key,n);return e}function fE(t){let e=cE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ri(){return Ss()}function hE(){return Ss()}function Ss(){return new Ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const CP=new Qe(me.comparator),xP=new ct(me.comparator);function ke(...t){let e=xP;for(const n of t)e=e.add(n);return e}const DP=new ct(Pe);function LP(){return DP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function dE(t){return{integerValue:""+t}}function MP(t,e){return uP(e)?dE(e):sp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function VP(t,e,n){return t instanceof ou?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&np(o)&&(o=Uu(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ea?mE(t,e):t instanceof ta?gE(t,e):function(i,o){const s=pE(i,o),a=by(s)+by(i.Pe);return Oh(s)&&Oh(i.Pe)?dE(a):sp(i.serializer,a)}(t,e)}function FP(t,e,n){return t instanceof ea?mE(t,e):t instanceof ta?gE(t,e):n}function pE(t,e){return t instanceof su?function(r){return Oh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ou extends Hu{}class ea extends Hu{constructor(e){super(),this.elements=e}}function mE(t,e){const n=yE(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ta extends Hu{constructor(e){super(),this.elements=e}}function gE(t,e){let n=yE(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class su extends Hu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function by(t){return tt(t.integerValue||t.doubleValue)}function yE(t){return rp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ea&&i instanceof ea||r instanceof ta&&i instanceof ta?co(r.elements,i.elements,Vn):r instanceof su&&i instanceof su?Vn(r.Pe,i.Pe):r instanceof ou&&i instanceof ou}(t.transform,e.transform)}class BP{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wu{}function vE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ap(t.key,Sn.none()):new ca(t.key,t.data,Sn.none());{const n=t.data,r=Ut.empty();let i=new ct(_t.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zr(t.key,r,new Zt(i.toArray()),Sn.none())}}function UP(t,e,n){t instanceof ca?function(i,o,s){const a=i.value.clone(),l=Sy(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(i,o,s){if(!bl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Sy(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(_E(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Is(t,e,n,r){return t instanceof ca?function(o,s,a,l){if(!bl(o.precondition,s))return a;const c=o.value.clone(),d=Iy(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(o,s,a,l){if(!bl(o.precondition,s))return a;const c=Iy(o.fieldTransforms,l,s),d=s.data;return d.setAll(_E(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return bl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function qP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=pE(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function Ay(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&co(r,i,(o,s)=>jP(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ca extends Wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zr extends Wu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _E(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sy(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,FP(s,a,n[i]))}return r}function Iy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VP(o,s,e))}return r}class ap extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $P extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&UP(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Is(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Is(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=vE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,r)=>Ay(n,r))&&co(this.baseMutations,e.baseMutations,(n,r)=>Ay(n,r))}}class lp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return CP}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Re;function KP(t){switch(t){default:return ye();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function EE(t){if(t===void 0)return Zn("GRPC error has no .code"),ie.UNKNOWN;switch(t){case rt.OK:return ie.OK;case rt.CANCELLED:return ie.CANCELLED;case rt.UNKNOWN:return ie.UNKNOWN;case rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case rt.INTERNAL:return ie.INTERNAL;case rt.UNAVAILABLE:return ie.UNAVAILABLE;case rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case rt.NOT_FOUND:return ie.NOT_FOUND;case rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case rt.ABORTED:return ie.ABORTED;case rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case rt.DATA_LOSS:return ie.DATA_LOSS;default:return ye()}}(Re=rt||(rt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new si([4294967295,4294967295],0);function ky(t){const e=GP().encode(t),n=new z1;return n.update(e),new Uint8Array(n.digest())}function Py(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new si([n,r],0),new si([i,o],0)]}class up{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hs(`Invalid padding: ${n}`);if(r<0)throw new hs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=si.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(si.fromNumber(r)));return i.compare(QP)===1&&(i=new si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ky(e),[r,i]=Py(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new up(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=ky(e),[r,i]=Py(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ku(_e.min(),i,new Qe(Pe),Jn(),ke())}}class fa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fa(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class wE{constructor(e,n){this.targetId=e,this.me=n}}class TE{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ry{constructor(){this.fe=0,this.ge=Oy(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),r=ke();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new fa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Oy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jn(),this.qe=Xa(),this.Qe=Xa(),this.Ke=new Qe(Pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(Ch(o))if(r===0){const s=new me(o.path);this.We(n,s,Nt.newNoDocument(s,_e.min()))}else De(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Lr(r).toUint8Array()}catch(l){if(l instanceof J1)return uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new up(s,i,o)}catch(l){return uo(l instanceof hs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ch(a.target)){const l=new me(a.target.path);this.st(l).has(s)||this.ot(s,l)||this.We(s,l,Nt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ke();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ku(e,n,this.Ke,this.ke,r);return this.ke=Jn(),this.qe=Xa(),this.Qe=Xa(),this.Ke=new Qe(Pe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Ry,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ct(Pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(Pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ry),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Xa(){return new Qe(me.comparator)}function Oy(){return new Qe(me.comparator)}const XP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JP=(()=>({and:"AND",or:"OR"}))();class e2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dh(t,e){return t.useProto3Json||Bu(e)?e:{value:e}}function au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t2(t,e){return au(t,e.toTimestamp())}function Ln(t){return De(!!t),_e.fromTimestamp(function(n){const r=Dr(n);return new ut(r.seconds,r.nanos)}(t))}function cp(t,e){return Lh(t,e).canonicalString()}function Lh(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AE(t){const e=ze.fromString(t);return De(RE(e)),e}function Mh(t,e){return cp(t.databaseId,e.path)}function ff(t,e){const n=AE(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(IE(n))}function SE(t,e){return cp(t.databaseId,e)}function n2(t){const e=AE(t);return e.length===4?ze.emptyPath():IE(e)}function Vh(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IE(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ny(t,e,n){return{name:Mh(t,e),fields:n.value.mapValue.fields}}function r2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(De(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?ie.UNKNOWN:EE(c.code);return new pe(d,c.message||"")}(s);n=new TE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ff(t,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):_e.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Al(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ff(t,r.document),o=r.readTime?Ln(r.readTime):_e.min(),s=Nt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Al([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ff(t,r.document),o=r.removedTargetIds||[];n=new Al([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new WP(i,o),a=r.targetId;n=new wE(a,s)}}return n}function i2(t,e){let n;if(e instanceof ca)n={update:Ny(t,e.key,e.value)};else if(e instanceof ap)n={delete:Mh(t,e.key)};else if(e instanceof zr)n={update:Ny(t,e.key,e.data),updateMask:d2(e.fieldMask)};else{if(!(e instanceof $P))return ye();n={verify:Mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ea)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof su)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:t2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function o2(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(_e.min())&&(s=Ln(o)),new BP(s,i.transformResults||[])}(n,e))):[]}function s2(t,e){return{documents:[SE(t,e.path)]}}function a2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SE(t,i);const o=function(c){if(c.length!==0)return PE(Fn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Di(f.field),direction:c2(f.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Dh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function l2(t){let e=n2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=kE(h);return f instanceof Fn&&rE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(_){return new iu(Li(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Bu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new ru(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new ru(p,f)}(n.endAt)),IP(e,i,s,o,a,"F",l,c)}function u2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Li(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Li(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Li(n.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Li(n.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return at.create(Li(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>kE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function c2(t){return XP[t]}function f2(t){return ZP[t]}function h2(t){return JP[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Li(t){return _t.fromServerFormat(t.fieldPath)}function PE(t){return t instanceof at?function(n){if(n.op==="=="){if(vy(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NAN"}};if(yy(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vy(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NAN"}};if(yy(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(n.field),op:f2(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>PE(i));return r.length===1?r[0]:{compositeFilter:{op:h2(n.op),filters:r}}}(t):ye()}function d2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.ht=e}}function m2(t){const e=l2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ln=new y2}addToCollectionParentIndex(e,n){return this.ln.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(xr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(41943040,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new po(0)}static Qn(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class v2{constructor(e){this.Gn=e,this.buffer=new ct(xy),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Yn(3e5)})}}class E2{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ju.oe);const r=new v2(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Cy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cy):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ci()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function w2(t,e){return new E2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.changes=new Ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Is(r.mutation,i,Zt.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const i=ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Jn();const s=Ss(),a=function(){return Ss()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof zr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Is(d.mutation,c,d.mutation.getFieldMask(),ut.now())):s.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new b2(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ss();let i=new Qe((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Zt.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ke()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=hE();d.forEach(f=>{if(!o.has(f)){const p=vE(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(ri());let a=-1,l=o;return s.next(c=>te.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?te.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ke())).next(d=>({batchId:a,changes:fE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=fs();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const c=function(h,f){return new qu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Nt.newInvalidDocument(d)))});let a=fs();return s.forEach((l,c)=>{const d=o.get(l);d!==void 0&&Is(d.mutation,c,Zt.empty(),ut.now()),zu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return te.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:m2(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new Qe(me.comparator),this.Er=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ri();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ri(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qe((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=ri(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ri(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return te.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HP(n,r));let o=this.Er.get(n);o===void 0&&(o=ke(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.dr=new ct(ft.Ar),this.Rr=new ct(ft.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ft(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new me(new ze([])),r=new ft(n,e),i=new ft(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new ze([])),r=new ft(n,e),i=new ft(n,e+1);let o=ke();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ft(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||Pe(e.br,n.br)}static Vr(e,n){return Pe(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ct(ft.Ar)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Pe);return n.forEach(i=>{const o=new ft(i,0),s=new ft(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),te.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new ft(new me(o),0);let a=new ct(Pe);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},s),te.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return te.forEach(n.mutations,i=>{const o=new ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ft(n,0),i=this.vr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.Nr=e,this.docs=function(){return new Qe(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nt.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Jn();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||oP(iP(d),r)<=0||(i.has(d.key)||zu(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Lr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O2(this)}getSize(e){return te.resolve(this.size)}}class O2 extends T2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.persistence=e,this.Br=new Ti(n=>ip(n),op),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new fp,this.targetCount=0,this.Qr=po.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),te.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new po(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Un(n),te.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ju(0),this.Ur=!1,this.Ur=!0,this.Wr=new k2,this.referenceDelegate=e(this),this.Gr=new N2(this),this.indexManager=new g2,this.remoteDocumentCache=function(i){return new R2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new p2(n),this.jr=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new P2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new C2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return te.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class C2 extends aP{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Zr=new fp,this.Xr=null}static ei(e){return new hp(e)}get ti(){if(this.Xr)return this.Xr;throw ye()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),te.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ti,r=>{const i=me.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return te.or([()=>te.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class lu{constructor(e,n){this.persistence=e,this.ri=new Ti(r=>cP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=w2(this,n)}static ei(e,n){return new lu(e,n)}Hr(){}Jr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return te.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),te.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wl(e.data.value)),n}ir(e,n,r){return te.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ke(),i=ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return xI()?8:lP(NI())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new x2;return this.ts(e,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,n,s,a.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Ci()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),te.resolve()):(Ci()<=Oe.DEBUG&&he("QueryEngine","Query:",xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ci()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):te.resolve())}Xi(e,n){if(Ty(n))return te.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xh(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ke(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,s,l.readTime)?this.Xi(e,xh(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return Ty(n)||i.isEqual(_e.min())?te.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?te.resolve(null):(Ci()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xi(n)),this.os(e,s,n,rP(i,-1)).next(a=>a))})}rs(e,n){let r=new ct(uE(e));return n.forEach((i,o)=>{zu(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Ci()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",xi(n)),this.Zi.getDocumentsMatchingQuery(e,n,xr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Qe(Pe),this.cs=new Ti(o=>ip(o),op),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function M2(t,e,n,r){return new L2(t,e,n,r)}async function NE(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ke();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:a}))})})}function V2(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=te.resolve();return f.forEach(_=>{p=p.next(()=>d.getEntry(l,_)).next(E=>{const w=c.docVersions.get(_);De(w!==null),E.version.compareTo(w)<0&&(h.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CE(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function F2(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Tt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(E,w,g){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&a.push(n.Gr.updateTargetData(o,p))});let l=Jn(),c=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(j2(o,s,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(_e.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(h=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.us=i,o))}function j2(t,e,n){let r=ke(),i=ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Jn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:s,Es:i}})}function B2(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U2(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new gr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Fh(t,e,n){const r=Ee(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ao(s))throw s;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Dy(t,e,n){const r=Ee(t);let i=_e.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=Ee(l),f=h.cs.get(d);return f!==void 0?te.resolve(h.us.get(f)):h.Gr.getTargetData(c,d)}(r,s,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:ke())).next(a=>(q2(r,RP(e),a),{documents:a,ds:o})))}function q2(t,e,n){let r=t.ls.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class Ly{constructor(){this.activeTargetIds=LP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $2{constructor(){this._o=new Ly,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ly,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za=null;function hf(){return Za===null?Za=function(){return 268435456+Math.round(2147483648*Math.random())}():Za++,"0x"+Za.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class K2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=hf(),l=this.No(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,l,c,i).then(d=>(he("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw uo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=H2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=hf();return new Promise((s,a)=>{const l=new H1;l.setWithCredentials(!0),l.listenOnce(W1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case El.NO_ERROR:const d=l.getResponseJson();he(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case El.TIMEOUT:he(Pt,`RPC '${e}' ${o} timed out`),a(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case El.HTTP_ERROR:const h=l.getStatus();if(he(Pt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(g)>=0?g:ie.UNKNOWN}(p.status);a(new pe(_,p.message))}else a(new pe(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{he(Pt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);he(Pt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=hf(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Q1(),a=G1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");he(Pt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let f=!1,p=!1;const _=new W2({Eo:w=>{p?he(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(he(Pt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),he(Pt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Ao:()=>h.close()}),E=(w,g,m)=>{w.listen(g,v=>{try{m(v)}catch(y){setTimeout(()=>{throw y},0)}})};return E(h,cs.EventType.OPEN,()=>{p||(he(Pt,`RPC '${e}' stream ${i} transport opened.`),_.So())}),E(h,cs.EventType.CLOSE,()=>{p||(p=!0,he(Pt,`RPC '${e}' stream ${i} transport closed`),_.Do())}),E(h,cs.EventType.ERROR,w=>{p||(p=!0,uo(Pt,`RPC '${e}' stream ${i} transport errored:`,w),_.Do(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),E(h,cs.EventType.MESSAGE,w=>{var g;if(!p){const m=w.data[0];De(!!m);const v=m,y=(v==null?void 0:v.error)||((g=v[0])===null||g===void 0?void 0:g.error);if(y){he(Pt,`RPC '${e}' stream ${i} received error:`,y);const k=y.status;let C=function(O){const I=rt[O];if(I!==void 0)return EE(I)}(k),A=y.message;C===void 0&&(C=ie.INTERNAL,A="Unknown error status: "+k+" with message "+y.message),p=!0,_.Do(new pe(C,A)),h.close()}else he(Pt,`RPC '${e}' stream ${i} received:`,m),_.vo(m)}}),E(a,K1.STAT_EVENT,w=>{w.stat===Ph.PROXY?he(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Ph.NOPROXY&&he(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.bo()},0),_}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){return new e2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,i,o,s,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new xE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new pe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G2 extends DE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=r2(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Ln(s.readTime):_e.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Vh(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ch(l)?{documents:s2(o,l)}:{query:a2(o,l).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bE(o,s.resumeToken);const c=Dh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=au(o,s.snapshotVersion.toTimestamp());const c=Dh(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=u2(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Vh(this.serializer),n.removeTarget=e,this.c_(n)}}class Q2 extends DE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=o2(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Vh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,Lh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ie.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,Lh(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ie.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class X2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Zn(n),this.C_=!1):he("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{bi(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.k_.add(4),await ha(c),c.K_.set("Unknown"),c.k_.delete(4),await Qu(c)}(this))})}),this.K_=new X2(r,i)}}async function Qu(t){if(bi(t))for(const e of t.q_)await e(!0)}async function ha(t){for(const e of t.q_)await e(!1)}function LE(t,e){const n=Ee(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),yp(n)?gp(n):So(n).s_()&&mp(n,e))}function pp(t,e){const n=Ee(t),r=So(n);n.B_.delete(e),r.s_()&&ME(n,e),n.B_.size===0&&(r.s_()?r.a_():bi(n)&&n.K_.set("Unknown"))}function mp(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(t).V_(e)}function ME(t,e){t.U_.xe(e),So(t).m_(e)}function gp(t){t.U_=new YP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),So(t).start(),t.K_.F_()}function yp(t){return bi(t)&&!So(t).i_()&&t.B_.size>0}function bi(t){return Ee(t).k_.size===0}function VE(t){t.U_=void 0}async function J2(t){t.K_.set("Online")}async function eR(t){t.B_.forEach((e,n)=>{mp(t,e)})}async function tR(t,e){VE(t),yp(t)?(t.K_.O_(e),gp(t)):t.K_.set("Unknown")}async function nR(t,e,n){if(t.K_.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uu(t,r)}else if(e instanceof Al?t.U_.$e(e):e instanceof wE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(_e.min()))try{const r=await CE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.B_.get(l);if(!d)return;o.B_.set(l,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),ME(o,l);const h=new gr(d.target,l,c,d.sequenceNumber);mp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await uu(t,r)}}async function uu(t,e,n){if(!Ao(e))throw e;t.k_.add(1),await ha(t),t.K_.set("Offline"),n||(n=()=>CE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Qu(t)})}function FE(t,e){return e().catch(n=>uu(t,n,e))}async function Yu(t){const e=Ee(t),n=Vr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;rR(e);)try{const i=await B2(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,iR(e,i)}catch(i){await uu(e,i)}jE(e)&&BE(e)}function rR(t){return bi(t)&&t.L_.length<10}function iR(t,e){t.L_.push(e);const n=Vr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function jE(t){return bi(t)&&!Vr(t).i_()&&t.L_.length>0}function BE(t){Vr(t).start()}async function oR(t){Vr(t).w_()}async function sR(t){const e=Vr(t);for(const n of t.L_)e.g_(n.mutations)}async function aR(t,e,n){const r=t.L_.shift(),i=lp.from(r,e,n);await FE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yu(t)}async function lR(t,e){e&&Vr(t).f_&&await async function(r,i){if(function(s){return KP(s)&&s!==ie.ABORTED}(i.code)){const o=r.L_.shift();Vr(r).__(),await FE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Yu(r)}}(t,e),jE(t)&&BE(t)}async function Vy(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=bi(n);n.k_.add(3),await ha(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Qu(n)}async function uR(t,e){const n=Ee(t);e?(n.k_.delete(2),await Qu(n)):e||(n.k_.add(2),await ha(n),n.K_.set("Unknown"))}function So(t){return t.W_||(t.W_=function(n,r,i){const o=Ee(n);return o.b_(),new G2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:J2.bind(null,t),mo:eR.bind(null,t),po:tR.bind(null,t),R_:nR.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),yp(t)?gp(t):t.K_.set("Unknown")):(await t.W_.stop(),VE(t))})),t.W_}function Vr(t){return t.G_||(t.G_=function(n,r,i){const o=Ee(n);return o.b_(),new Q2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:oR.bind(null,t),po:lR.bind(null,t),p_:sR.bind(null,t),y_:aR.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Yu(t)):(await t.G_.stop(),t.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new vp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),Ao(t))return new pe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=fs(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.z_=new Qe(me.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ye():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mo{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new mo(e,n,eo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class fR{constructor(){this.queries=jy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=jy(),o.forEach((s,a)=>{for(const l of a.J_)l.onError(r)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function jy(){return new Ti(t=>lE(t),$u)}async function hR(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new cR,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=_p(s,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Ep(n)}async function dR(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pR(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&Ep(n)}function mR(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function Ep(t){t.X_.forEach(e=>{e.next()})}var jh,By;(By=jh||(jh={})).na="default",By.Cache="cache";class gR{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class yR{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=uE(e),this.ma=new eo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Fy,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=zu(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?_!==E&&(r.track({type:3,doc:p}),w=!0):this.ya(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Va(p,l)>0||c&&this.Va(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(s=s.add(p),o=E?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,h)=>function(p,_){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return E(p)-E(_)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,s.length!==0||c?{snapshot:new mo(this.query,e.ma,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Fy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new qE(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new UE(r))}),n}va(e){this.da=e.ds,this.Ra=ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return mo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class vR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _R{constructor(e){this.key=e,this.Fa=!1}}class ER{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Ti(a=>lE(a),$u),this.Oa=new Map,this.Na=new Set,this.La=new Qe(me.comparator),this.Ba=new Map,this.ka=new fp,this.qa={},this.Qa=new Map,this.Ka=po.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function wR(t,e,n=!0){const r=GE(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await $E(r,e,n,!0),i}async function TR(t,e){const n=GE(t);await $E(n,e,!0,!1)}async function $E(t,e,n,r){const i=await U2(t.localStore,Dn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await bR(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&LE(t.remoteStore,i),a}async function bR(t,e,n,r,i){t.Ua=(h,f,p)=>async function(E,w,g,m){let v=w.view.ga(g);v.ss&&(v=await Dy(E.localStore,w.query,!1).then(({documents:A})=>w.view.ga(A,v)));const y=m&&m.targetChanges.get(w.targetId),k=m&&m.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(v,E.isPrimaryClient,y,k);return qy(E,w.targetId,C.ba),C.snapshot}(t,h,f,p);const o=await Dy(t.localStore,e,!0),s=new yR(e,o.ds),a=s.ga(o.documents),l=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);qy(t,n,c.ba);const d=new vR(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function AR(t,e,n){const r=Ee(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!$u(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pp(r.remoteStore,i.targetId),Bh(r,i.targetId)}).catch(bo)):(Bh(r,i.targetId),await Fh(r.localStore,i.targetId,!0))}async function SR(t,e){const n=Ee(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pp(n.remoteStore,r.targetId))}async function IR(t,e,n){const r=xR(t);try{const i=await function(s,a){const l=Ee(s),c=ut.now(),d=a.reduce((p,_)=>p.add(_.key),ke());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Jn(),E=ke();return l.hs.getEntries(p,d).next(w=>{_=w,_.forEach((g,m)=>{m.isValidDocument()||(E=E.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{h=w;const g=[];for(const m of a){const v=qP(m,h.get(m.key).overlayedDocument);v!=null&&g.push(new zr(m.key,v,eE(v.value.mapValue),Sn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:fE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.qa[s.currentUser.toKey()];c||(c=new Qe(Pe)),c=c.insert(a,l),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await da(r,i.changes),await Yu(r.remoteStore)}catch(i){const o=_p(i,"Failed to persist write");n.reject(o)}}async function zE(t,e){const n=Ee(t);try{const r=await F2(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?De(s.Fa):i.removedDocuments.size>0&&(De(s.Fa),s.Fa=!1))}),await da(n,r,e)}catch(r){await bo(r)}}function Uy(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ee(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.J_)f.ea(a)&&(c=!0)}),c&&Ep(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kR(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Qe(me.comparator);s=s.insert(o,Nt.newNoDocument(o,_e.min()));const a=ke().add(o),l=new Ku(_e.min(),new Map,new Qe(Pe),s,a);await zE(r,l),r.La=r.La.remove(o),r.Ba.delete(e),wp(r)}else await Fh(r.localStore,e,!1).then(()=>Bh(r,e,n)).catch(bo)}async function PR(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await V2(n.localStore,e);WE(n,r,null),HE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await da(n,i)}catch(i){await bo(i)}}async function RR(t,e,n){const r=Ee(t);try{const i=await function(s,a){const l=Ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(De(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);WE(r,e,n),HE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await da(r,i)}catch(i){await bo(i)}}function HE(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function WE(t,e,n){const r=Ee(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Bh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||KE(t,r)})}function KE(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(pp(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),wp(t))}function qy(t,e,n){for(const r of n)r instanceof UE?(t.ka.addReference(r.key,e),OR(t,r)):r instanceof qE?(he("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||KE(t,r.key)):ye()}function OR(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(he("SyncEngine","New document in limbo: "+n),t.Na.add(r),wp(t))}function wp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new me(ze.fromString(e)),r=t.Ka.next();t.Ba.set(r,new _R(n)),t.La=t.La.insert(n,r),LE(t.remoteStore,new gr(Dn(aE(n.path)),r,"TargetPurposeLimboResolution",ju.oe))}}async function da(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{s.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=dp.zi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(l,c){const d=Ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(c,f=>te.forEach(f.Wi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>te.forEach(f.Gi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ao(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.us.get(f),_=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(_);d.us=d.us.insert(f,E)}}}(r.localStore,o))}async function NR(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await NE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(l=>{l.reject(new pe(ie.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await da(n,r.Ts)}}function CR(t,e){const n=Ee(t),r=n.Ba.get(e);if(r&&r.Fa)return ke().add(r.key);{let i=ke();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function GE(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kR.bind(null,e),e.Ma.R_=pR.bind(null,e.eventManager),e.Ma.Wa=mR.bind(null,e.eventManager),e}function xR(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return M2(this.persistence,new D2,e.initialUser,this.serializer)}ja(e){return new OE(hp.ei,this.serializer)}za(e){return new $2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class DR extends cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){De(this.persistence.referenceDelegate instanceof lu);const r=this.persistence.referenceDelegate.garbageCollector;return new _2(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new OE(r=>lu.ei(r,n),this.serializer)}}class Uh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fR}()}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),r=function(o){return new K2(o)}(e.databaseInfo);return function(o,s,a,l){return new Y2(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Z2(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Uy(this.syncEngine,n,0),function(){return My.p()?new My:new z2}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const h=new ER(i,o,s,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);he("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await ha(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uh.provider={build:()=>new Uh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_p(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pf(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await NE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $y(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VR(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Vy(e.remoteStore,i)),t._onlineComponents=e}async function VR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await pf(t,new cu)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await pf(t,new DR(void 0));return t._offlineComponents}async function QE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await $y(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await $y(t,new Uh))),t._onlineComponents}function FR(t){return QE(t).then(e=>e.syncEngine)}async function jR(t){const e=await QE(t),n=e.eventManager;return n.onListen=wR.bind(null,e.syncEngine),n.onUnlisten=AR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SR.bind(null,e.syncEngine),n}function BR(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const d=new LR({next:f=>{d.eu(),s.enqueueAndForget(()=>dR(o,h)),f.fromCache&&l.source==="server"?c.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new gR(a,d,{includeMetadataChanges:!0,ua:!0});return hR(o,h)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UR(t,e,n,r){if(e===!0&&r===!0)throw new pe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hy(t){if(!me.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wy(t){if(me.isDocumentKey(t))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(t);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gk;switch(r.type){case"firstParty":return new Zk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zy.get(n);r&&(he("ComponentProvider","Removing Datastore"),zy.delete(n),r.terminate())}(this),Promise.resolve()}}function qR(t,e,n,r={}){var i;const o=(t=pi(t,Xu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rt.MOCK_USER;else{a=x1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rt(c)}t._authCredentials=new Qk(new Y1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zu(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Or extends Zu{constructor(e,n,r){super(e,n,aE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new me(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Ju(t,e,...n){if(t=mn(t),XE("collection","path",e),t instanceof Xu){const r=ze.fromString(e,...n);return Wy(r),new Or(t,null,r)}{if(!(t instanceof hn||t instanceof Or))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Wy(r),new Or(t.firestore,null,r)}}function bp(t,e,...n){if(t=mn(t),arguments.length===1&&(e=X1.newId()),XE("doc","path",e),t instanceof Xu){const r=ze.fromString(e,...n);return Hy(r),new hn(t,null,new me(r))}{if(!(t instanceof hn||t instanceof Or))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Hy(r),new hn(t.firestore,t instanceof Or?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new xE(this,"async_queue_retry"),this.fu=()=>{const r=df();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Rr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ao(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=vp.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&ye()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class pa extends Xu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,await e}}}function $R(t,e){const n=typeof t=="object"?t:U1(),r=typeof t=="string"?t:e||"(default)",i=F1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=N1("firestore");o&&qR(i,...o)}return i}function ZE(t){if(t._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zR(t),t._firestoreClient}function zR(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,d){return new dP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MR(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(Tt.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=/^__.*__$/;class WR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ca(e,this.data,n,this.fieldTransforms)}}class JE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ew(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class kp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ew(this.Mu)&&HR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class KR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gu(e)}$u(e,n,r,i=!1){return new kp({Mu:e,methodName:n,Ku:r,path:_t.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tw(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new KR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GR(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);Pp("Data must be an object, but it was:",s,r);const a=nw(r,s);let l,c;if(o.merge)l=new Zt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=qh(e,h,n);if(!s.contains(f))throw new pe(ie.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);iw(d,f)||d.push(f)}l=new Zt(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new WR(new Ut(a),l,c)}class tc extends Ap{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tc}}function QR(t,e,n,r){const i=t.$u(1,e,n);Pp("Data must be an object, but it was:",i,r);const o=[],s=Ut.empty();$r(r,(l,c)=>{const d=Rp(e,l,n);c=mn(c);const h=i.Bu(d);if(c instanceof tc)o.push(d);else{const f=nc(c,h);f!=null&&(o.push(d),s.set(d,f))}});const a=new Zt(o);return new JE(s,a,i.fieldTransforms)}function YR(t,e,n,r,i,o){const s=t.$u(1,e,n),a=[qh(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(qh(e,o[f])),l.push(o[f+1]);const c=[],d=Ut.empty();for(let f=a.length-1;f>=0;--f)if(!iw(c,a[f])){const p=a[f];let _=l[f];_=mn(_);const E=s.Bu(p);if(_ instanceof tc)c.push(p);else{const w=nc(_,E);w!=null&&(c.push(p),d.set(p,w))}}const h=new Zt(c);return new JE(d,h,s.fieldTransforms)}function nc(t,e){if(rw(t=mn(t)))return Pp("Unsupported field value:",e,t),nw(t,e);if(t instanceof Ap)return function(r,i){if(!ew(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=nc(a,i.ku(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:au(i.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:au(i.serializer,o)}}if(r instanceof Sp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof go)return{bytesValue:bE(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ip)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return sp(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Tp(r)}`)}(t,e)}function nw(t,e){const n={};return Z1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,(r,i)=>{const o=nc(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Sp||t instanceof go||t instanceof hn||t instanceof Ap||t instanceof Ip)}function Pp(t,e,n){if(!rw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tp(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function qh(t,e,n){if((e=mn(e))instanceof ec)return e._internalPath;if(typeof e=="string")return Rp(t,e);throw fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const XR=new RegExp("[~\\*/\\[\\]]");function Rp(t,e,n){if(e.search(XR)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ec(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pe(ie.INVALID_ARGUMENT,a+t+l)}function iw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZR extends ow{data(){return super.data()}}function sw(t,e){return typeof e=="string"?Rp(t,e):e instanceof ec?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eO{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $r(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>tt(s.doubleValue));return new Ip(o)}convertGeoPoint(e){return new Sp(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xs(e));default:return null}}convertTimestamp(e){const n=Dr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(RE(r));const i=new Zs(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nO extends ow{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sl extends nO{data(e={}){return super.data(e)}}class rO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sl(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Sl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:iO(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class oO extends eO{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function aw(t){t=pi(t,Zu);const e=pi(t.firestore,pa),n=ZE(e),r=new oO(e);return JR(t._query),BR(n,t._query).then(i=>new rO(e,r,t,i))}function sO(t,e,n,...r){t=pi(t,hn);const i=pi(t.firestore,pa),o=tw(i);let s;return s=typeof(e=mn(e))=="string"||e instanceof ec?YR(o,"updateDoc",t._key,e,n,r):QR(o,"updateDoc",t._key,e),Op(i,[s.toMutation(t._key,Sn.exists(!0))])}function aO(t){return Op(pi(t.firestore,pa),[new ap(t._key,Sn.none())])}function lw(t,e){const n=pi(t.firestore,pa),r=bp(t),i=tO(t.converter,e);return Op(n,[GR(tw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}function Op(t,e){return function(r,i){const o=new Rr;return r.asyncQueue.enqueueAndForget(async()=>IR(await FR(r),i,o)),o.promise}(ZE(t),e)}(function(e,n=!0){(function(i){To=i})(j1),Gs(new lo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new pa(new Yk(r.getProvider("auth-internal")),new eP(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pr(fy,"4.7.5",e),Pr(fy,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebasestorage.googleapis.com",cw="storageBucket",lO=2*60*1e3,uO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends wi{constructor(e,n,r=0){super(mf(e),`Firebase Storage: ${n} (${mf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function mf(t){return"storage/"+t}function Np(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Je.UNKNOWN,t)}function cO(t){return new et(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fO(t){return new et(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Je.UNAUTHENTICATED,t)}function dO(){return new et(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pO(t){return new et(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function mO(){return new et(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gO(){return new et(Je.CANCELED,"User canceled the upload/download.")}function yO(t){return new et(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function vO(t){return new et(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _O(){return new et(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cw+"' property when initializing the app?")}function EO(){return new et(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wO(){return new et(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TO(t){return new et(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $h(t){return new et(Je.INVALID_ARGUMENT,t)}function fw(){return new et(Je.APP_DELETED,"The Firebase app was deleted.")}function bO(t){return new et(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ks(t,e){return new et(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function es(t){throw new et(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jt.makeFromUrl(e,n)}catch{return new Jt(e,"")}if(r.path==="")return r;throw vO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(y){y.path_=decodeURIComponent(y.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},E=n===uw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${E}/${i}/${w}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:p,indices:_,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let y=0;y<v.length;y++){const k=v[y],C=k.regex.exec(e);if(C){const A=C[k.indices.bucket];let T=C[k.indices.path];T||(T=""),r=new Jt(A,T),k.postModify(r);break}}if(r==null)throw yO(e);return r}}class AO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function f(){o&&clearTimeout(o)}function p(w,...g){if(c){f();return}if(w){f(),d.call(null,w,...g);return}if(l()||s){f(),d.call(null,w,...g);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let _=!1;function E(w){_||(_=!0,f(),!c&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,E(!0)},n),E}function IO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){return t!==void 0}function PO(t){return typeof t=="object"&&!Array.isArray(t)}function Cp(t){return typeof t=="string"||t instanceof String}function Qy(t){return xp()&&t instanceof Blob}function xp(){return typeof Blob<"u"}function Yy(t,e,n,r){if(r<e)throw $h(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $h(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ai||(ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,i,o,s,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new el(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ai.NO_ERROR,l=o.getStatus();if(!a||RO(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===ai.ABORT;r(!1,new el(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new el(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kO(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Np();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?fw():gO();s(l)}else{const l=mO();s(l)}};this.canceled_?n(!1,new el(!1,null,!0)):this.backoffId_=SO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class el{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function DO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LO(t,e,n,r,i,o,s=!0){const a=hw(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return xO(c,e),NO(c,n),CO(c,o),DO(c,r),new OO(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VO(...t){const e=MO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xp())return new Blob(t);throw new et(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){if(typeof atob>"u")throw TO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gf{constructor(e,n){this.data=e,this.contentType=n||null}}function BO(t,e){switch(t){case Nn.RAW:return new gf(dw(e));case Nn.BASE64:case Nn.BASE64URL:return new gf(pw(t,e));case Nn.DATA_URL:return new gf(qO(e),$O(e))}throw Np()}function dw(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UO(t){let e;try{e=decodeURIComponent(t)}catch{throw ks(Nn.DATA_URL,"Malformed data URL.")}return dw(e)}function pw(t,e){switch(t){case Nn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ks(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ks(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jO(e)}catch(i){throw i.message.includes("polyfill")?i:ks(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class mw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ks(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qO(t){const e=new mw(t);return e.base64?pw(Nn.BASE64,e.rest):UO(e.rest)}function $O(t){return new mw(t).contentType}function zO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){let r=0,i="";Qy(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qy(this.data_)){const r=this.data_,i=FO(r,e,n);return i===null?null:new hr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hr(r,!0)}}static getBlob(...e){if(xp()){const n=e.map(r=>r instanceof hr?r.data_:r);return new hr(VO.apply(null,n))}else{const n=e.map(s=>Cp(s)?BO(Nn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new hr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){let e;try{e=JSON.parse(t)}catch{return null}return PO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yw(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e){return e}class Dt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||KO}}let tl=null;function GO(t){return!Cp(t)||t.length<2?t:yw(t)}function vw(){if(tl)return tl;const t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(o,s){return GO(s)}const n=new Dt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Dt("size");return i.xform=r,t.push(i),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),tl=t,tl}function QO(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Jt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function YO(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return QO(r,t),r}function _w(t,e,n){const r=gw(e);return r===null?null:YO(t,r,n)}function XO(t,e,n,r){const i=gw(e);if(i===null||!Cp(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+s(d)+"/o/"+s(h),p=Dp(f,n,r),_=hw({alt:"media",token:c});return p+_})[0]}function ZO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Ew{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){if(!t)throw Np()}function JO(t,e){function n(r,i){const o=_w(t,i,e);return ww(o!==null),o}return n}function eN(t,e){function n(r,i){const o=_w(t,i,e);return ww(o!==null),XO(o,i,t.host,t._protocol)}return n}function Tw(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dO():i=hO():n.getStatus()===402?i=fO(t.bucket):n.getStatus()===403?i=pO(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tN(t){const e=Tw(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=cO(t.path)),o.serverResponse=i.serverResponse,o}return n}function nN(t,e,n){const r=e.fullServerUrl(),i=Dp(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Ew(i,o,eN(t,n),s);return a.errorHandler=tN(e),a}function rN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function iN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rN(null,e)),r}function oN(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let y=0;y<2;y++)v=v+Math.random().toString().slice(2);return v}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=iN(e,r,i),d=ZO(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=hr.getBlob(h,r,f);if(p===null)throw EO();const _={name:c.fullPath},E=Dp(o,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,m=new Ew(E,w,JO(t,n),g);return m.urlParams=_,m.headers=s,m.body=p.uploadData(),m.errorHandler=Tw(e),m}class sN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw es("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw es("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw es("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw es("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw es("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aN extends sN{initXhr(){this.xhr_.responseType="text"}}function bw(){return new aN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mi(e,n)}get root(){const e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yw(this._location.path)}get storage(){return this._service}get parent(){const e=HO(this._location.path);if(e===null)return null;const n=new Jt(this._location.bucket,e);return new mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bO(e)}}function lN(t,e,n){t._throwIfRoot("uploadBytes");const r=oN(t.storage,t._location,vw(),new hr(e,!0),n);return t.storage.makeRequestWithTokens(r,bw).then(i=>({metadata:i,ref:t}))}function uN(t){t._throwIfRoot("getDownloadURL");const e=nN(t.storage,t._location,vw());return t.storage.makeRequestWithTokens(e,bw).then(n=>{if(n===null)throw wO();return n})}function cN(t,e){const n=WO(t._location.path,e),r=new Jt(t._location.bucket,n);return new mi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){return/^[A-Za-z]+:\/\//.test(t)}function hN(t,e){return new mi(t,e)}function Aw(t,e){if(t instanceof Lp){const n=t;if(n._bucket==null)throw _O();const r=new mi(n,n._bucket);return e!=null?Aw(r,e):r}else return e!==void 0?cN(t,e):t}function dN(t,e){if(e&&fN(e)){if(t instanceof Lp)return hN(t,e);throw $h("To use ref(service, url), the first argument must be a Storage instance.")}else return Aw(t,e)}function Xy(t,e){const n=e==null?void 0:e[cw];return n==null?null:Jt.makeFromBucketSpec(n,t)}function pN(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:x1(i,t.app.options.projectId))}class Lp{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=uw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lO,this._maxUploadRetryTime=uO,this._requests=new Set,i!=null?this._bucket=Jt.makeFromBucketSpec(i,this._host):this._bucket=Xy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=Xy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new AO(fw());{const s=LO(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Zy="@firebase/storage",Jy="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="storage";function mN(t,e,n){return t=mn(t),lN(t,e,n)}function gN(t){return t=mn(t),uN(t)}function yN(t,e){return t=mn(t),dN(t,e)}function vN(t=U1(),e){t=mn(t);const r=F1(t,Sw).getImmediate({identifier:e}),i=N1("storage");return i&&_N(r,...i),r}function _N(t,e,n,r={}){pN(t,e,n,r)}function EN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Lp(n,r,i,e,j1)}function wN(){Gs(new lo(Sw,EN,"PUBLIC").setMultipleInstances(!0)),Pr(Zy,Jy,""),Pr(Zy,Jy,"esm2017")}wN();const TN={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID",measurementId:"YOUR_MEASUREMENT_ID"},Iw=B1(TN),Io=$R(Iw),bN=vN(Iw),AN=()=>{const[t,e]=le.useState([]);return le.useEffect(()=>{(async()=>{try{const r=Ju(Io,"posts"),o=(await aw(r)).docs.map(s=>({id:s.id,...s.data()}));e(o)}catch(r){console.error("Error fetching posts: ",r)}})()},[]),se("div",{children:[j("h2",{children:"Blog Posts"}),t.length===0?j("p",{children:"No posts available"}):j("ul",{children:t.map(n=>se("li",{children:[j("h3",{children:n.title}),j("p",{children:n.body}),n.imageUrl&&j("img",{src:n.imageUrl,alt:n.title})]},n.id))})]})};function SN(){this.__data__=[],this.size=0}var IN=SN;function kN(t,e){return t===e||t!==t&&e!==e}var kw=kN,PN=kw;function RN(t,e){for(var n=t.length;n--;)if(PN(t[n][0],e))return n;return-1}var rc=RN,ON=rc,NN=Array.prototype,CN=NN.splice;function xN(t){var e=this.__data__,n=ON(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():CN.call(e,n,1),--this.size,!0}var DN=xN,LN=rc;function MN(t){var e=this.__data__,n=LN(e,t);return n<0?void 0:e[n][1]}var VN=MN,FN=rc;function jN(t){return FN(this.__data__,t)>-1}var BN=jN,UN=rc;function qN(t,e){var n=this.__data__,r=UN(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var $N=qN,zN=IN,HN=DN,WN=VN,KN=BN,GN=$N;function ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ko.prototype.clear=zN;ko.prototype.delete=HN;ko.prototype.get=WN;ko.prototype.has=KN;ko.prototype.set=GN;var ic=ko,QN=ic;function YN(){this.__data__=new QN,this.size=0}var XN=YN;function ZN(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var JN=ZN;function eC(t){return this.__data__.get(t)}var tC=eC;function nC(t){return this.__data__.has(t)}var rC=nC,iC=typeof Yt=="object"&&Yt&&Yt.Object===Object&&Yt,Pw=iC,oC=Pw,sC=typeof self=="object"&&self&&self.Object===Object&&self,aC=oC||sC||Function("return this")(),rr=aC,lC=rr,uC=lC.Symbol,Mp=uC,ev=Mp,Rw=Object.prototype,cC=Rw.hasOwnProperty,fC=Rw.toString,ts=ev?ev.toStringTag:void 0;function hC(t){var e=cC.call(t,ts),n=t[ts];try{t[ts]=void 0;var r=!0}catch{}var i=fC.call(t);return r&&(e?t[ts]=n:delete t[ts]),i}var dC=hC,pC=Object.prototype,mC=pC.toString;function gC(t){return mC.call(t)}var yC=gC,tv=Mp,vC=dC,_C=yC,EC="[object Null]",wC="[object Undefined]",nv=tv?tv.toStringTag:void 0;function TC(t){return t==null?t===void 0?wC:EC:nv&&nv in Object(t)?vC(t):_C(t)}var oc=TC;function bC(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ow=bC,AC=oc,SC=Ow,IC="[object AsyncFunction]",kC="[object Function]",PC="[object GeneratorFunction]",RC="[object Proxy]";function OC(t){if(!SC(t))return!1;var e=AC(t);return e==kC||e==PC||e==IC||e==RC}var Nw=OC,NC=rr,CC=NC["__core-js_shared__"],xC=CC,yf=xC,rv=function(){var t=/[^.]+$/.exec(yf&&yf.keys&&yf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DC(t){return!!rv&&rv in t}var LC=DC,MC=Function.prototype,VC=MC.toString;function FC(t){if(t!=null){try{return VC.call(t)}catch{}try{return t+""}catch{}}return""}var Cw=FC,jC=Nw,BC=LC,UC=Ow,qC=Cw,$C=/[\\^$.*+?()[\]{}|]/g,zC=/^\[object .+?Constructor\]$/,HC=Function.prototype,WC=Object.prototype,KC=HC.toString,GC=WC.hasOwnProperty,QC=RegExp("^"+KC.call(GC).replace($C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YC(t){if(!UC(t)||BC(t))return!1;var e=jC(t)?QC:zC;return e.test(qC(t))}var XC=YC;function ZC(t,e){return t==null?void 0:t[e]}var JC=ZC,ex=XC,tx=JC;function nx(t,e){var n=tx(t,e);return ex(n)?n:void 0}var Po=nx,rx=Po,ix=rr,ox=rx(ix,"Map"),Vp=ox,sx=Po,ax=sx(Object,"create"),sc=ax,iv=sc;function lx(){this.__data__=iv?iv(null):{},this.size=0}var ux=lx;function cx(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fx=cx,hx=sc,dx="__lodash_hash_undefined__",px=Object.prototype,mx=px.hasOwnProperty;function gx(t){var e=this.__data__;if(hx){var n=e[t];return n===dx?void 0:n}return mx.call(e,t)?e[t]:void 0}var yx=gx,vx=sc,_x=Object.prototype,Ex=_x.hasOwnProperty;function wx(t){var e=this.__data__;return vx?e[t]!==void 0:Ex.call(e,t)}var Tx=wx,bx=sc,Ax="__lodash_hash_undefined__";function Sx(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bx&&e===void 0?Ax:e,this}var Ix=Sx,kx=ux,Px=fx,Rx=yx,Ox=Tx,Nx=Ix;function Ro(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ro.prototype.clear=kx;Ro.prototype.delete=Px;Ro.prototype.get=Rx;Ro.prototype.has=Ox;Ro.prototype.set=Nx;var Cx=Ro,ov=Cx,xx=ic,Dx=Vp;function Lx(){this.size=0,this.__data__={hash:new ov,map:new(Dx||xx),string:new ov}}var Mx=Lx;function Vx(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Fx=Vx,jx=Fx;function Bx(t,e){var n=t.__data__;return jx(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ac=Bx,Ux=ac;function qx(t){var e=Ux(this,t).delete(t);return this.size-=e?1:0,e}var $x=qx,zx=ac;function Hx(t){return zx(this,t).get(t)}var Wx=Hx,Kx=ac;function Gx(t){return Kx(this,t).has(t)}var Qx=Gx,Yx=ac;function Xx(t,e){var n=Yx(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Zx=Xx,Jx=Mx,eD=$x,tD=Wx,nD=Qx,rD=Zx;function Oo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oo.prototype.clear=Jx;Oo.prototype.delete=eD;Oo.prototype.get=tD;Oo.prototype.has=nD;Oo.prototype.set=rD;var xw=Oo,iD=ic,oD=Vp,sD=xw,aD=200;function lD(t,e){var n=this.__data__;if(n instanceof iD){var r=n.__data__;if(!oD||r.length<aD-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sD(r)}return n.set(t,e),this.size=n.size,this}var uD=lD,cD=ic,fD=XN,hD=JN,dD=tC,pD=rC,mD=uD;function No(t){var e=this.__data__=new cD(t);this.size=e.size}No.prototype.clear=fD;No.prototype.delete=hD;No.prototype.get=dD;No.prototype.has=pD;No.prototype.set=mD;var gD=No,yD="__lodash_hash_undefined__";function vD(t){return this.__data__.set(t,yD),this}var _D=vD;function ED(t){return this.__data__.has(t)}var wD=ED,TD=xw,bD=_D,AD=wD;function hu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new TD;++e<n;)this.add(t[e])}hu.prototype.add=hu.prototype.push=bD;hu.prototype.has=AD;var SD=hu;function ID(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var kD=ID;function PD(t,e){return t.has(e)}var RD=PD,OD=SD,ND=kD,CD=RD,xD=1,DD=2;function LD(t,e,n,r,i,o){var s=n&xD,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=n&DD?new OD:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var _=t[h],E=e[h];if(r)var w=s?r(E,_,h,e,t,o):r(_,E,h,t,e,o);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!ND(e,function(g,m){if(!CD(p,m)&&(_===g||i(_,g,n,r,o)))return p.push(m)})){f=!1;break}}else if(!(_===E||i(_,E,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Dw=LD,MD=rr,VD=MD.Uint8Array,FD=VD;function jD(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var BD=jD;function UD(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var qD=UD,sv=Mp,av=FD,$D=kw,zD=Dw,HD=BD,WD=qD,KD=1,GD=2,QD="[object Boolean]",YD="[object Date]",XD="[object Error]",ZD="[object Map]",JD="[object Number]",e4="[object RegExp]",t4="[object Set]",n4="[object String]",r4="[object Symbol]",i4="[object ArrayBuffer]",o4="[object DataView]",lv=sv?sv.prototype:void 0,vf=lv?lv.valueOf:void 0;function s4(t,e,n,r,i,o,s){switch(n){case o4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case i4:return!(t.byteLength!=e.byteLength||!o(new av(t),new av(e)));case QD:case YD:case JD:return $D(+t,+e);case XD:return t.name==e.name&&t.message==e.message;case e4:case n4:return t==e+"";case ZD:var a=HD;case t4:var l=r&KD;if(a||(a=WD),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=GD,s.set(t,e);var d=zD(a(t),a(e),r,i,o,s);return s.delete(t),d;case r4:if(vf)return vf.call(t)==vf.call(e)}return!1}var a4=s4;function l4(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var u4=l4,c4=Array.isArray,Fp=c4,f4=u4,h4=Fp;function d4(t,e,n){var r=e(t);return h4(t)?r:f4(r,n(t))}var p4=d4;function m4(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var g4=m4;function y4(){return[]}var v4=y4,_4=g4,E4=v4,w4=Object.prototype,T4=w4.propertyIsEnumerable,uv=Object.getOwnPropertySymbols,b4=uv?function(t){return t==null?[]:(t=Object(t),_4(uv(t),function(e){return T4.call(t,e)}))}:E4,A4=b4;function S4(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var I4=S4;function k4(t){return t!=null&&typeof t=="object"}var lc=k4,P4=oc,R4=lc,O4="[object Arguments]";function N4(t){return R4(t)&&P4(t)==O4}var C4=N4,cv=C4,x4=lc,Lw=Object.prototype,D4=Lw.hasOwnProperty,L4=Lw.propertyIsEnumerable,M4=cv(function(){return arguments}())?cv:function(t){return x4(t)&&D4.call(t,"callee")&&!L4.call(t,"callee")},V4=M4,du={exports:{}};function F4(){return!1}var j4=F4;du.exports;(function(t,e){var n=rr,r=j4,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(du,du.exports);var Mw=du.exports,B4=9007199254740991,U4=/^(?:0|[1-9]\d*)$/;function q4(t,e){var n=typeof t;return e=e??B4,!!e&&(n=="number"||n!="symbol"&&U4.test(t))&&t>-1&&t%1==0&&t<e}var $4=q4,z4=9007199254740991;function H4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=z4}var Vw=H4,W4=oc,K4=Vw,G4=lc,Q4="[object Arguments]",Y4="[object Array]",X4="[object Boolean]",Z4="[object Date]",J4="[object Error]",eL="[object Function]",tL="[object Map]",nL="[object Number]",rL="[object Object]",iL="[object RegExp]",oL="[object Set]",sL="[object String]",aL="[object WeakMap]",lL="[object ArrayBuffer]",uL="[object DataView]",cL="[object Float32Array]",fL="[object Float64Array]",hL="[object Int8Array]",dL="[object Int16Array]",pL="[object Int32Array]",mL="[object Uint8Array]",gL="[object Uint8ClampedArray]",yL="[object Uint16Array]",vL="[object Uint32Array]",Ue={};Ue[cL]=Ue[fL]=Ue[hL]=Ue[dL]=Ue[pL]=Ue[mL]=Ue[gL]=Ue[yL]=Ue[vL]=!0;Ue[Q4]=Ue[Y4]=Ue[lL]=Ue[X4]=Ue[uL]=Ue[Z4]=Ue[J4]=Ue[eL]=Ue[tL]=Ue[nL]=Ue[rL]=Ue[iL]=Ue[oL]=Ue[sL]=Ue[aL]=!1;function _L(t){return G4(t)&&K4(t.length)&&!!Ue[W4(t)]}var EL=_L;function wL(t){return function(e){return t(e)}}var TL=wL,pu={exports:{}};pu.exports;(function(t,e){var n=Pw,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(pu,pu.exports);var bL=pu.exports,AL=EL,SL=TL,fv=bL,hv=fv&&fv.isTypedArray,IL=hv?SL(hv):AL,Fw=IL,kL=I4,PL=V4,RL=Fp,OL=Mw,NL=$4,CL=Fw,xL=Object.prototype,DL=xL.hasOwnProperty;function LL(t,e){var n=RL(t),r=!n&&PL(t),i=!n&&!r&&OL(t),o=!n&&!r&&!i&&CL(t),s=n||r||i||o,a=s?kL(t.length,String):[],l=a.length;for(var c in t)(e||DL.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||NL(c,l)))&&a.push(c);return a}var ML=LL,VL=Object.prototype;function FL(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||VL;return t===n}var jL=FL;function BL(t,e){return function(n){return t(e(n))}}var UL=BL,qL=UL,$L=qL(Object.keys,Object),zL=$L,HL=jL,WL=zL,KL=Object.prototype,GL=KL.hasOwnProperty;function QL(t){if(!HL(t))return WL(t);var e=[];for(var n in Object(t))GL.call(t,n)&&n!="constructor"&&e.push(n);return e}var YL=QL,XL=Nw,ZL=Vw;function JL(t){return t!=null&&ZL(t.length)&&!XL(t)}var eM=JL,tM=ML,nM=YL,rM=eM;function iM(t){return rM(t)?tM(t):nM(t)}var oM=iM,sM=p4,aM=A4,lM=oM;function uM(t){return sM(t,lM,aM)}var cM=uM,dv=cM,fM=1,hM=Object.prototype,dM=hM.hasOwnProperty;function pM(t,e,n,r,i,o){var s=n&fM,a=dv(t),l=a.length,c=dv(e),d=c.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:dM.call(e,f)))return!1}var p=o.get(t),_=o.get(e);if(p&&_)return p==e&&_==t;var E=!0;o.set(t,e),o.set(e,t);for(var w=s;++h<l;){f=a[h];var g=t[f],m=e[f];if(r)var v=s?r(m,g,f,e,t,o):r(g,m,f,t,e,o);if(!(v===void 0?g===m||i(g,m,n,r,o):v)){E=!1;break}w||(w=f=="constructor")}if(E&&!w){var y=t.constructor,k=e.constructor;y!=k&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(E=!1)}return o.delete(t),o.delete(e),E}var mM=pM,gM=Po,yM=rr,vM=gM(yM,"DataView"),_M=vM,EM=Po,wM=rr,TM=EM(wM,"Promise"),bM=TM,AM=Po,SM=rr,IM=AM(SM,"Set"),kM=IM,PM=Po,RM=rr,OM=PM(RM,"WeakMap"),NM=OM,zh=_M,Hh=Vp,Wh=bM,Kh=kM,Gh=NM,jw=oc,Co=Cw,pv="[object Map]",CM="[object Object]",mv="[object Promise]",gv="[object Set]",yv="[object WeakMap]",vv="[object DataView]",xM=Co(zh),DM=Co(Hh),LM=Co(Wh),MM=Co(Kh),VM=Co(Gh),Zr=jw;(zh&&Zr(new zh(new ArrayBuffer(1)))!=vv||Hh&&Zr(new Hh)!=pv||Wh&&Zr(Wh.resolve())!=mv||Kh&&Zr(new Kh)!=gv||Gh&&Zr(new Gh)!=yv)&&(Zr=function(t){var e=jw(t),n=e==CM?t.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case xM:return vv;case DM:return pv;case LM:return mv;case MM:return gv;case VM:return yv}return e});var FM=Zr,_f=gD,jM=Dw,BM=a4,UM=mM,_v=FM,Ev=Fp,wv=Mw,qM=Fw,$M=1,Tv="[object Arguments]",bv="[object Array]",nl="[object Object]",zM=Object.prototype,Av=zM.hasOwnProperty;function HM(t,e,n,r,i,o){var s=Ev(t),a=Ev(e),l=s?bv:_v(t),c=a?bv:_v(e);l=l==Tv?nl:l,c=c==Tv?nl:c;var d=l==nl,h=c==nl,f=l==c;if(f&&wv(t)){if(!wv(e))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new _f),s||qM(t)?jM(t,e,n,r,i,o):BM(t,e,l,n,r,i,o);if(!(n&$M)){var p=d&&Av.call(t,"__wrapped__"),_=h&&Av.call(e,"__wrapped__");if(p||_){var E=p?t.value():t,w=_?e.value():e;return o||(o=new _f),i(E,w,n,r,o)}}return f?(o||(o=new _f),UM(t,e,n,r,i,o)):!1}var WM=HM,KM=WM,Sv=lc;function Bw(t,e,n,r,i){return t===e?!0:t==null||e==null||!Sv(t)&&!Sv(e)?t!==t&&e!==e:KM(t,e,n,r,Bw,i)}var GM=Bw,QM=GM;function YM(t,e){return QM(t,e)}var XM=YM,Uw={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Yt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),c=i(46),d=i(47),h=i(48),f=i(49),p=i(12),_=i(32),E=i(33),w=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:d.default,Inline:c.default,Text:f.default,Attributor:{Attribute:p.default,Class:_.default,Style:E.default,Store:w.default}};r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)m.hasOwnProperty(v)&&(g[v]=m[v])};return function(g,m){w(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(g,w);function g(m){var v=this;return m="[Parchment] "+m,v=w.call(this,m)||this,v.message=m,v.name=v.constructor.name,v}return g}(Error);r.ParchmentError=s;var a={},l={},c={},d={};r.DATA_KEY="__blot";var h;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(w,g){var m=_(w);if(m==null)throw new s("Unable to create "+w+" blot");var v=m,y=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:v.create(g);return new v(y,g)}r.create=f;function p(w,g){return g===void 0&&(g=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:g?p(w.parentNode,g):null}r.find=p;function _(w,g){g===void 0&&(g=h.ANY);var m;if(typeof w=="string")m=d[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)m=d.text;else if(typeof w=="number")w&h.LEVEL&h.BLOCK?m=d.block:w&h.LEVEL&h.INLINE&&(m=d.inline);else if(w instanceof HTMLElement){var v=(w.getAttribute("class")||"").split(/\s+/);for(var y in v)if(m=l[v[y]],m)break;m=m||c[w.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}r.query=_;function E(){for(var w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];if(w.length>1)return w.map(function(y){return E(y)});var m=w[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new s("Invalid definition");if(m.blotName==="abstract")throw new s("Cannot register abstract class");if(d[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(y){return y.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var v=Array.isArray(m.tagName)?m.tagName:[m.tagName];v.forEach(function(y){(c[y]==null||m.className==null)&&(c[y]=m)})}return m}r.register=E},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),c=String.fromCharCode(0),d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var p={};return h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},d.prototype.push=function(h){var f=this.ops.length,p=this.ops[f-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(s(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],p=[];return this.forEach(function(_){var E=h(_)?f:p;E.push(_)}),[f,p]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var p=[],_=l.iterator(this.ops),E=0;E<f&&_.hasNext();){var w;E<h?w=_.next(h-E):(w=_.next(f-E),p.push(w)),E+=l.length(w)}return new d(p)},d.prototype.compose=function(h){var f=l.iterator(this.ops),p=l.iterator(h.ops),_=[],E=p.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var w=E.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),_.push(f.next());E.retain-w>0&&p.next(E.retain-w)}for(var g=new d(_);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(f.peekType()==="delete")g.push(f.next());else{var m=Math.min(f.peekLength(),p.peekLength()),v=f.next(m),y=p.next(m);if(typeof y.retain=="number"){var k={};typeof v.retain=="number"?k.retain=m:k.insert=v.insert;var C=l.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(C&&(k.attributes=C),g.push(k),!p.hasNext()&&s(g.ops[g.ops.length-1],k)){var A=new d(f.rest());return g.concat(A).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&g.push(y)}return g.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var p=[this,h].map(function(m){return m.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:c;var y=m===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),_=new d,E=o(p[0],p[1],f),w=l.iterator(this.ops),g=l.iterator(h.ops);return E.forEach(function(m){for(var v=m[1].length;v>0;){var y=0;switch(m[0]){case o.INSERT:y=Math.min(g.peekLength(),v),_.push(g.next(y));break;case o.DELETE:y=Math.min(v,w.peekLength()),w.next(y),_.delete(y);break;case o.EQUAL:y=Math.min(w.peekLength(),g.peekLength(),v);var k=w.next(y),C=g.next(y);s(k.insert,C.insert)?_.retain(y,l.attributes.diff(k.attributes,C.attributes)):_.push(C).delete(y);break}v-=y}}),_.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var p=l.iterator(this.ops),_=new d,E=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),g=l.length(w)-p.peekLength(),m=typeof w.insert=="string"?w.insert.indexOf(f,g)-g:-1;if(m<0)_.push(p.next());else if(m>0)_.push(p.next(m));else{if(h(_,p.next(1).attributes||{},E)===!1)return;E+=1,_=new d}}_.length()>0&&h(_,{},E)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var p=l.iterator(this.ops),_=l.iterator(h.ops),E=new d;p.hasNext()||_.hasNext();)if(p.peekType()==="insert"&&(f||_.peekType()!=="insert"))E.retain(l.length(p.next()));else if(_.peekType()==="insert")E.push(_.next());else{var w=Math.min(p.peekLength(),_.peekLength()),g=p.next(w),m=_.next(w);if(g.delete)continue;m.delete?E.push(m):E.retain(w,l.attributes.transform(g.attributes,m.attributes,f))}return E.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var p=l.iterator(this.ops),_=0;p.hasNext()&&_<=h;){var E=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){h-=Math.min(E,h-_);continue}else w==="insert"&&(_<h||!f)&&(h+=E);_+=E}return h},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},c=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var _=i.call(p,"constructor"),E=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!E)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},d=function(p,_){s&&_.name==="__proto__"?s(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},h=function(p,_){if(_==="__proto__")if(i.call(p,_)){if(a)return a(p,_).value}else return;return p[_]};n.exports=function f(){var p,_,E,w,g,m,v=arguments[0],y=1,k=arguments.length,C=!1;for(typeof v=="boolean"&&(C=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<k;++y)if(p=arguments[y],p!=null)for(_ in p)E=h(v,_),w=h(p,_),v!==w&&(C&&w&&(c(w)||(g=l(w)))?(g?(g=!1,m=E&&l(E)?E:[]):m=E&&c(E)?E:{},d(v,{name:_,newValue:f(C,m,w)})):typeof w<"u"&&d(v,{name:_,newValue:w}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(R,P){for(var L=0;L<P.length;L++){var U=P[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,P,L){return P&&S(R.prototype,P),L&&S(R,L),R}}(),s=function S(R,P,L){R===null&&(R=Function.prototype);var U=Object.getOwnPropertyDescriptor(R,P);if(U===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:S(H,P,L)}else{if("value"in U)return U.value;var W=U.get;return W===void 0?void 0:W.call(L)}},a=i(3),l=v(a),c=i(2),d=v(c),h=i(0),f=v(h),p=i(16),_=v(p),E=i(6),w=v(E),g=i(7),m=v(g);function v(S){return S&&S.__esModule?S:{default:S}}function y(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function k(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function C(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var A=1,T=function(S){C(R,S);function R(){return y(this,R),k(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,U){var H=f.default.query(L,f.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,U)}},{key:"formatAt",value:function(L,U,H,W){this.format(H,W)}},{key:"insertAt",value:function(L,U,H){if(typeof U=="string"&&U.endsWith(`
`)){var W=f.default.create(O.blotName);this.parent.insertBefore(W,L===0?this:this.next),W.insertAt(0,U.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,U,H)}}]),R}(f.default.Embed);T.scope=f.default.Scope.BLOCK_BLOT;var O=function(S){C(R,S);function R(P){y(this,R);var L=k(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(L,U){return U.length()===0?L:L.insert(U.value(),I(U))},new d.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(L,U){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,U),this.cache={}}},{key:"formatAt",value:function(L,U,H,W){U<=0||(f.default.query(H,f.default.Scope.BLOCK)?L+U===this.length()&&this.format(H,W):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(U,this.length()-L-1),H,W),this.cache={})}},{key:"insertAt",value:function(L,U,H){if(H!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,U,H);if(U.length!==0){var W=U.split(`
`),Q=W.shift();Q.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var q=this;W.reduce(function(F,x){return q=q.split(F,!0),q.insertAt(0,x),x.length},L+Q.length)}}},{key:"insertBefore",value:function(L,U){var H=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,U),H instanceof _.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,U){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,U),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(L===0||L>=this.length()-A)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var W=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,U);return this.cache={},W}}}]),R}(f.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[w.default,f.default.Embed,m.default];function I(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(R=(0,l.default)(R,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?R:I(S.parent,R)}r.bubbleFormats=I,r.BlockEmbed=T,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(F,x){var M=[],B=!0,K=!1,z=void 0;try{for(var V=F[Symbol.iterator](),$;!(B=($=V.next()).done)&&(M.push($.value),!(x&&M.length===x));B=!0);}catch(Y){K=!0,z=Y}finally{try{!B&&V.return&&V.return()}finally{if(K)throw z}}return M}return function(F,x){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(F,x){for(var M=0;M<x.length;M++){var B=x[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,x,M){return x&&q(F.prototype,x),M&&q(F,M),F}}();i(50);var l=i(2),c=I(l),d=i(14),h=I(d),f=i(8),p=I(f),_=i(9),E=I(_),w=i(0),g=I(w),m=i(15),v=I(m),y=i(3),k=I(y),C=i(10),A=I(C),T=i(34),O=I(T);function I(q){return q&&q.__esModule?q:{default:q}}function S(q,F,x){return F in q?Object.defineProperty(q,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[F]=x,q}function R(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var P=(0,A.default)("quill"),L=function(){a(q,null,[{key:"debug",value:function(x){x===!0&&(x="log"),A.default.level(x)}},{key:"find",value:function(x){return x.__quill||g.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&P.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var z=x.attrName||x.blotName;typeof z=="string"?this.register("formats/"+z,x,M):Object.keys(x).forEach(function(V){B.register(V,x[V],M)})}else this.imports[x]!=null&&!K&&P.warn("Overwriting "+x+" with",M),this.imports[x]=M,(x.startsWith("blots/")||x.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):x.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function q(F){var x=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,q),this.options=U(F,M),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",F);this.options.debug&&q.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(z){z===p.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(z,V){var $=x.selection.lastRange,Y=$&&$.length===0?$.index:void 0;H.call(x,function(){return x.editor.update(null,V,Y)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(q,[{key:"addContainer",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var B=x;x=document.createElement("div"),x.classList.add(B)}return this.container.insertBefore(x,M),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,M,B){var K=this,z=W(x,M,B),V=s(z,4);return x=V[0],M=V[1],B=V[3],H.call(this,function(){return K.editor.deleteText(x,M)},B,x,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return H.call(this,function(){var z=B.getSelection(!0),V=new c.default;if(z==null)return V;if(g.default.query(x,g.default.Scope.BLOCK))V=B.editor.formatLine(z.index,z.length,S({},x,M));else{if(z.length===0)return B.selection.format(x,M),V;V=B.editor.formatText(z.index,z.length,S({},x,M))}return B.setSelection(z,p.default.sources.SILENT),V},K)}},{key:"formatLine",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,M,B,K,z),X=s(Y,4);return x=X[0],M=X[1],$=X[2],z=X[3],H.call(this,function(){return V.editor.formatLine(x,M,$)},z,x,0)}},{key:"formatText",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,M,B,K,z),X=s(Y,4);return x=X[0],M=X[1],$=X[2],z=X[3],H.call(this,function(){return V.editor.formatText(x,M,$)},z,x,0)}},{key:"getBounds",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof x=="number"?B=this.selection.getBounds(x,M):B=this.selection.getBounds(x.index,x.length);var K=this.container.getBoundingClientRect();return{bottom:B.bottom-K.top,height:B.height,left:B.left-K.left,right:B.right-K.left,top:B.top-K.top,width:B.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,B=W(x,M),K=s(B,2);return x=K[0],M=K[1],this.editor.getContents(x,M)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,M):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,M)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,B=W(x,M),K=s(B,2);return x=K[0],M=K[1],this.editor.getText(x,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,M,B){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return H.call(this,function(){return K.editor.insertEmbed(x,M,B)},z,x)}},{key:"insertText",value:function(x,M,B,K,z){var V=this,$=void 0,Y=W(x,0,B,K,z),X=s(Y,4);return x=X[0],$=X[2],z=X[3],H.call(this,function(){return V.editor.insertText(x,M,$)},z,x,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,M,B){this.clipboard.dangerouslyPasteHTML(x,M,B)}},{key:"removeFormat",value:function(x,M,B){var K=this,z=W(x,M,B),V=s(z,4);return x=V[0],M=V[1],B=V[3],H.call(this,function(){return K.editor.removeFormat(x,M)},B,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){x=new c.default(x);var K=M.getLength(),z=M.editor.deleteText(0,K),V=M.editor.applyDelta(x),$=V.ops[V.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var Y=z.compose(V);return Y},B)}},{key:"setSelection",value:function(x,M,B){if(x==null)this.selection.setRange(null,M||q.sources.API);else{var K=W(x,M,B),z=s(K,4);x=z[0],M=z[1],B=z[3],this.selection.setRange(new m.Range(x,M),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new c.default().insert(x);return this.setContents(B,M)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(x);return this.selection.update(x),M}},{key:"updateContents",value:function(x){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return H.call(this,function(){return x=new c.default(x),M.editor.applyDelta(x,B)},B,!0)}}]),q}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:c.default,parchment:g.default,"core/module":E.default,"core/theme":O.default};function U(q,F){if(F=(0,k.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===L.DEFAULTS.theme)F.theme=O.default;else if(F.theme=L.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var x=(0,k.default)(!0,{},F.theme.DEFAULTS);[x,F].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var M=Object.keys(x.modules).concat(Object.keys(F.modules)),B=M.reduce(function(K,z){var V=L.import("modules/"+z);return V==null?P.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=V.DEFAULTS||{},K},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,k.default)(!0,{},L.DEFAULTS,{modules:B},x,F),["bounds","container","scrollingContainer"].forEach(function(K){typeof F[K]=="string"&&(F[K]=document.querySelector(F[K]))}),F.modules=Object.keys(F.modules).reduce(function(K,z){return F.modules[z]&&(K[z]=F.modules[z]),K},{}),F}function H(q,F,x,M){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new c.default;var B=x==null?null:this.getSelection(),K=this.editor.delta,z=q();if(B!=null&&(x===!0&&(x=B.index),M==null?B=Q(B,z,F):M!==0&&(B=Q(B,x,M,F)),this.setSelection(B,p.default.sources.SILENT)),z.length()>0){var V,$=[p.default.events.TEXT_CHANGE,z,K,F];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat($)),F!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,$)}}return z}function W(q,F,x,M,B){var K={};return typeof q.index=="number"&&typeof q.length=="number"?typeof F!="number"?(B=M,M=x,x=F,F=q.length,q=q.index):(F=q.length,q=q.index):typeof F!="number"&&(B=M,M=x,x=F,F=0),(typeof x>"u"?"undefined":o(x))==="object"?(K=x,B=M):typeof x=="string"&&(M!=null?K[x]=M:B=x),B=B||p.default.sources.API,[q,F,K,B]}function Q(q,F,x,M){if(q==null)return null;var B=void 0,K=void 0;if(F instanceof c.default){var z=[q.index,q.index+q.length].map(function(X){return F.transformPosition(X,M!==p.default.sources.USER)}),V=s(z,2);B=V[0],K=V[1]}else{var $=[q.index,q.index+q.length].map(function(X){return X<F||X===F&&M===p.default.sources.USER?X:x>=0?X+x:Math.max(F,X+x)}),Y=s($,2);B=Y[0],K=Y[1]}return new m.Range(B,K-B)}r.expandConfig=U,r.overload=W,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(7),l=h(a),c=i(0),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function p(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function _(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var E=function(w){_(g,w);function g(){return f(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(v,y,k,C){if(g.compare(this.statics.blotName,k)<0&&d.default.query(k,d.default.Scope.BLOT)){var A=this.isolate(v,y);C&&A.wrap(k,C)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,v,y,k,C)}},{key:"optimize",value:function(v){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var k=g.order.indexOf(v),C=g.order.indexOf(y);return k>=0||C>=0?k-C:v===y?0:v<y?-1:1}}]),g}(d.default.Inline);E.allowedChildren=[E,d.default.Embed,l.default],E.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(v,y){for(var k=0;k<y.length;k++){var C=y[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,y,k){return y&&m(v.prototype,y),k&&m(v,k),v}}(),s=function m(v,y,k){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,y);if(C===void 0){var A=Object.getPrototypeOf(v);return A===null?void 0:m(A,y,k)}else{if("value"in C)return C.value;var T=C.get;return T===void 0?void 0:T.call(k)}},a=i(54),l=h(a),c=i(10),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function p(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function _(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var E=(0,d.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(m){document.addEventListener(m,function(){for(var v=arguments.length,y=Array(v),k=0;k<v;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var A;(A=C.__quill.emitter).handleDOM.apply(A,y)}})})});var g=function(m){_(v,m);function v(){f(this,v);var y=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",E.error),y}return o(v,[{key:"emit",value:function(){E.log.apply(E,arguments),s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var C=arguments.length,A=Array(C>1?C-1:0),T=1;T<C;T++)A[T-1]=arguments[T];(this.listeners[k.type]||[]).forEach(function(O){var I=O.node,S=O.handler;(k.target===I||I.contains(k.target))&&S.apply(void 0,[k].concat(A))})}},{key:"listenDOM",value:function(k,C,A){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:C,handler:A})}}]),v}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=c};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(c){if(o.indexOf(c)<=o.indexOf(s)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];(d=console)[c].apply(d,f)}}function l(c){return o.reduce(function(d,h){return d[h]=a.bind(console,h,c),d},{})}a.level=l.level=function(c){s=c},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,p,_){return _||(_={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?_.strict?f===p:f==p:h(f,p,_)};function c(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,p,_){var E,w;if(c(f)||c(p)||f.prototype!==p.prototype)return!1;if(a(f))return a(p)?(f=o.call(f),p=o.call(p),l(f,p,_)):!1;if(d(f)){if(!d(p)||f.length!==p.length)return!1;for(E=0;E<f.length;E++)if(f[E]!==p[E])return!1;return!0}try{var g=s(f),m=s(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),E=g.length-1;E>=0;E--)if(g[E]!=m[E])return!1;for(E=g.length-1;E>=0;E--)if(w=g[E],!l(f[w],p[w],_))return!1;return typeof f==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,c,d){d===void 0&&(d={}),this.attrName=l,this.keyName=c;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function T(O,I){var S=[],R=!0,P=!1,L=void 0;try{for(var U=O[Symbol.iterator](),H;!(R=(H=U.next()).done)&&(S.push(H.value),!(I&&S.length===I));R=!0);}catch(W){P=!0,L=W}finally{try{!R&&U.return&&U.return()}finally{if(P)throw L}}return S}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(O,I){for(var S=0;S<I.length;S++){var R=I[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,I,S){return I&&T(O.prototype,I),S&&T(O,S),O}}(),a=function T(O,I,S){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,I);if(R===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:T(P,I,S)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(S)}},l=i(2),c=m(l),d=i(0),h=m(d),f=i(4),p=m(f),_=i(6),E=m(_),w=i(7),g=m(w);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function y(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function k(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var C=function(T){k(O,T);function O(){return v(this,O),y(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(E.default);C.blotName="code",C.tagName="CODE";var A=function(T){k(O,T);function O(){return v(this,O),y(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var S=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(P,L){return P.insert(L).insert(`
`,S.formats())},new c.default)}},{key:"format",value:function(S,R){if(!(S===this.statics.blotName&&R)){var P=this.descendant(g.default,this.length()-1),L=o(P,1),U=L[0];U!=null&&U.deleteAt(U.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,S,R)}}},{key:"formatAt",value:function(S,R,P,L){if(R!==0&&!(h.default.query(P,h.default.Scope.BLOCK)==null||P===this.statics.blotName&&L===this.statics.formats(this.domNode))){var U=this.newlineIndex(S);if(!(U<0||U>=S+R)){var H=this.newlineIndex(S,!0)+1,W=U-H+1,Q=this.isolate(H,W),q=Q.next;Q.format(P,L),q instanceof O&&q.formatAt(0,S-H+R-W,P,L)}}}},{key:"insertAt",value:function(S,R,P){if(P==null){var L=this.descendant(g.default,S),U=o(L,2),H=U[0],W=U[1];H.insertAt(W,R)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var P=this.domNode.textContent.slice(S).indexOf(`
`);return P>-1?S+P:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,S);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(S),R.moveChildren(this),R.remove())}},{key:"replace",value:function(S){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var P=h.default.find(R);P==null?R.parentNode.removeChild(R):P instanceof h.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(S){var R=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,S);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),O}(p.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=C,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(F,x){var M=[],B=!0,K=!1,z=void 0;try{for(var V=F[Symbol.iterator](),$;!(B=($=V.next()).done)&&(M.push($.value),!(x&&M.length===x));B=!0);}catch(Y){K=!0,z=Y}finally{try{!B&&V.return&&V.return()}finally{if(K)throw z}}return M}return function(F,x){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return q(F,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(F,x){for(var M=0;M<x.length;M++){var B=x[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,x,M){return x&&q(F.prototype,x),M&&q(F,M),F}}(),l=i(2),c=R(l),d=i(20),h=R(d),f=i(0),p=R(f),_=i(13),E=R(_),w=i(24),g=R(w),m=i(4),v=R(m),y=i(16),k=R(y),C=i(21),A=R(C),T=i(11),O=R(T),I=i(3),S=R(I);function R(q){return q&&q.__esModule?q:{default:q}}function P(q,F,x){return F in q?Object.defineProperty(q,F,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[F]=x,q}function L(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,H=function(){function q(F){L(this,q),this.scroll=F,this.delta=this.getDelta()}return a(q,[{key:"applyDelta",value:function(x){var M=this,B=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),x=Q(x),x.reduce(function(z,V){var $=V.retain||V.delete||V.insert.length||1,Y=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&B&&(B=!1,X=X.slice(0,-1)),z>=K&&!X.endsWith(`
`)&&(B=!0),M.scroll.insertAt(z,X);var ne=M.scroll.line(z),fe=s(ne,2),ge=fe[0],ve=fe[1],Ae=(0,S.default)({},(0,m.bubbleFormats)(ge));if(ge instanceof v.default){var Ne=ge.descendant(p.default.Leaf,ve),pt=s(Ne,1),Ye=pt[0];Ae=(0,S.default)(Ae,(0,m.bubbleFormats)(Ye))}Y=h.default.attributes.diff(Ae,Y)||{}}else if(o(V.insert)==="object"){var J=Object.keys(V.insert)[0];if(J==null)return z;M.scroll.insertAt(z,J,V.insert[J])}K+=$}return Object.keys(Y).forEach(function(ee){M.scroll.formatAt(z,$,ee,Y[ee])}),z+$},0),x.reduce(function(z,V){return typeof V.delete=="number"?(M.scroll.deleteAt(z,V.delete),z):z+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,M){return this.scroll.deleteAt(x,M),this.update(new c.default().retain(x).delete(M))}},{key:"formatLine",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[z])){var V=B.scroll.lines(x,Math.max(M,1)),$=M;V.forEach(function(Y){var X=Y.length();if(!(Y instanceof E.default))Y.format(z,K[z]);else{var ne=x-Y.offset(B.scroll),fe=Y.newlineIndex(ne+$)-ne+1;Y.formatAt(ne,fe,z,K[z])}$-=X})}}),this.scroll.optimize(),this.update(new c.default().retain(x).retain(M,(0,A.default)(K)))}},{key:"formatText",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){B.scroll.formatAt(x,M,z,K[z])}),this.update(new c.default().retain(x).retain(M,(0,A.default)(K)))}},{key:"getContents",value:function(x,M){return this.delta.slice(x,x+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,M){return x.concat(M.delta())},new c.default)}},{key:"getFormat",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],K=[];M===0?this.scroll.path(x).forEach(function(V){var $=s(V,1),Y=$[0];Y instanceof v.default?B.push(Y):Y instanceof p.default.Leaf&&K.push(Y)}):(B=this.scroll.lines(x,M),K=this.scroll.descendants(p.default.Leaf,x,M));var z=[B,K].map(function(V){if(V.length===0)return{};for(var $=(0,m.bubbleFormats)(V.shift());Object.keys($).length>0;){var Y=V.shift();if(Y==null)return $;$=W((0,m.bubbleFormats)(Y),$)}return $});return S.default.apply(S.default,z)}},{key:"getText",value:function(x,M){return this.getContents(x,M).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(x,M,B){return this.scroll.insertAt(x,M,B),this.update(new c.default().retain(x).insert(P({},M,B)))}},{key:"insertText",value:function(x,M){var B=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,M),Object.keys(K).forEach(function(z){B.scroll.formatAt(x,M.length,z,K[z])}),this.update(new c.default().retain(x).insert(M,(0,A.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==v.default.blotName||x.children.length>1?!1:x.children.head instanceof k.default}},{key:"removeFormat",value:function(x,M){var B=this.getText(x,M),K=this.scroll.line(x+M),z=s(K,2),V=z[0],$=z[1],Y=0,X=new c.default;V!=null&&(V instanceof E.default?Y=V.newlineIndex($)-$+1:Y=V.length()-$,X=V.delta().slice($,$+Y-1).insert(`
`));var ne=this.getContents(x,M+Y),fe=ne.diff(new c.default().insert(B).concat(X)),ge=new c.default().retain(x).concat(fe);return this.applyDelta(ge)}},{key:"update",value:function(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(U)&&p.default.find(M[0].target)){var z=p.default.find(M[0].target),V=(0,m.bubbleFormats)(z),$=z.offset(this.scroll),Y=M[0].oldValue.replace(g.default.CONTENTS,""),X=new c.default().insert(Y),ne=new c.default().insert(z.value()),fe=new c.default().retain($).concat(X.diff(ne,B));x=fe.reduce(function(ge,ve){return ve.insert?ge.insert(ve.insert,V):ge.push(ve)},new c.default),this.delta=K.compose(x)}else this.delta=this.getDelta(),(!x||!(0,O.default)(K.compose(x),this.delta))&&(x=K.diff(this.delta,B));return x}}]),q}();function W(q,F){return Object.keys(F).reduce(function(x,M){return q[M]==null||(F[M]===q[M]?x[M]=F[M]:Array.isArray(F[M])?F[M].indexOf(q[M])<0&&(x[M]=F[M].concat([q[M]])):x[M]=[F[M],q[M]]),x},{})}function Q(q){return q.reduce(function(F,x){if(x.insert===1){var M=(0,A.default)(x.attributes);return delete M.image,F.insert({image:x.attributes.image},M)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,A.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var B=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(B,x.attributes)}return F.push(x)},new c.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function T(O,I){var S=[],R=!0,P=!1,L=void 0;try{for(var U=O[Symbol.iterator](),H;!(R=(H=U.next()).done)&&(S.push(H.value),!(I&&S.length===I));R=!0);}catch(W){P=!0,L=W}finally{try{!R&&U.return&&U.return()}finally{if(P)throw L}}return S}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return T(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(O,I){for(var S=0;S<I.length;S++){var R=I[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,I,S){return I&&T(O.prototype,I),S&&T(O,S),O}}(),a=i(0),l=g(a),c=i(21),d=g(c),h=i(11),f=g(h),p=i(8),_=g(p),E=i(10),w=g(E);function g(T){return T&&T.__esModule?T:{default:T}}function m(T){if(Array.isArray(T)){for(var O=0,I=Array(T.length);O<T.length;O++)I[O]=T[O];return I}else return Array.from(T)}function v(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}var y=(0,w.default)("quill:selection"),k=function T(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,T),this.index=O,this.length=I},C=function(){function T(O,I){var S=this;v(this,T),this.emitter=I,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(R,P){R===_.default.events.TEXT_CHANGE&&P.length()>0&&S.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var R=S.getNativeRange();R!=null&&R.start.node!==S.cursor.textNode&&S.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(R,P){if(P.range){var L=P.range,U=L.startNode,H=L.startOffset,W=L.endNode,Q=L.endOffset;S.setNativeRange(U,H,W,Q)}}),this.update(_.default.sources.SILENT)}return s(T,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var S=I.cursor.restore();if(!S)return;setTimeout(function(){I.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var P=l.default.find(R.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var L=P.split(R.start.offset);P.parent.insertBefore(this.cursor,L)}else P.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(I,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();I=Math.min(I,R-1),S=Math.min(I+S,R-1)-I;var P=void 0,L=this.scroll.leaf(I),U=o(L,2),H=U[0],W=U[1];if(H==null)return null;var Q=H.position(W,!0),q=o(Q,2);P=q[0],W=q[1];var F=document.createRange();if(S>0){F.setStart(P,W);var x=this.scroll.leaf(I+S),M=o(x,2);if(H=M[0],W=M[1],H==null)return null;var B=H.position(W,!0),K=o(B,2);return P=K[0],W=K[1],F.setEnd(P,W),F.getBoundingClientRect()}else{var z="left",V=void 0;return P instanceof Text?(W<P.data.length?(F.setStart(P,W),F.setEnd(P,W+1)):(F.setStart(P,W-1),F.setEnd(P,W),z="right"),V=F.getBoundingClientRect()):(V=H.domNode.getBoundingClientRect(),W>0&&(z="right")),{bottom:V.top+V.height,height:V.height,left:V[z],right:V[z],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var S=I.getRangeAt(0);if(S==null)return null;var R=this.normalizeNative(S);return y.info("getNativeRange",R),R}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var S=this.normalizedToRange(I);return[S,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var S=this,R=[[I.start.node,I.start.offset]];I.native.collapsed||R.push([I.end.node,I.end.offset]);var P=R.map(function(H){var W=o(H,2),Q=W[0],q=W[1],F=l.default.find(Q,!0),x=F.offset(S.scroll);return q===0?x:F instanceof l.default.Container?x+F.length():x+F.index(Q,q)}),L=Math.min(Math.max.apply(Math,m(P)),this.scroll.length()-1),U=Math.min.apply(Math,[L].concat(m(P)));return new k(U,L-U)}},{key:"normalizeNative",value:function(I){if(!A(this.root,I.startContainer)||!I.collapsed&&!A(this.root,I.endContainer))return null;var S={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[S.start,S.end].forEach(function(R){for(var P=R.node,L=R.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>L)P=P.childNodes[L],L=0;else if(P.childNodes.length===L)P=P.lastChild,L=P instanceof Text?P.data.length:P.childNodes.length+1;else break;R.node=P,R.offset=L}),S}},{key:"rangeToNative",value:function(I){var S=this,R=I.collapsed?[I.index]:[I.index,I.index+I.length],P=[],L=this.scroll.length();return R.forEach(function(U,H){U=Math.min(L-1,U);var W=void 0,Q=S.scroll.leaf(U),q=o(Q,2),F=q[0],x=q[1],M=F.position(x,H!==0),B=o(M,2);W=B[0],x=B[1],P.push(W,x)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(I){var S=this.lastRange;if(S!=null){var R=this.getBounds(S.index,S.length);if(R!=null){var P=this.scroll.length()-1,L=this.scroll.line(Math.min(S.index,P)),U=o(L,1),H=U[0],W=H;if(S.length>0){var Q=this.scroll.line(Math.min(S.index+S.length,P)),q=o(Q,1);W=q[0]}if(!(H==null||W==null)){var F=I.getBoundingClientRect();R.top<F.top?I.scrollTop-=F.top-R.top:R.bottom>F.bottom&&(I.scrollTop+=R.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(I,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",I,S,R,P),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||R.parentNode==null))){var U=document.getSelection();if(U!=null)if(I!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||I!==H.startContainer||S!==H.startOffset||R!==H.endContainer||P!==H.endOffset){I.tagName=="BR"&&(S=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),R.tagName=="BR"&&(P=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var W=document.createRange();W.setStart(I,S),W.setEnd(R,P),U.removeAllRanges(),U.addRange(W)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof S=="string"&&(R=S,S=!1),y.info("setRange",I),I!=null){var P=this.rangeToNative(I);this.setNativeRange.apply(this,m(P).concat([S]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,S=this.lastRange,R=this.getRange(),P=o(R,2),L=P[0],U=P[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(S,this.lastRange)){var H;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[_.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(S),I];if((H=this.emitter).emit.apply(H,[_.default.events.EDITOR_CHANGE].concat(W)),I!==_.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,W)}}}}]),T}();function A(T,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),T.contains(O)}r.Range=k,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,w,g){return w&&_(E.prototype,w),g&&_(E,g),E}}(),s=function _(E,w,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,w);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:_(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"insertInto",value:function(g,m){g.children.length===0?s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){h(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),c=function(h){o(f,h);function f(p){var _=h.call(this,p)||this;return _.build(),_}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var E=d(_);p.insertBefore(E,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},f.prototype.deleteAt=function(p,_){if(p===0&&_===this.length())return this.remove();this.children.forEachAt(p,_,function(E,w,g){E.deleteAt(w,g)})},f.prototype.descendant=function(p,_){var E=this.children.find(_),w=E[0],g=E[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,g]:w instanceof f?w.descendant(p,g):[null,-1]},f.prototype.descendants=function(p,_,E){_===void 0&&(_=0),E===void 0&&(E=Number.MAX_VALUE);var w=[],g=E;return this.children.forEachAt(_,E,function(m,v,y){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&w.push(m),m instanceof f&&(w=w.concat(m.descendants(p,v,g))),g-=y}),w},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(p,_,E,w){this.children.forEachAt(p,_,function(g,m,v){g.formatAt(m,v,E,w)})},f.prototype.insertAt=function(p,_,E){var w=this.children.find(p),g=w[0],m=w[1];if(g)g.insertAt(m,_,E);else{var v=E==null?l.create("text",_):l.create(_,E);this.appendChild(v)}},f.prototype.insertBefore=function(p,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(E){return p instanceof E}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,_)},f.prototype.length=function(){return this.children.reduce(function(p,_){return p+_.length()},0)},f.prototype.moveChildren=function(p,_){this.children.forEach(function(E){p.insertBefore(E,_)})},f.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var _=l.create(this.statics.defaultChild);this.appendChild(_),_.optimize(p)}else this.remove()},f.prototype.path=function(p,_){_===void 0&&(_=!1);var E=this.children.find(p,_),w=E[0],g=E[1],m=[[this,p]];return w instanceof f?m.concat(w.path(g,_)):(w!=null&&m.push([w,g]),m)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),h.prototype.replace.call(this,p)},f.prototype.split=function(p,_){if(_===void 0&&(_=!1),!_){if(p===0)return this;if(p===this.length())return this.next}var E=this.clone();return this.parent.insertBefore(E,this.next),this.children.forEachAt(p,this.length(),function(w,g,m){w=w.split(g,_),E.appendChild(w)}),E},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,_){var E=this,w=[],g=[];p.forEach(function(m){m.target===E.domNode&&m.type==="childList"&&(w.push.apply(w,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(m);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===E.domNode)&&v.detach()}}),w.filter(function(m){return m.parentNode==E.domNode}).sort(function(m,v){return m===v?0:m.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var v=null;m.nextSibling!=null&&(v=l.find(m.nextSibling));var y=d(m);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(E),E.insertBefore(y,v||void 0))})},f}(a.default);function d(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(_){f.domNode.appendChild(_)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){h(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),c=i(1),d=function(h){o(f,h);function f(p){var _=h.call(this,p)||this;return _.attributes=new a.default(_.domNode),_}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,_){var E=c.query(p);E instanceof s.default?this.attributes.attribute(E,_):_&&E!=null&&(p!==this.statics.blotName||this.formats()[p]!==_)&&this.replaceWith(p,_)},f.prototype.formats=function(){var p=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(p[this.statics.blotName]=_),p},f.prototype.replaceWith=function(p,_){var E=h.prototype.replaceWith.call(this,p,_);return this.attributes.copy(E),E},f.prototype.update=function(p,_){var E=this;h.prototype.update.call(this,p,_),p.some(function(w){return w.target===E.domNode&&w.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,_){var E=h.prototype.wrap.call(this,p,_);return E instanceof f&&E.statics.scope===this.statics.scope&&this.attributes.move(E),E},f}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(c,d,h){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var f=s(!0,{},d);h||(f=Object.keys(f).reduce(function(_,E){return f[E]!=null&&(_[E]=f[E]),_},{}));for(var p in c)c[p]!==void 0&&d[p]===void 0&&(f[p]=c[p]);return Object.keys(f).length>0?f:void 0},diff:function(c,d){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var h=Object.keys(c).concat(Object.keys(d)).reduce(function(f,p){return o(c[p],d[p])||(f[p]=d[p]===void 0?null:d[p]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(c,d,h){if(typeof c!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(p,_){return c[_]===void 0&&(p[_]=d[_]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=a.length(d);if(c>=f-h?(c=f-h,this.index+=1,this.offset=0):this.offset+=c,typeof d.delete=="number")return{delete:c};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=c:typeof d.insert=="string"?p.insert=d.insert.substr(h,c):p.insert=d.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=c,this.index=d,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(E,w){return w!=null&&E instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(E,w,g,m,v){typeof w=="object"&&(g=w.depth,m=w.prototype,v=w.includeNonEnumerable,w=w.circular);var y=[],k=[],C=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof g>"u"&&(g=1/0);function A(T,O){if(T===null)return null;if(O===0)return T;var I,S;if(typeof T!="object")return T;if(o(T,s))I=new s;else if(o(T,a))I=new a;else if(o(T,l))I=new l(function(F,x){T.then(function(M){F(A(M,O-1))},function(M){x(A(M,O-1))})});else if(c.__isArray(T))I=[];else if(c.__isRegExp(T))I=new RegExp(T.source,_(T)),T.lastIndex&&(I.lastIndex=T.lastIndex);else if(c.__isDate(T))I=new Date(T.getTime());else{if(C&&Buffer.isBuffer(T))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(T.length):I=new Buffer(T.length),T.copy(I),I;o(T,Error)?I=Object.create(T):typeof m>"u"?(S=Object.getPrototypeOf(T),I=Object.create(S)):(I=Object.create(m),S=m)}if(w){var R=y.indexOf(T);if(R!=-1)return k[R];y.push(T),k.push(I)}o(T,s)&&T.forEach(function(F,x){var M=A(x,O-1),B=A(F,O-1);I.set(M,B)}),o(T,a)&&T.forEach(function(F){var x=A(F,O-1);I.add(x)});for(var P in T){var L;S&&(L=Object.getOwnPropertyDescriptor(S,P)),!(L&&L.set==null)&&(I[P]=A(T[P],O-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(T),P=0;P<U.length;P++){var H=U[P],W=Object.getOwnPropertyDescriptor(T,H);W&&!W.enumerable&&!v||(I[H]=A(T[H],O-1),W.enumerable||Object.defineProperty(I,H,{enumerable:!1}))}if(v)for(var Q=Object.getOwnPropertyNames(T),P=0;P<Q.length;P++){var q=Q[P],W=Object.getOwnPropertyDescriptor(T,q);W&&W.enumerable||(I[q]=A(T[q],O-1),Object.defineProperty(I,q,{enumerable:!1}))}return I}return A(E,g)}c.clonePrototype=function(w){if(w===null)return null;var g=function(){};return g.prototype=w,new g};function d(E){return Object.prototype.toString.call(E)}c.__objToStr=d;function h(E){return typeof E=="object"&&d(E)==="[object Date]"}c.__isDate=h;function f(E){return typeof E=="object"&&d(E)==="[object Array]"}c.__isArray=f;function p(E){return typeof E=="object"&&d(E)==="[object RegExp]"}c.__isRegExp=p;function _(E){var w="";return E.global&&(w+="g"),E.ignoreCase&&(w+="i"),E.multiline&&(w+="m"),w}return c.__getRegExpFlags=_,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(S,R){var P=[],L=!0,U=!1,H=void 0;try{for(var W=S[Symbol.iterator](),Q;!(L=(Q=W.next()).done)&&(P.push(Q.value),!(R&&P.length===R));L=!0);}catch(q){U=!0,H=q}finally{try{!L&&W.return&&W.return()}finally{if(U)throw H}}return P}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return I(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(S,R){for(var P=0;P<R.length;P++){var L=R[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,P){return R&&I(S.prototype,R),P&&I(S,P),S}}(),a=function I(S,R,P){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:I(U,R,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},l=i(0),c=y(l),d=i(8),h=y(d),f=i(4),p=y(f),_=i(16),E=y(_),w=i(13),g=y(w),m=i(25),v=y(m);function y(I){return I&&I.__esModule?I:{default:I}}function k(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}function C(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:I}function A(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}function T(I){return I instanceof p.default||I instanceof f.BlockEmbed}var O=function(I){A(S,I);function S(R,P){k(this,S);var L=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return L.emitter=P.emitter,Array.isArray(P.whitelist)&&(L.whitelist=P.whitelist.reduce(function(U,H){return U[H]=!0,U},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,L){var U=this.line(P),H=o(U,2),W=H[0],Q=H[1],q=this.line(P+L),F=o(q,1),x=F[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,L),x!=null&&W!==x&&Q>0){if(W instanceof f.BlockEmbed||x instanceof f.BlockEmbed){this.optimize();return}if(W instanceof g.default){var M=W.newlineIndex(W.length(),!0);if(M>-1&&(W=W.split(M+1),W===x)){this.optimize();return}}else if(x instanceof g.default){var B=x.newlineIndex(0);B>-1&&x.split(B+1)}var K=x.children.head instanceof E.default?null:x.children.head;W.moveChildren(x,K),W.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,L,U,H){this.whitelist!=null&&!this.whitelist[U]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,L,U,H),this.optimize())}},{key:"insertAt",value:function(P,L,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[L])){if(P>=this.length())if(U==null||c.default.query(L,c.default.Scope.BLOCK)==null){var H=c.default.create(this.statics.defaultChild);this.appendChild(H),U==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,U)}else{var W=c.default.create(L,U);this.appendChild(W)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,L,U);this.optimize()}}},{key:"insertBefore",value:function(P,L){if(P.statics.scope===c.default.Scope.INLINE_BLOT){var U=c.default.create(this.statics.defaultChild);U.appendChild(P),P=U}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,L)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(T,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function H(W,Q,q){var F=[],x=q;return W.children.forEachAt(Q,q,function(M,B,K){T(M)?F.push(M):M instanceof c.default.Container&&(F=F.concat(H(M,B,x))),x-=K}),F};return U(this,P,L)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P,L),P.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,P,L))}},{key:"path",value:function(P){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var L=h.default.sources.USER;typeof P=="string"&&(L=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,L,P),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,L,P)}}}]),S}(c.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[p.default,f.BlockEmbed,v.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V($,Y){var X=[],ne=!0,fe=!1,ge=void 0;try{for(var ve=$[Symbol.iterator](),Ae;!(ne=(Ae=ve.next()).done)&&(X.push(Ae.value),!(Y&&X.length===Y));ne=!0);}catch(Ne){fe=!0,ge=Ne}finally{try{!ne&&ve.return&&ve.return()}finally{if(fe)throw ge}}return X}return function($,Y){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V($,Y){for(var X=0;X<Y.length;X++){var ne=Y[X];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty($,ne.key,ne)}}return function($,Y,X){return Y&&V($.prototype,Y),X&&V($,X),$}}(),l=i(21),c=I(l),d=i(11),h=I(d),f=i(3),p=I(f),_=i(2),E=I(_),w=i(20),g=I(w),m=i(0),v=I(m),y=i(5),k=I(y),C=i(10),A=I(C),T=i(9),O=I(T);function I(V){return V&&V.__esModule?V:{default:V}}function S(V,$,Y){return $ in V?Object.defineProperty(V,$,{value:Y,enumerable:!0,configurable:!0,writable:!0}):V[$]=Y,V}function R(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}function P(V,$){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:V}function L(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);V.prototype=Object.create($&&$.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(V,$):V.__proto__=$)}var U=(0,A.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(V){L($,V),a($,null,[{key:"match",value:function(X,ne){return ne=z(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!ne[fe]!==X[fe]&&ne[fe]!==null})?!1:ne.key===(X.which||X.keyCode)}}]);function $(Y,X){R(this,$);var ne=P(this,($.__proto__||Object.getPrototypeOf($)).call(this,Y,X));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(fe){fe==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||ne.options.bindings[fe]&&ne.addBinding(ne.options.bindings[fe])}),ne.addBinding({key:$.keys.ENTER,shiftKey:null},M),ne.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},q),ne.addBinding({key:$.keys.DELETE},{collapsed:!0},F)):(ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),ne.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),ne.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},x),ne.addBinding({key:$.keys.DELETE},{collapsed:!1},x),ne.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),ne.listen(),ne}return a($,[{key:"addBinding",value:function(X){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=z(X);if(ge==null||ge.key==null)return U.warn("Attempted to add invalid keyboard binding",ge);typeof ne=="function"&&(ne={handler:ne}),typeof fe=="function"&&(fe={handler:fe}),ge=(0,p.default)(ge,ne,fe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var fe=ne.which||ne.keyCode,ge=(X.bindings[fe]||[]).filter(function(He){return $.match(ne,He)});if(ge.length!==0){var ve=X.quill.getSelection();if(!(ve==null||!X.quill.hasFocus())){var Ae=X.quill.getLine(ve.index),Ne=s(Ae,2),pt=Ne[0],Ye=Ne[1],J=X.quill.getLeaf(ve.index),ee=s(J,2),ue=ee[0],ce=ee[1],re=ve.length===0?[ue,ce]:X.quill.getLeaf(ve.index+ve.length),be=s(re,2),we=be[0],Te=be[1],bt=ue instanceof v.default.Text?ue.value().slice(0,ce):"",Ve=we instanceof v.default.Text?we.value().slice(Te):"",Se={collapsed:ve.length===0,empty:ve.length===0&&pt.length()<=1,format:X.quill.getFormat(ve),offset:Ye,prefix:bt,suffix:Ve},Ii=ge.some(function(He){if(He.collapsed!=null&&He.collapsed!==Se.collapsed||He.empty!=null&&He.empty!==Se.empty||He.offset!=null&&He.offset!==Se.offset)return!1;if(Array.isArray(He.format)){if(He.format.every(function(gn){return Se.format[gn]==null}))return!1}else if(o(He.format)==="object"&&!Object.keys(He.format).every(function(gn){return He.format[gn]===!0?Se.format[gn]!=null:He.format[gn]===!1?Se.format[gn]==null:(0,h.default)(He.format[gn],Se.format[gn])}))return!1;return He.prefix!=null&&!He.prefix.test(Se.prefix)||He.suffix!=null&&!He.suffix.test(Se.suffix)?!1:He.handler.call(X,ve,Se)!==!0});Ii&&ne.preventDefault()}}}})}}]),$}(O.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,Y){Y.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,k.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function($){this.quill.history.cutoff();var Y=new E.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(Y,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,k.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,Y){this.quill.format("list",!1,k.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var Y=this.quill.getLine($.index),X=s(Y,2),ne=X[0],fe=X[1],ge=(0,p.default)({},ne.formats(),{list:"checked"}),ve=new E.default().retain($.index).insert(`
`,ge).retain(ne.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,Y){var X=this.quill.getLine($.index),ne=s(X,2),fe=ne[0],ge=ne[1],ve=new E.default().retain($.index).insert(`
`,Y.format).retain(fe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(ve,k.default.sources.USER),this.quill.setSelection($.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,Y){var X=Y.prefix.length,ne=this.quill.getLine($.index),fe=s(ne,2),ge=fe[0],ve=fe[1];if(ve>X)return!0;var Ae=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Ae="unchecked";break;case"[x]":Ae="checked";break;case"-":case"*":Ae="bullet";break;default:Ae="ordered"}this.quill.insertText($.index," ",k.default.sources.USER),this.quill.history.cutoff();var Ne=new E.default().retain($.index-ve).delete(X+1).retain(ge.length()-2-ve).retain(1,{list:Ae});this.quill.updateContents(Ne,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-X,k.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var Y=this.quill.getLine($.index),X=s(Y,2),ne=X[0],fe=X[1],ge=new E.default().retain($.index+ne.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,k.default.sources.USER)}},"embed left":Q(W.keys.LEFT,!1),"embed left shift":Q(W.keys.LEFT,!0),"embed right":Q(W.keys.RIGHT,!1),"embed right shift":Q(W.keys.RIGHT,!0)}};function Q(V,$){var Y,X=V===W.keys.LEFT?"prefix":"suffix";return Y={key:V,shiftKey:$,altKey:null},S(Y,X,/^$/),S(Y,"handler",function(fe){var ge=fe.index;V===W.keys.RIGHT&&(ge+=fe.length+1);var ve=this.quill.getLeaf(ge),Ae=s(ve,1),Ne=Ae[0];return Ne instanceof v.default.Embed?(V===W.keys.LEFT?$?this.quill.setSelection(fe.index-1,fe.length+1,k.default.sources.USER):this.quill.setSelection(fe.index-1,k.default.sources.USER):$?this.quill.setSelection(fe.index,fe.length+1,k.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,k.default.sources.USER),!1):!0}),Y}function q(V,$){if(!(V.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(V.index),X=s(Y,1),ne=X[0],fe={};if($.offset===0){var ge=this.quill.getLine(V.index-1),ve=s(ge,1),Ae=ve[0];if(Ae!=null&&Ae.length()>1){var Ne=ne.formats(),pt=this.quill.getFormat(V.index-1,1);fe=g.default.attributes.diff(Ne,pt)||{}}}var Ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(V.index-Ye,Ye,k.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(V.index-Ye,Ye,fe,k.default.sources.USER),this.quill.focus()}}function F(V,$){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(V.index>=this.quill.getLength()-Y)){var X={},ne=0,fe=this.quill.getLine(V.index),ge=s(fe,1),ve=ge[0];if($.offset>=ve.length()-1){var Ae=this.quill.getLine(V.index+1),Ne=s(Ae,1),pt=Ne[0];if(pt){var Ye=ve.formats(),J=this.quill.getFormat(V.index,1);X=g.default.attributes.diff(Ye,J)||{},ne=pt.length()}}this.quill.deleteText(V.index,Y,k.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index+ne-1,Y,X,k.default.sources.USER)}}function x(V){var $=this.quill.getLines(V),Y={};if($.length>1){var X=$[0].formats(),ne=$[$.length-1].formats();Y=g.default.attributes.diff(ne,X)||{}}this.quill.deleteText(V,k.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(V.index,1,Y,k.default.sources.USER),this.quill.setSelection(V.index,k.default.sources.SILENT),this.quill.focus()}function M(V,$){var Y=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var X=Object.keys($.format).reduce(function(ne,fe){return v.default.query(fe,v.default.Scope.BLOCK)&&!Array.isArray($.format[fe])&&(ne[fe]=$.format[fe]),ne},{});this.quill.insertText(V.index,`
`,X,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(ne){X[ne]==null&&(Array.isArray($.format[ne])||ne!=="link"&&Y.quill.format(ne,$.format[ne],k.default.sources.USER))})}function B(V){return{key:W.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(Y){var X=v.default.query("code-block"),ne=Y.index,fe=Y.length,ge=this.quill.scroll.descendant(X,ne),ve=s(ge,2),Ae=ve[0],Ne=ve[1];if(Ae!=null){var pt=this.quill.getIndex(Ae),Ye=Ae.newlineIndex(Ne,!0)+1,J=Ae.newlineIndex(pt+Ne+fe),ee=Ae.domNode.textContent.slice(Ye,J).split(`
`);Ne=0,ee.forEach(function(ue,ce){V?(Ae.insertAt(Ye+Ne,X.TAB),Ne+=X.TAB.length,ce===0?ne+=X.TAB.length:fe+=X.TAB.length):ue.startsWith(X.TAB)&&(Ae.deleteAt(Ye+Ne,X.TAB.length),Ne-=X.TAB.length,ce===0?ne-=X.TAB.length:fe-=X.TAB.length),Ne+=ue.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(ne,fe,k.default.sources.SILENT)}}}}function K(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(V,!X.format[V],k.default.sources.USER)}}}function z(V){if(typeof V=="string"||typeof V=="number")return z({key:V});if((typeof V>"u"?"undefined":o(V))==="object"&&(V=(0,c.default)(V,!1)),typeof V.key=="string")if(W.keys[V.key.toUpperCase()]!=null)V.key=W.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[H]=V.shortKey,delete V.shortKey),V}r.default=W,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(m,v){var y=[],k=!0,C=!1,A=void 0;try{for(var T=m[Symbol.iterator](),O;!(k=(O=T.next()).done)&&(y.push(O.value),!(v&&y.length===v));k=!0);}catch(I){C=!0,A=I}finally{try{!k&&T.return&&T.return()}finally{if(C)throw A}}return y}return function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(y)}},a=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),l=i(0),c=f(l),d=i(7),h=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function _(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function E(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var w=function(g){E(m,g),a(m,null,[{key:"value",value:function(){}}]);function m(v,y){p(this,m);var k=_(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return k.selection=y,k.textNode=document.createTextNode(m.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,k);for(var C=this,A=0;C!=null&&C.statics.scope!==c.default.Scope.BLOCK_BLOT;)A+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=m.CONTENTS.length,C.optimize(),C.formatAt(A,m.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),C=void 0,A=void 0,T=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var O=[y,k.start.offset,k.end.offset];C=O[0],A=O[1],T=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var I=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(C=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=m.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var S=[A,T].map(function(P){return Math.max(0,Math.min(C.data.length,P-1))}),R=o(S,2);return A=R[0],T=R[1],{startNode:C,startOffset:A,endNode:C,endOffset:T}}}}},{key:"update",value:function(y,k){var C=this;if(y.some(function(T){return T.type==="characterData"&&T.target===C.textNode})){var A=this.restore();A&&(k.range=A)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=c(o),a=i(4),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(s.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function h(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function f(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var p=function(w){f(g,w);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(v){var y=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),_=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),E=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=_,r.ColorStyle=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function E(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&E(w.prototype,g),m&&E(w,m),w}}(),s=function E(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:E(y,g,m)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(m)}},a=i(6),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function h(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function f(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var p=function(E){f(w,E);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(m,v){if(m!==this.statics.blotName||!v)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,m,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(m){var v=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,m);return m=this.sanitize(m),v.setAttribute("href",m),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return _(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(E,w){var g=document.createElement("a");g.href=E;var m=g.href.slice(0,g.href.indexOf(":"));return w.indexOf(m)>-1}r.default=p,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),a=i(23),l=h(a),c=i(107),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function _(w,g){w.setAttribute(g,w.getAttribute(g)!=="true")}var E=function(){function w(g){var m=this;f(this,w),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),m.hasAttribute("value")&&y.setAttribute("data-value",m.getAttribute("value")),m.textContent&&y.setAttribute("data-label",m.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:v.selectItem(y,!0),k.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=d.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var k=m.buildItem(y);v.appendChild(k),y.selected===!0&&m.selectItem(k)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(v){m.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(m!==y&&(y!=null&&y.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),w}();r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),c=i(4),d=U(c),h=i(16),f=U(h),p=i(25),_=U(p),E=i(24),w=U(E),g=i(35),m=U(g),v=i(6),y=U(v),k=i(22),C=U(k),A=i(7),T=U(A),O=i(55),I=U(O),S=i(42),R=U(S),P=i(23),L=U(P);function U(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":d.default,"blots/block/embed":c.BlockEmbed,"blots/break":f.default,"blots/container":_.default,"blots/cursor":w.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":C.default,"blots/text":T.default,"modules/clipboard":I.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(d.default,f.default,w.default,y.default,C.default,T.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,c){var d=this.isolate(l,c);d.remove()},a.prototype.formatAt=function(l,c,d,h){var f=this.isolate(l,c);if(o.query(d,o.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);f.wrap(p),p.format(d,h)}},a.prototype.insertAt=function(l,c,d){var h=d==null?o.create("text",c):o.create(c,d),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,c),c!=null&&(d=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var d=this.split(l);return d.split(c),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return d.replace(this),d},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var d=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),c=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),p=s.default.keys(this.domNode),_=a.default.keys(this.domNode);f.concat(p).concat(_).forEach(function(E){var w=l.query(E,l.Scope.ATTRIBUTE);w instanceof o.default&&(h.attributes[w.attrName]=w)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(p){var _=f.attributes[p].value(f.domNode);h.format(p,_)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=h.attributes[p].value(h.domNode),f},{})},d}();r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c,d){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c){var d=c.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){s(this,l),this.quill=c,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=h(a),c=i(7),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var E="\uFEFF",w=function(g){_(m,g);function m(v){f(this,m);var y=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(E),y.rightGuard=document.createTextNode(E),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(m,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,C=void 0,A=y.data.split(E).join("");if(y===this.leftGuard)if(this.prev instanceof d.default){var T=this.prev.length();this.prev.insertAt(T,A),k={startNode:this.prev.domNode,startOffset:T+A.length}}else C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this),k={startNode:C,startOffset:A.length};else y===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,A),k={startNode:this.next.domNode,startOffset:A.length}):(C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this.next),k={startNode:C,startOffset:A.length}));return y.data=E,k}},{key:"update",value:function(y,k){var C=this;y.forEach(function(A){if(A.type==="characterData"&&(A.target===C.leftGuard||A.target===C.rightGuard)){var T=C.restore(A.target);T&&(k.range=T)}})}}]),m}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=d,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=d,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(m,v){for(var y=0;y<v.length;y++){var k=v[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,v,y){return v&&g(m.prototype,v),y&&g(m,y),m}}(),s=function g(m,v,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,v);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,v,y)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new l.default.Attributor.Class("font","ql-font",p),E=function(g){f(m,g);function m(){return d(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(y){return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),w=new E("font","font-family",p);r.FontStyle=w,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function v(y,k){for(var C=0;C<k.length;C++){var A=k[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,k,C){return k&&v(y.prototype,k),C&&v(y,C),y}}(),s=i(0),a=f(s),l=i(5),c=f(l),d=i(9),h=f(d);function f(v){return v&&v.__esModule?v:{default:v}}function p(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function _(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function E(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var w=function(v){E(y,v);function y(k,C){p(this,y);var A=_(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,C));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(c.default.events.EDITOR_CHANGE,function(T,O,I,S){T!==c.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||S===c.default.sources.USER?A.record(O,I):A.transform(O))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(y,[{key:"change",value:function(C,A){if(this.stack[C].length!==0){var T=this.stack[C].pop();this.stack[A].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[C],c.default.sources.USER),this.ignoreChange=!1;var O=m(T[C]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,A){if(C.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(A),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var I=this.stack.undo.pop();T=T.compose(I.undo),C=I.redo.compose(C)}else this.lastRecorded=O;this.stack.undo.push({redo:C,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function m(v){var y=v.reduce(function(C,A){return C+=A.delete||0,C},0),k=v.length()-y;return g(v)&&(k-=1),k}r.default=w,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(B,K){for(var z=0;z<K.length;z++){var V=K[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,K,z){return K&&M(B.prototype,K),z&&M(B,z),B}}(),s=function M(B,K,z){B===null&&(B=Function.prototype);var V=Object.getOwnPropertyDescriptor(B,K);if(V===void 0){var $=Object.getPrototypeOf(B);return $===null?void 0:M($,K,z)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call(z)}},a=i(3),l=O(a),c=i(2),d=O(c),h=i(8),f=O(h),p=i(23),_=O(p),E=i(34),w=O(E),g=i(59),m=O(g),v=i(60),y=O(v),k=i(28),C=O(k),A=i(61),T=O(A);function O(M){return M&&M.__esModule?M:{default:M}}function I(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}function S(M,B){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:M}function R(M,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(M,B):M.__proto__=B)}var P=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],H=["1","2","3",!1],W=["small",!1,"large","huge"],Q=function(M){R(B,M);function B(K,z){I(this,B);var V=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,z)),$=function Y(X){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Y);V.tooltip!=null&&!V.tooltip.root.contains(X.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ne){ne.container.contains(X.target)||ne.close()})};return K.emitter.listenDOM("click",document.body,$),V}return o(B,[{key:"addModule",value:function(z){var V=s(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(z,V){z.forEach(function($){var Y=$.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")$.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")$.innerHTML=V[X];else{var ne=$.value||"";ne!=null&&V[X][ne]&&($.innerHTML=V[X][ne])}})})}},{key:"buildPickers",value:function(z,V){var $=this;this.pickers=z.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&x(X,P),new y.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ne=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&x(X,L,ne==="background"?"#ffffff":"#000000"),new m.default(X,V[ne])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?x(X,U):X.classList.contains("ql-header")?x(X,H):X.classList.contains("ql-size")&&x(X,W)),new C.default(X)});var Y=function(){$.pickers.forEach(function(ne){ne.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Y)}}]),B}(w.default);Q.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(V){var $=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain($.index).delete($.length).insert({image:V.target.result}),f.default.sources.USER),B.quill.setSelection($.index+1,f.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(M){R(B,M);function B(K,z){I(this,B);var V=S(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,K,z));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return o(B,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(V){_.default.match(V,"enter")?(z.save(),V.preventDefault()):_.default.match(V,"escape")&&(z.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":z=F(z);case"formula":{if(!z)break;var $=this.quill.getSelection(!0);if($!=null){var Y=$.index+$.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),z,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",f.default.sources.USER),this.quill.setSelection(Y+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(T.default);function F(M){var B=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":M}function x(M,B){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(z){var V=document.createElement("option");z===K?V.setAttribute("selected","selected"):V.setAttribute("value",z),M.appendChild(V)})}r.BaseTooltip=q,r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,d=this.iterator();c=d();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},s.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var d=this.find(a),h=d[0],f=d[1],p,_=a-f,E=this.iterator(h);(p=E())&&_<a+l;){var w=p.length();a>_?c(p,a-_,Math.min(l,_+w-a)):c(p,0,Math.min(w,a+l-_)),_+=w}},s.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},s.prototype.reduce=function(a,l){for(var c,d=this.iterator();c=d();)l=a(l,c);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var _ in p)p.hasOwnProperty(_)&&(f[_]=p[_])};return function(f,p){h(f,p);function _(){this.constructor=f}f.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,d=function(h){o(f,h);function f(p){var _=h.call(this,p)||this;return _.scroll=_,_.observer=new MutationObserver(function(E){_.update(E)}),_.observer.observe(_.domNode,l),_.attach(),_}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,_){this.update(),p===0&&_===this.length()?this.children.forEach(function(E){E.remove()}):h.prototype.deleteAt.call(this,p,_)},f.prototype.formatAt=function(p,_,E,w){this.update(),h.prototype.formatAt.call(this,p,_,E,w)},f.prototype.insertAt=function(p,_,E){this.update(),h.prototype.insertAt.call(this,p,_,E)},f.prototype.optimize=function(p,_){var E=this;p===void 0&&(p=[]),_===void 0&&(_={}),h.prototype.optimize.call(this,_);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var g=function(k,C){C===void 0&&(C=!0),!(k==null||k===E)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),C&&g(k.parent))},m=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(m),k.optimize(_))},v=p,y=0;v.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(k){var C=a.find(k.target,!0);C!=null&&(C.domNode===k.target&&(k.type==="childList"?(g(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(A){var T=a.find(A,!1);g(T,!1),T instanceof s.default&&T.children.forEach(function(O){g(O,!1)})})):k.type==="attributes"&&g(C.prev)),g(C))}),this.children.forEach(m),v=[].slice.call(this.observer.takeRecords()),w=v.slice();w.length>0;)p.push(w.pop())}},f.prototype.update=function(p,_){var E=this;_===void 0&&(_={}),p=p||this.observer.takeRecords(),p.map(function(w){var g=a.find(w.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[w],g):(g.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===E||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],_)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,_),this.optimize(p,_)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var c=function(d){o(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,p){var _=this;f===this.statics.blotName&&!p?(this.children.forEach(function(E){E instanceof s.default||(E=E.wrap(h.blotName,!0)),_.attributes.copy(E)}),this.unwrap()):d.prototype.format.call(this,f,p)},h.prototype.formatAt=function(f,p,_,E){if(this.formats()[_]!=null||a.query(_,a.Scope.ATTRIBUTE)){var w=this.isolate(f,p);w.format(_,E)}else d.prototype.formatAt.call(this,f,p,_,E)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var _=this.next;_ instanceof h&&_.prev===this&&l(p,_.formats())&&(_.moveChildren(this),_.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){var f=a.query(d.blotName).tagName;if(h.tagName!==f)return c.formats.call(this,h)},d.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):c.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,p,_){a.query(p,a.Scope.BLOCK)!=null?this.format(p,_):c.prototype.formatAt.call(this,h,f,p,_)},d.prototype.insertAt=function(h,f,p){if(p==null||a.query(f,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,f,p);else{var _=this.split(h),E=a.create(f,p);_.parent.insertBefore(E,_)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,f)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){l(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(d){},c.prototype.format=function(d,h){l.prototype.formatAt.call(this,0,this.length(),d,h)},c.prototype.formatAt=function(d,h,f,p){d===0&&h===this.length()?this.format(f,p):l.prototype.formatAt.call(this,d,h,f,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(c){o(d,c);function d(h){var f=c.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,p){p==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,f,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,f){var p=this;h.some(function(_){return _.type==="characterData"&&_.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var d=c.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,h=arguments[1],f,p=0;p<d;p++)if(f=c[p],l.call(h,f,p,c))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,k,C){if(y==k)return y?[[s,y]]:[];(C<0||y.length<C)&&(C=null);var A=h(y,k),T=y.substring(0,A);y=y.substring(A),k=k.substring(A),A=f(y,k);var O=y.substring(y.length-A);y=y.substring(0,y.length-A),k=k.substring(0,k.length-A);var I=l(y,k);return T&&I.unshift([s,T]),O&&I.push([s,O]),_(I),C!=null&&(I=g(I,C)),I=m(I),I}function l(y,k){var C;if(!y)return[[o,k]];if(!k)return[[i,y]];var A=y.length>k.length?y:k,T=y.length>k.length?k:y,O=A.indexOf(T);if(O!=-1)return C=[[o,A.substring(0,O)],[s,T],[o,A.substring(O+T.length)]],y.length>k.length&&(C[0][0]=C[2][0]=i),C;if(T.length==1)return[[i,y],[o,k]];var I=p(y,k);if(I){var S=I[0],R=I[1],P=I[2],L=I[3],U=I[4],H=a(S,P),W=a(R,L);return H.concat([[s,U]],W)}return c(y,k)}function c(y,k){for(var C=y.length,A=k.length,T=Math.ceil((C+A)/2),O=T,I=2*T,S=new Array(I),R=new Array(I),P=0;P<I;P++)S[P]=-1,R[P]=-1;S[O+1]=0,R[O+1]=0;for(var L=C-A,U=L%2!=0,H=0,W=0,Q=0,q=0,F=0;F<T;F++){for(var x=-F+H;x<=F-W;x+=2){var M=O+x,B;x==-F||x!=F&&S[M-1]<S[M+1]?B=S[M+1]:B=S[M-1]+1;for(var K=B-x;B<C&&K<A&&y.charAt(B)==k.charAt(K);)B++,K++;if(S[M]=B,B>C)W+=2;else if(K>A)H+=2;else if(U){var z=O+L-x;if(z>=0&&z<I&&R[z]!=-1){var V=C-R[z];if(B>=V)return d(y,k,B,K)}}}for(var $=-F+Q;$<=F-q;$+=2){var z=O+$,V;$==-F||$!=F&&R[z-1]<R[z+1]?V=R[z+1]:V=R[z-1]+1;for(var Y=V-$;V<C&&Y<A&&y.charAt(C-V-1)==k.charAt(A-Y-1);)V++,Y++;if(R[z]=V,V>C)q+=2;else if(Y>A)Q+=2;else if(!U){var M=O+L-$;if(M>=0&&M<I&&S[M]!=-1){var B=S[M],K=O+B-M;if(V=C-V,B>=V)return d(y,k,B,K)}}}}return[[i,y],[o,k]]}function d(y,k,C,A){var T=y.substring(0,C),O=k.substring(0,A),I=y.substring(C),S=k.substring(A),R=a(T,O),P=a(I,S);return R.concat(P)}function h(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var C=0,A=Math.min(y.length,k.length),T=A,O=0;C<T;)y.substring(O,T)==k.substring(O,T)?(C=T,O=C):A=T,T=Math.floor((A-C)/2+C);return T}function f(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var C=0,A=Math.min(y.length,k.length),T=A,O=0;C<T;)y.substring(y.length-T,y.length-O)==k.substring(k.length-T,k.length-O)?(C=T,O=C):A=T,T=Math.floor((A-C)/2+C);return T}function p(y,k){var C=y.length>k.length?y:k,A=y.length>k.length?k:y;if(C.length<4||A.length*2<C.length)return null;function T(W,Q,q){for(var F=W.substring(q,q+Math.floor(W.length/4)),x=-1,M="",B,K,z,V;(x=Q.indexOf(F,x+1))!=-1;){var $=h(W.substring(q),Q.substring(x)),Y=f(W.substring(0,q),Q.substring(0,x));M.length<Y+$&&(M=Q.substring(x-Y,x)+Q.substring(x,x+$),B=W.substring(0,q-Y),K=W.substring(q+$),z=Q.substring(0,x-Y),V=Q.substring(x+$))}return M.length*2>=W.length?[B,K,z,V,M]:null}var O=T(C,A,Math.ceil(C.length/4)),I=T(C,A,Math.ceil(C.length/2)),S;if(!O&&!I)return null;I?O?S=O[4].length>I[4].length?O:I:S=I:S=O;var R,P,L,U;y.length>k.length?(R=S[0],P=S[1],L=S[2],U=S[3]):(L=S[0],U=S[1],R=S[2],P=S[3]);var H=S[4];return[R,P,L,U,H]}function _(y){y.push([s,""]);for(var k=0,C=0,A=0,T="",O="",I;k<y.length;)switch(y[k][0]){case o:A++,O+=y[k][1],k++;break;case i:C++,T+=y[k][1],k++;break;case s:C+A>1?(C!==0&&A!==0&&(I=h(O,T),I!==0&&(k-C-A>0&&y[k-C-A-1][0]==s?y[k-C-A-1][1]+=O.substring(0,I):(y.splice(0,0,[s,O.substring(0,I)]),k++),O=O.substring(I),T=T.substring(I)),I=f(O,T),I!==0&&(y[k][1]=O.substring(O.length-I)+y[k][1],O=O.substring(0,O.length-I),T=T.substring(0,T.length-I))),C===0?y.splice(k-A,C+A,[o,O]):A===0?y.splice(k-C,C+A,[i,T]):y.splice(k-C-A,C+A,[i,T],[o,O]),k=k-C-A+(C?1:0)+(A?1:0)+1):k!==0&&y[k-1][0]==s?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,A=0,C=0,T="",O="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(k=1;k<y.length-1;)y[k-1][0]==s&&y[k+1][0]==s&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),S=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),S=!0)),k++;S&&_(y)}var E=a;E.INSERT=o,E.DELETE=i,E.EQUAL=s,n.exports=E;function w(y,k){if(k===0)return[s,y];for(var C=0,A=0;A<y.length;A++){var T=y[A];if(T[0]===i||T[0]===s){var O=C+T[1].length;if(k===O)return[A+1,y];if(k<O){y=y.slice();var I=k-C,S=[T[0],T[1].slice(0,I)],R=[T[0],T[1].slice(I)];return y.splice(A,1,S,R),[A+1,y]}else C=O}}throw new Error("cursor_pos is out of bounds!")}function g(y,k){var C=w(y,k),A=C[1],T=C[0],O=A[T],I=A[T+1];if(O==null)return y;if(O[0]!==s)return y;if(I!=null&&O[1]+I[1]===I[1]+O[1])return A.splice(T,2,I,O),v(A,T,2);if(I!=null&&I[1].indexOf(O[1])===0){A.splice(T,2,[I[0],O[1]],[0,O[1]]);var S=I[1].slice(O[1].length);return S.length>0&&A.splice(T+2,0,[I[0],S]),v(A,T,3)}else return y}function m(y){for(var k=!1,C=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},A=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},T=2;T<y.length;T+=1)y[T-2][0]===s&&A(y[T-2][1])&&y[T-1][0]===i&&C(y[T-1][1])&&y[T][0]===o&&C(y[T][1])&&(k=!0,y[T-1][1]=y[T-2][1].slice(-1)+y[T-1][1],y[T][1]=y[T-2][1].slice(-1)+y[T][1],y[T-2][1]=y[T-2][1].slice(0,-1));if(!k)return y;for(var O=[],T=0;T<y.length;T+=1)y[T][1].length>0&&O.push(y[T]);return O}function v(y,k,C){for(var A=k+C-1;A>=0&&A>=k-1;A--)if(A+1<y.length){var T=y[A],O=y[A+1];T[0]===O[1]&&y.splice(A,2,[T[0],T[1]+O[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)i.call(h,f)&&d.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d,h){var f=o?o+d:d,p=this._events[f];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var _=0,E=p.length,w=new Array(E);_<E;_++)w[_]=p[_].fn;return w},l.prototype.emit=function(d,h,f,p,_,E){var w=o?o+d:d;if(!this._events[w])return!1;var g=this._events[w],m=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,f),!0;case 4:return g.fn.call(g.context,h,f,p),!0;case 5:return g.fn.call(g.context,h,f,p,_),!0;case 6:return g.fn.call(g.context,h,f,p,_,E),!0}for(y=1,v=new Array(m-1);y<m;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var k=g.length,C;for(y=0;y<k;y++)switch(g[y].once&&this.removeListener(d,g[y].fn,void 0,!0),m){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,h);break;case 3:g[y].fn.call(g[y].context,h,f);break;case 4:g[y].fn.call(g[y].context,h,f,p);break;default:if(!v)for(C=1,v=new Array(m-1);C<m;C++)v[C-1]=arguments[C];g[y].fn.apply(g[y].context,v)}}return!0},l.prototype.on=function(d,h,f){var p=new a(h,f||this),_=o?o+d:d;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.once=function(d,h,f){var p=new a(h,f||this,!0),_=o?o+d:d;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},l.prototype.removeListener=function(d,h,f,p){var _=o?o+d:d;if(!this._events[_])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[_],this;var E=this._events[_];if(E.fn)E.fn===h&&(!p||E.once)&&(!f||E.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[_]);else{for(var w=0,g=[],m=E.length;w<m;w++)(E[w].fn!==h||p&&!E[w].once||f&&E[w].context!==f)&&g.push(E[w]);g.length?this._events[_]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[_]}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=o?o+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},s=function(){function J(ee,ue){var ce=[],re=!0,be=!1,we=void 0;try{for(var Te=ee[Symbol.iterator](),bt;!(re=(bt=Te.next()).done)&&(ce.push(bt.value),!(ue&&ce.length===ue));re=!0);}catch(Ve){be=!0,we=Ve}finally{try{!re&&Te.return&&Te.return()}finally{if(be)throw we}}return ce}return function(ee,ue){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return J(ee,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function J(ee,ue){for(var ce=0;ce<ue.length;ce++){var re=ue[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ee,re.key,re)}}return function(ee,ue,ce){return ue&&J(ee.prototype,ue),ce&&J(ee,ce),ee}}(),l=i(3),c=R(l),d=i(2),h=R(d),f=i(0),p=R(f),_=i(5),E=R(_),w=i(10),g=R(w),m=i(9),v=R(m),y=i(36),k=i(37),C=i(13),A=R(C),T=i(26),O=i(38),I=i(39),S=i(40);function R(J){return J&&J.__esModule?J:{default:J}}function P(J,ee,ue){return ee in J?Object.defineProperty(J,ee,{value:ue,enumerable:!0,configurable:!0,writable:!0}):J[ee]=ue,J}function L(J,ee){if(!(J instanceof ee))throw new TypeError("Cannot call a class as a function")}function U(J,ee){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:J}function H(J,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);J.prototype=Object.create(ee&&ee.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(J,ee):J.__proto__=ee)}var W=(0,g.default)("quill:clipboard"),Q="__ql-matcher",q=[[Node.TEXT_NODE,Ye],[Node.TEXT_NODE,Ae],["br",fe],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,pt],["li",ve],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ge]],F=[y.AlignAttribute,O.DirectionAttribute].reduce(function(J,ee){return J[ee.keyName]=ee,J},{}),x=[y.AlignStyle,k.BackgroundStyle,T.ColorStyle,O.DirectionStyle,I.FontStyle,S.SizeStyle].reduce(function(J,ee){return J[ee.keyName]=ee,J},{}),M=function(J){H(ee,J);function ee(ue,ce){L(this,ee);var re=U(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ue,ce));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],q.concat(re.options.matchers).forEach(function(be){var we=s(be,2),Te=we[0],bt=we[1];!ce.matchVisual&&bt===Ne||re.addMatcher(Te,bt)}),re}return a(ee,[{key:"addMatcher",value:function(ce,re){this.matchers.push([ce,re])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[A.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new h.default().insert(be,P({},A.default.blotName,re[A.default.blotName]))}var we=this.prepareMatching(),Te=s(we,2),bt=Te[0],Ve=Te[1],Se=$(this.container,bt,Ve);return z(Se,`
`)&&Se.ops[Se.ops.length-1].attributes==null&&(Se=Se.compose(new h.default().retain(Se.length()-1).delete(1))),W.log("convert",this.container.innerHTML,Se),this.container.innerHTML="",Se}},{key:"dangerouslyPasteHTML",value:function(ce,re){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),re),this.quill.setSelection(0,E.default.sources.SILENT);else{var we=this.convert(re);this.quill.updateContents(new h.default().retain(ce).concat(we),be),this.quill.setSelection(ce+we.length(),E.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var re=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),we=new h.default().retain(be.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(E.default.sources.SILENT),setTimeout(function(){we=we.concat(re.convert()).delete(be.length),re.quill.updateContents(we,E.default.sources.USER),re.quill.setSelection(we.length()-be.length,E.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Te,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,re=[],be=[];return this.matchers.forEach(function(we){var Te=s(we,2),bt=Te[0],Ve=Te[1];switch(bt){case Node.TEXT_NODE:be.push(Ve);break;case Node.ELEMENT_NODE:re.push(Ve);break;default:[].forEach.call(ce.container.querySelectorAll(bt),function(Se){Se[Q]=Se[Q]||[],Se[Q].push(Ve)});break}}),[re,be]}}]),ee}(v.default);M.DEFAULTS={matchers:[],matchVisual:!0};function B(J,ee,ue){return(typeof ee>"u"?"undefined":o(ee))==="object"?Object.keys(ee).reduce(function(ce,re){return B(ce,re,ee[re])},J):J.reduce(function(ce,re){return re.attributes&&re.attributes[ee]?ce.push(re):ce.insert(re.insert,(0,c.default)({},P({},ee,ue),re.attributes))},new h.default)}function K(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return J[ee]||(J[ee]=window.getComputedStyle(J))}function z(J,ee){for(var ue="",ce=J.ops.length-1;ce>=0&&ue.length<ee.length;--ce){var re=J.ops[ce];if(typeof re.insert!="string")break;ue=re.insert+ue}return ue.slice(-1*ee.length)===ee}function V(J){if(J.childNodes.length===0)return!1;var ee=K(J);return["block","list-item"].indexOf(ee.display)>-1}function $(J,ee,ue){return J.nodeType===J.TEXT_NODE?ue.reduce(function(ce,re){return re(J,ce)},new h.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(ce,re){var be=$(re,ee,ue);return re.nodeType===J.ELEMENT_NODE&&(be=ee.reduce(function(we,Te){return Te(re,we)},be),be=(re[Q]||[]).reduce(function(we,Te){return Te(re,we)},be)),ce.concat(be)},new h.default):new h.default}function Y(J,ee,ue){return B(ue,J,!0)}function X(J,ee){var ue=p.default.Attributor.Attribute.keys(J),ce=p.default.Attributor.Class.keys(J),re=p.default.Attributor.Style.keys(J),be={};return ue.concat(ce).concat(re).forEach(function(we){var Te=p.default.query(we,p.default.Scope.ATTRIBUTE);Te!=null&&(be[Te.attrName]=Te.value(J),be[Te.attrName])||(Te=F[we],Te!=null&&(Te.attrName===we||Te.keyName===we)&&(be[Te.attrName]=Te.value(J)||void 0),Te=x[we],Te!=null&&(Te.attrName===we||Te.keyName===we)&&(Te=x[we],be[Te.attrName]=Te.value(J)||void 0))}),Object.keys(be).length>0&&(ee=B(ee,be)),ee}function ne(J,ee){var ue=p.default.query(J);if(ue==null)return ee;if(ue.prototype instanceof p.default.Embed){var ce={},re=ue.value(J);re!=null&&(ce[ue.blotName]=re,ee=new h.default().insert(ce,ue.formats(J)))}else typeof ue.formats=="function"&&(ee=B(ee,ue.blotName,ue.formats(J)));return ee}function fe(J,ee){return z(ee,`
`)||ee.insert(`
`),ee}function ge(){return new h.default}function ve(J,ee){var ue=p.default.query(J);if(ue==null||ue.blotName!=="list-item"||!z(ee,`
`))return ee;for(var ce=-1,re=J.parentNode;!re.classList.contains("ql-clipboard");)(p.default.query(re)||{}).blotName==="list"&&(ce+=1),re=re.parentNode;return ce<=0?ee:ee.compose(new h.default().retain(ee.length()-1).retain(1,{indent:ce}))}function Ae(J,ee){return z(ee,`
`)||(V(J)||ee.length()>0&&J.nextSibling&&V(J.nextSibling))&&ee.insert(`
`),ee}function Ne(J,ee){if(V(J)&&J.nextElementSibling!=null&&!z(ee,`

`)){var ue=J.offsetHeight+parseFloat(K(J).marginTop)+parseFloat(K(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+ue*1.5&&ee.insert(`
`)}return ee}function pt(J,ee){var ue={},ce=J.style||{};return ce.fontStyle&&K(J).fontStyle==="italic"&&(ue.italic=!0),ce.fontWeight&&(K(J).fontWeight.startsWith("bold")||parseInt(K(J).fontWeight)>=700)&&(ue.bold=!0),Object.keys(ue).length>0&&(ee=B(ee,ue)),parseFloat(ce.textIndent||0)>0&&(ee=new h.default().insert("	").concat(ee)),ee}function Ye(J,ee){var ue=J.data;if(J.parentNode.tagName==="O:P")return ee.insert(ue.trim());if(ue.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return ee;if(!K(J.parentNode).whiteSpace.startsWith("pre")){var ce=function(be,we){return we=we.replace(/[^\u00a0]/g,""),we.length<1&&be?" ":we};ue=ue.replace(/\r\n/g," ").replace(/\n/g," "),ue=ue.replace(/\s\s+/g,ce.bind(ce,!0)),(J.previousSibling==null&&V(J.parentNode)||J.previousSibling!=null&&V(J.previousSibling))&&(ue=ue.replace(/^\s+/,ce.bind(ce,!1))),(J.nextSibling==null&&V(J.parentNode)||J.nextSibling!=null&&V(J.nextSibling))&&(ue=ue.replace(/\s+$/,ce.bind(ce,!1)))}return ee.insert(ue)}r.default=M,r.matchAttributor=X,r.matchBlot=ne,r.matchNewline=Ae,r.matchSpacing=Ne,r.matchText=Ye},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,w,g){return w&&_(E.prototype,w),g&&_(E,g),E}}(),s=function _(E,w,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,w);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:_(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"optimize",value:function(g){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),E}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(R,P){var L=[],U=!0,H=!1,W=void 0;try{for(var Q=R[Symbol.iterator](),q;!(U=(q=Q.next()).done)&&(L.push(q.value),!(P&&L.length===P));U=!0);}catch(F){H=!0,W=F}finally{try{!U&&Q.return&&Q.return()}finally{if(H)throw W}}return L}return function(R,P){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(R,P){for(var L=0;L<P.length;L++){var U=P[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,P,L){return P&&S(R.prototype,P),L&&S(R,L),R}}(),a=i(2),l=g(a),c=i(0),d=g(c),h=i(5),f=g(h),p=i(10),_=g(p),E=i(9),w=g(E);function g(S){return S&&S.__esModule?S:{default:S}}function m(S,R,P){return R in S?Object.defineProperty(S,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[R]=P,S}function v(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function y(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function k(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var C=(0,_.default)("quill:toolbar"),A=function(S){k(R,S);function R(P,L){v(this,R);var U=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,P,L));if(Array.isArray(U.options.container)){var H=document.createElement("div");O(H,U.options.container),P.container.parentNode.insertBefore(H,P.container),U.container=H}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var W;return W=C.error("Container required for toolbar",U.options),y(U,W)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(Q){U.addHandler(Q,U.options.handlers[Q])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(Q){U.attach(Q)}),U.quill.on(f.default.events.EDITOR_CHANGE,function(Q,q){Q===f.default.events.SELECTION_CHANGE&&U.update(q)}),U.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var Q=U.quill.selection.getRange(),q=o(Q,1),F=q[0];U.update(F)}),U}return s(R,[{key:"addHandler",value:function(L,U){this.handlers[L]=U}},{key:"attach",value:function(L){var U=this,H=[].find.call(L.classList,function(Q){return Q.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){C.warn("ignoring attaching to disabled format",H,L);return}if(d.default.query(H)==null){C.warn("ignoring attaching to nonexistent format",H,L);return}}var W=L.tagName==="SELECT"?"change":"click";L.addEventListener(W,function(Q){var q=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var F=L.options[L.selectedIndex];F.hasAttribute("selected")?q=!1:q=F.value||!1}else L.classList.contains("ql-active")?q=!1:q=L.value||!L.hasAttribute("value"),Q.preventDefault();U.quill.focus();var x=U.quill.selection.getRange(),M=o(x,1),B=M[0];if(U.handlers[H]!=null)U.handlers[H].call(U,q);else if(d.default.query(H).prototype instanceof d.default.Embed){if(q=prompt("Enter "+H),!q)return;U.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},H,q)),f.default.sources.USER)}else U.quill.format(H,q,f.default.sources.USER);U.update(B)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var U=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var W=o(H,2),Q=W[0],q=W[1];if(q.tagName==="SELECT"){var F=void 0;if(L==null)F=null;else if(U[Q]==null)F=q.querySelector("option[selected]");else if(!Array.isArray(U[Q])){var x=U[Q];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),F=q.querySelector('option[value="'+x+'"]')}F==null?(q.value="",q.selectedIndex=-1):F.selected=!0}else if(L==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var M=U[Q]===q.getAttribute("value")||U[Q]!=null&&U[Q].toString()===q.getAttribute("value")||U[Q]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",M)}else q.classList.toggle("ql-active",U[Q]!=null)})}}]),R}(w.default);A.DEFAULTS={};function T(S,R,P){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),P!=null&&(L.value=P),S.appendChild(L)}function O(S,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(P){var L=document.createElement("span");L.classList.add("ql-formats"),P.forEach(function(U){if(typeof U=="string")T(L,U);else{var H=Object.keys(U)[0],W=U[H];Array.isArray(W)?I(L,H,W):T(L,H,W)}}),S.appendChild(L)})}function I(S,R,P){var L=document.createElement("select");L.classList.add("ql-"+R),P.forEach(function(U){var H=document.createElement("option");U!==!1?H.setAttribute("value",U):H.setAttribute("selected","selected"),L.appendChild(H)}),S.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var R=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&R.quill.format(U,!1)})}else this.quill.removeFormat(P,f.default.sources.USER)},direction:function(R){var P=this.quill.getFormat().align;R==="rtl"&&P==null?this.quill.format("align","right",f.default.sources.USER):!R&&P==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",R,f.default.sources.USER)},indent:function(R){var P=this.quill.getSelection(),L=this.quill.getFormat(P),U=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var H=R==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",U+H,f.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,f.default.sources.USER)},list:function(R){var P=this.quill.getSelection(),L=this.quill.getFormat(P);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",R,f.default.sources.USER)}}},r.default=A,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,w,g){return w&&_(E.prototype,w),g&&_(E,g),E}}(),s=function _(E,w,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,w);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:_(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(w,g){d(this,E);var m=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),m}return o(E,[{key:"buildItem",value:function(g){var m=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,g,m);var v=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),E}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,w,g){return w&&_(E.prototype,w),g&&_(E,g),E}}(),s=function _(E,w,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,w);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:_(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(w,g){d(this,E);var m=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=g[v.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return o(E,[{key:"selectItem",value:function(g,m){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),E}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){var h=this;s(this,l),this.quill=c,this.boundsContainer=d||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),E=0;if(_.right>p.right&&(E=p.right-_.right,this.root.style.left=h+E+"px"),_.left<p.left&&(E=p.left-_.left,this.root.style.left=h+E+"px"),_.bottom>p.bottom){var w=_.bottom-_.top,g=d.bottom-d.top+w;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return E}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(S,R){var P=[],L=!0,U=!1,H=void 0;try{for(var W=S[Symbol.iterator](),Q;!(L=(Q=W.next()).done)&&(P.push(Q.value),!(R&&P.length===R));L=!0);}catch(q){U=!0,H=q}finally{try{!L&&W.return&&W.return()}finally{if(U)throw H}}return P}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return I(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function I(S,R,P){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:I(U,R,P)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(P)}},a=function(){function I(S,R){for(var P=0;P<R.length;P++){var L=R[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,P){return R&&I(S.prototype,R),P&&I(S,P),S}}(),l=i(3),c=v(l),d=i(8),h=v(d),f=i(43),p=v(f),_=i(27),E=v(_),w=i(15),g=i(41),m=v(g);function v(I){return I&&I.__esModule?I:{default:I}}function y(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}function k(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:I}function C(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(I){C(S,I);function S(R,P){y(this,S),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=A);var L=k(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,P));return L.quill.container.classList.add("ql-snow"),L}return a(S,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),m.default),this.tooltip=new O(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,U){P.handlers.link.call(P,!U.format.link)})}}]),S}(p.default);T.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var R=this.quill.getSelection();if(R==null||R.length==0)return;var P=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var L=this.quill.theme.tooltip;L.edit("link",P)}else this.quill.format("link",!1)}}}}});var O=function(I){C(S,I);function S(R,P){y(this,S);var L=k(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,P));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(S,[{key:"listen",value:function(){var P=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(P.linkRange!=null){var U=P.linkRange;P.restoreFocus(),P.quill.formatText(U,"link",!1,h.default.sources.USER),delete P.linkRange}L.preventDefault(),P.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(L,U,H){if(L!=null){if(L.length===0&&H===h.default.sources.USER){var W=P.quill.scroll.descendant(E.default,L.index),Q=o(W,2),q=Q[0],F=Q[1];if(q!=null){P.linkRange=new w.Range(L.index-F,q.length());var x=E.default.formats(q.domNode);P.preview.textContent=x,P.preview.setAttribute("href",x),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(f.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=re(o),a=i(36),l=i(38),c=i(64),d=i(65),h=re(d),f=i(66),p=re(f),_=i(67),E=re(_),w=i(37),g=i(26),m=i(39),v=i(40),y=i(56),k=re(y),C=i(68),A=re(C),T=i(27),O=re(T),I=i(69),S=re(I),R=i(70),P=re(R),L=i(71),U=re(L),H=i(72),W=re(H),Q=i(73),q=re(Q),F=i(13),x=re(F),M=i(74),B=re(M),K=i(75),z=re(K),V=i(57),$=re(V),Y=i(41),X=re(Y),ne=i(28),fe=re(ne),ge=i(59),ve=re(ge),Ae=i(60),Ne=re(Ae),pt=i(61),Ye=re(pt),J=i(108),ee=re(J),ue=i(62),ce=re(ue);function re(be){return be&&be.__esModule?be:{default:be}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":v.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":v.SizeClass,"formats/blockquote":h.default,"formats/code-block":x.default,"formats/header":p.default,"formats/list":E.default,"formats/bold":k.default,"formats/code":F.Code,"formats/italic":A.default,"formats/link":O.default,"formats/script":S.default,"formats/strike":P.default,"formats/underline":U.default,"formats/image":W.default,"formats/video":q.default,"formats/list/item":_.ListItem,"modules/formula":B.default,"modules/syntax":z.default,"modules/toolbar":$.default,"themes/bubble":ee.default,"themes/snow":ce.default,"ui/icons":X.default,"ui/picker":fe.default,"ui/icon-picker":Ne.default,"ui/color-picker":ve.default,"ui/tooltip":Ye.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function E(w,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(w,v.key,v)}}return function(w,g,m){return g&&E(w.prototype,g),m&&E(w,m),w}}(),s=function E(w,g,m){w===null&&(w=Function.prototype);var v=Object.getOwnPropertyDescriptor(w,g);if(v===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:E(y,g,m)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function h(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function f(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var p=function(E){f(w,E);function w(){return d(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(m,v){if(v==="+1"||v==="-1"){var y=this.value(m)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(m),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,m,v)}},{key:"canAdd",value:function(m,v){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,v)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,m,parseInt(v))}},{key:"value",value:function(m){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,m))||void 0}}]),w}(l.default.Attributor.Class),_=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(_,E){for(var w=0;w<E.length;w++){var g=E[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,E,w){return E&&p(_.prototype,E),w&&p(_,w),_}}(),s=i(4),a=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function h(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var f=function(p){h(_,p);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),_}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(k,C){for(var A=0;A<C.length;A++){var T=C[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,C,A){return C&&y(k.prototype,C),A&&y(k,A),k}}(),s=function y(k,C,A){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,C);if(T===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:y(O,C,A)}else{if("value"in T)return T.value;var I=T.get;return I===void 0?void 0:I.call(A)}},a=i(0),l=p(a),c=i(4),d=p(c),h=i(25),f=p(h);function p(y){return y&&y.__esModule?y:{default:y}}function _(y,k,C){return k in y?Object.defineProperty(y,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[k]=C,y}function E(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function w(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function g(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var m=function(y){g(k,y);function k(){return E(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(A,T){A===v.blotName&&!T?this.replaceWith(l.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,A,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,T){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,T),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,A,T))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,A)}}]),k}(d.default);m.blotName="list-item",m.tagName="LI";var v=function(y){g(k,y),o(k,null,[{key:"create",value:function(A){var T=A==="ordered"?"OL":"UL",O=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,T);return(A==="checked"||A==="unchecked")&&O.setAttribute("data-checked",A==="checked"),O}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(C){E(this,k);var A=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C)),T=function(I){if(I.target.parentNode===C){var S=A.statics.formats(C),R=l.default.find(I.target);S==="checked"?R.format("list","unchecked"):S==="unchecked"&&R.format("list","checked")}};return C.addEventListener("touchstart",T),C.addEventListener("mousedown",T),A}return o(k,[{key:"format",value:function(A,T){this.children.length>0&&this.children.tail.format(A,T)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,T){if(A instanceof m)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,A,T);else{var O=T==null?this.length():T.offset(this),I=this.split(O);I.parent.insertBefore(A,I)}}},{key:"optimize",value:function(A){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var T=l.default.create(this.statics.defaultChild);A.moveChildren(T),this.appendChild(T)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,A)}}]),k}(f.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[m],r.ListItem=m,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(E,w){for(var g=0;g<w.length;g++){var m=w[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,w,g){return w&&_(E.prototype,w),g&&_(E,g),E}}(),s=function _(E,w,g){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,w);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:_(v,w,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function h(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function f(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var p=function(_){f(E,_);function E(){return d(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),E}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(0),l=d(a),c=i(27);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var _=["alt","height","width"],E=function(w){p(g,w);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(v,y){_.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return _.reduce(function(y,k){return v.hasAttribute(k)&&(y[k]=v.getAttribute(k)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,c.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(l.default.Embed);E.blotName="image",E.tagName="IMG",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,v){return m&&w(g.prototype,m),v&&w(g,v),g}}(),s=function w(g,m,v){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,m,v)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(v)}},a=i(4),l=i(27),c=d(l);function d(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function f(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function p(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var _=["height","width"],E=function(w){p(g,w);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(v,y){_.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return _.reduce(function(y,k){return v.hasAttribute(k)&&(y[k]=v.getAttribute(k)),y},{})}},{key:"sanitize",value:function(v){return c.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),g}(a.BlockEmbed);E.blotName="video",E.className="ql-video",E.tagName="IFRAME",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function v(y,k){for(var C=0;C<k.length;C++){var A=k[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,k,C){return k&&v(y.prototype,k),C&&v(y,C),y}}(),s=function v(y,k,C){y===null&&(y=Function.prototype);var A=Object.getOwnPropertyDescriptor(y,k);if(A===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:v(T,k,C)}else{if("value"in A)return A.value;var O=A.get;return O===void 0?void 0:O.call(C)}},a=i(35),l=p(a),c=i(5),d=p(c),h=i(9),f=p(h);function p(v){return v&&v.__esModule?v:{default:v}}function _(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function E(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function w(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g=function(v){w(y,v);function y(){return _(this,y),E(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(C){var A=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",C)),A}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(v){w(y,v),o(y,null,[{key:"register",value:function(){d.default.register(g,!0)}}]);function y(){_(this,y);var k=E(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(f.default);r.FormulaBlot=g,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function C(A,T){for(var O=0;O<T.length;O++){var I=T[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,T,O){return T&&C(A.prototype,T),O&&C(A,O),A}}(),s=function C(A,T,O){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,T);if(I===void 0){var S=Object.getPrototypeOf(A);return S===null?void 0:C(S,T,O)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=E(a),c=i(5),d=E(c),h=i(9),f=E(h),p=i(13),_=E(p);function E(C){return C&&C.__esModule?C:{default:C}}function w(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function g(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function m(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var v=function(C){m(A,C);function A(){return w(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),A}(_.default);v.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(C){m(A,C),o(A,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(v,!0)}}]);function A(T,O){w(this,A);var I=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,O));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return I.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){I.highlight(),S=null},I.options.interval)}),I.highlight(),I}return o(A,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(S){S.highlight(O.options.highlight)}),this.quill.update(d.default.sources.SILENT),I!=null&&this.quill.setSelection(I,d.default.sources.SILENT)}}}]),A}(f.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var A=window.hljs.highlightAuto(C);return A.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=y,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(T,O,I){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,O);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:A(R,O,I)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(I)}},s=function(){function A(T,O){for(var I=0;I<O.length;I++){var S=O[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,O,I){return O&&A(T.prototype,O),I&&A(T,I),T}}(),a=i(3),l=w(a),c=i(8),d=w(c),h=i(43),f=w(h),p=i(15),_=i(41),E=w(_);function w(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function m(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function v(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(A){v(T,A);function T(O,I){g(this,T),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=y);var S=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,I));return S.quill.container.classList.add("ql-bubble"),S}return s(T,[{key:"extendToolbar",value:function(I){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),E.default)}}]),T}(f.default);k.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(A){v(T,A);function T(O,I){g(this,T);var S=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O,I));return S.quill.on(d.default.events.EDITOR_CHANGE,function(R,P,L,U){if(R===d.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&U===d.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var H=S.quill.getLines(P.index,P.length);if(H.length===1)S.position(S.quill.getBounds(P));else{var W=H[H.length-1],Q=S.quill.getIndex(W),q=Math.min(W.length()-1,P.index+P.length-Q),F=S.quill.getBounds(new p.Range(Q,q));S.position(F)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(T,[{key:"listen",value:function(){var I=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var S=I.quill.getSelection();S!=null&&I.position(I.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var S=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,I),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",S===0)return S;R.style.marginLeft=-1*S-R.offsetWidth/2+"px"}}]),T}(h.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(Uw);var ZM=Uw.exports,JM=Yt&&Yt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=Yt&&Yt.__assign||function(){return mu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mu.apply(this,arguments)},e3=Yt&&Yt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},uc=Yt&&Yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Pn=uc(le),t3=uc(g1),ns=uc(XM),Iv=uc(ZM),n3=function(t){JM(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var c,d,h,f;o==="text-change"?(d=(c=r).onEditorChangeText)===null||d===void 0||d.call(c,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Pn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Pn.default.Children.count(n.children)){var i=Pn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),e3(this.cleanProps,this.dirtyProps).some(function(l){return!ns.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ns.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),kv(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new Iv.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ns.default(n.ops,r.ops):ns.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),kv(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=t3.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Pn.default.Children.count(i)?Pn.default.cloneElement(Pn.default.Children.only(i),a):o?Pn.default.createElement("pre",mu({},a)):Pn.default.createElement("div",mu({},a))},e.prototype.render=function(){var n;return Pn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,c,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,p=h&&!n;ns.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((d=(c=this.props).onBlur)===null||d===void 0||d.call(c,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Iv.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Pn.default.Component);function kv(t){Promise.resolve().then(t)}var r3=n3;const i3=n_(r3);const o3=()=>{const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,o]=le.useState(null),s=Zd(),a=async d=>{if(d.preventDefault(),t&&n)try{console.log("Form Data:",{title:t,body:n,file:i});let h=null;i&&(h=await c(i),console.log("Uploaded Image URL:",h));const f={title:t,body:n,imageUrl:h,createdAt:new Date};console.log("New Post:",f);const p=Ju(Io,"posts");await lw(p,f),s("/posts")}catch(h){console.error("Error adding post: ",h)}},l=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&o(h)},c=async d=>{const h=yN(bN,`images/${d.name}`);return await mN(h,d),await gN(h)};return se("section",{children:[j("h2",{children:"Add a New Post"}),se("form",{onSubmit:a,children:[se("div",{children:[j("label",{htmlFor:"title",children:"Post Title"}),j("input",{type:"text",id:"title",value:t,onChange:d=>e(d.target.value),required:!0})]}),se("div",{children:[j("label",{htmlFor:"body",children:"Post Body"}),j(i3,{value:n,onChange:r,placeholder:"Write your post content here..."})]}),se("div",{children:[j("label",{htmlFor:"file",children:"Upload Image"}),j("input",{type:"file",id:"file",accept:"image/*",onChange:l})]}),j("button",{type:"submit",children:"Add Post"})]})]})};var qw={exports:{}},$w={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=le;function s3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a3=typeof Object.is=="function"?Object.is:s3,l3=ma.useSyncExternalStore,u3=ma.useRef,c3=ma.useEffect,f3=ma.useMemo,h3=ma.useDebugValue;$w.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=u3(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=f3(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&s.hasValue){var _=s.value;if(i(_,p))return h=_}return h=p}if(_=h,a3(d,p))return _;var E=r(p);return i!==void 0&&i(_,E)?_:(d=p,h=E)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=l3(t,o[0],o[1]);return c3(function(){s.hasValue=!0,s.value=a},[a]),h3(a),a};qw.exports=$w;var d3=qw.exports,en="default"in If?d_:If,Pv=Symbol.for("react-redux-context"),Rv=typeof globalThis<"u"?globalThis:{};function p3(){if(!en.createContext)return{};const t=Rv[Pv]??(Rv[Pv]=new Map);let e=t.get(en.createContext);return e||(e=en.createContext(null),t.set(en.createContext,e)),e}var Fr=p3(),m3=()=>{throw new Error("uSES not initialized!")};function jp(t=Fr){return function(){return en.useContext(t)}}var zw=jp(),Hw=m3,g3=t=>{Hw=t},y3=(t,e)=>t===e;function v3(t=Fr){const e=t===Fr?zw:jp(t),n=(r,i={})=>{const{equalityFn:o=y3,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:h}=e();en.useRef(!0);const f=en.useCallback({[r.name](_){return r(_)}}[r.name],[r,d,s.stabilityCheck]),p=Hw(l.addNestedSub,a.getState,c||a.getState,f,o);return en.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var _3=v3();function E3(t){t()}function w3(){let t=null,e=null;return{clear(){t=null,e=null},notify(){E3(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ov={notify(){},get:()=>[]};function T3(t,e){let n,r=Ov,i=0,o=!1;function s(E){d();const w=r.subscribe(E);let g=!1;return()=>{g||(g=!0,w(),h())}}function a(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function c(){return o}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=w3())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ov)}function f(){o||(o=!0,d())}function p(){o&&(o=!1,h())}const _={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return _}var b3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A3=typeof navigator<"u"&&navigator.product==="ReactNative",S3=b3||A3?en.useLayoutEffect:en.useEffect;function I3({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=en.useMemo(()=>{const c=T3(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[t,r,i,o]),a=en.useMemo(()=>t.getState(),[t]);S3(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||Fr;return en.createElement(l.Provider,{value:s},n)}var k3=I3;function Ww(t=Fr){const e=t===Fr?zw:jp(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var P3=Ww();function R3(t=Fr){const e=t===Fr?P3:Ww(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Kw=R3();g3(d3.useSyncExternalStoreWithSelector);function gt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var O3=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Nv=O3,Ef=()=>Math.random().toString(36).substring(7).split("").join("."),N3={INIT:`@@redux/INIT${Ef()}`,REPLACE:`@@redux/REPLACE${Ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ef()}`},gu=N3;function Bp(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Gw(t,e,n){if(typeof t!="function")throw new Error(gt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gt(1));return n(Gw)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((w,g)=>{s.set(g,w)}))}function d(){if(l)throw new Error(gt(3));return i}function h(w){if(typeof w!="function")throw new Error(gt(4));if(l)throw new Error(gt(5));let g=!0;c();const m=a++;return s.set(m,w),function(){if(g){if(l)throw new Error(gt(6));g=!1,c(),s.delete(m),o=null}}}function f(w){if(!Bp(w))throw new Error(gt(7));if(typeof w.type>"u")throw new Error(gt(8));if(typeof w.type!="string")throw new Error(gt(17));if(l)throw new Error(gt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(o=s).forEach(m=>{m()}),w}function p(w){if(typeof w!="function")throw new Error(gt(10));r=w,f({type:gu.REPLACE})}function _(){const w=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(gt(11));function m(){const y=g;y.next&&y.next(d())}return m(),{unsubscribe:w(m)}},[Nv](){return this}}}return f({type:gu.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[Nv]:_}}function C3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:gu.INIT})>"u")throw new Error(gt(12));if(typeof n(void 0,{type:gu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gt(13))})}function x3(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{C3(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],p=s[h],_=f(p,a);if(typeof _>"u")throw a&&a.type,new Error(gt(14));c[h]=_,l=l||_!==p}return l=l||r.length!==Object.keys(s).length,l?c:s}}function yu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function D3(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(gt(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=t.map(l=>l(s));return o=yu(...a)(i.dispatch),{...i,dispatch:o}}}function L3(t){return Bp(t)&&"type"in t&&typeof t.type=="string"}var Qw=Symbol.for("immer-nothing"),Cv=Symbol.for("immer-draftable"),rn=Symbol.for("immer-state");function Tn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yo=Object.getPrototypeOf;function gi(t){return!!t&&!!t[rn]}function er(t){var e;return t?Yw(t)||Array.isArray(t)||!!t[Cv]||!!((e=t.constructor)!=null&&e[Cv])||fc(t)||hc(t):!1}var M3=Object.prototype.constructor.toString();function Yw(t){if(!t||typeof t!="object")return!1;const e=yo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===M3}function vu(t,e){cc(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function cc(t){const e=t[rn];return e?e.type_:Array.isArray(t)?1:fc(t)?2:hc(t)?3:0}function Qh(t,e){return cc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Xw(t,e,n){const r=cc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function V3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fc(t){return t instanceof Map}function hc(t){return t instanceof Set}function Jr(t){return t.copy_||t.base_}function Yh(t,e){if(fc(t))return new Map(t);if(hc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Yw(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[rn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(yo(t),r)}else{const r=yo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Up(t,e=!1){return dc(t)||gi(t)||!er(t)||(cc(t)>1&&(t.set=t.add=t.clear=t.delete=F3),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Up(r,!0))),t}function F3(){Tn(2)}function dc(t){return Object.isFrozen(t)}var j3={};function yi(t){const e=j3[t];return e||Tn(0,t),e}var na;function Zw(){return na}function B3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xv(t,e){e&&(yi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xh(t){Zh(t),t.drafts_.forEach(U3),t.drafts_=null}function Zh(t){t===na&&(na=t.parent_)}function Dv(t){return na=B3(na,t)}function U3(t){const e=t[rn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Lv(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[rn].modified_&&(Xh(e),Tn(4)),er(t)&&(t=_u(e,t),e.parent_||Eu(e,t)),e.patches_&&yi("Patches").generateReplacementPatches_(n[rn].base_,t,e.patches_,e.inversePatches_)):t=_u(e,n,[]),Xh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Qw?t:void 0}function _u(t,e,n){if(dc(e))return e;const r=e[rn];if(!r)return vu(e,(i,o)=>Mv(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Eu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),vu(o,(a,l)=>Mv(t,r,i,a,l,n,s)),Eu(t,i,!1),n&&t.patches_&&yi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Mv(t,e,n,r,i,o,s){if(gi(i)){const a=o&&e&&e.type_!==3&&!Qh(e.assigned_,r)?o.concat(r):void 0,l=_u(t,i,a);if(Xw(n,r,l),gi(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(er(i)&&!dc(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;_u(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Eu(t,i)}}function Eu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Up(e,n)}function q3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Zw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=qp;n&&(i=[r],o=ra);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var qp={get(t,e){if(e===rn)return t;const n=Jr(t);if(!Qh(n,e))return $3(t,n,e);const r=n[e];return t.finalized_||!er(r)?r:r===wf(t.base_,e)?(Tf(t),t.copy_[e]=ed(r,t)):r},has(t,e){return e in Jr(t)},ownKeys(t){return Reflect.ownKeys(Jr(t))},set(t,e,n){const r=Jw(Jr(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=wf(Jr(t),e),o=i==null?void 0:i[rn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(V3(n,i)&&(n!==void 0||Qh(t.base_,e)))return!0;Tf(t),Jh(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return wf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Tf(t),Jh(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Tn(11)},getPrototypeOf(t){return yo(t.base_)},setPrototypeOf(){Tn(12)}},ra={};vu(qp,(t,e)=>{ra[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ra.deleteProperty=function(t,e){return ra.set.call(this,t,e,void 0)};ra.set=function(t,e,n){return qp.set.call(this,t[0],e,n,t[0])};function wf(t,e){const n=t[rn];return(n?Jr(n):t)[e]}function $3(t,e,n){var i;const r=Jw(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Jw(t,e){if(!(e in t))return;let n=yo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=yo(n)}}function Jh(t){t.modified_||(t.modified_=!0,t.parent_&&Jh(t.parent_))}function Tf(t){t.copy_||(t.copy_=Yh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var z3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Tn(6),r!==void 0&&typeof r!="function"&&Tn(7);let i;if(er(e)){const o=Dv(this),s=ed(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Xh(o):Zh(o)}return xv(o,r),Lv(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Qw&&(i=void 0),this.autoFreeze_&&Up(i,!0),r){const o=[],s=[];yi("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Tn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){er(t)||Tn(8),gi(t)&&(t=H3(t));const e=Dv(this),n=ed(t,void 0);return n[rn].isManual_=!0,Zh(e),n}finishDraft(t,e){const n=t&&t[rn];(!n||!n.isManual_)&&Tn(9);const{scope_:r}=n;return xv(r,e),Lv(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=yi("Patches").applyPatches_;return gi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ed(t,e){const n=fc(t)?yi("MapSet").proxyMap_(t,e):hc(t)?yi("MapSet").proxySet_(t,e):q3(t,e);return(e?e.scope_:Zw()).drafts_.push(n),n}function H3(t){return gi(t)||Tn(10,t),eT(t)}function eT(t){if(!er(t)||dc(t))return t;const e=t[rn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Yh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Yh(t,!0);return vu(n,(r,i)=>{Xw(n,r,eT(i))}),e&&(e.finalized_=!1),n}var on=new z3,tT=on.produce;on.produceWithPatches.bind(on);on.setAutoFreeze.bind(on);on.setUseStrictShallowCopy.bind(on);on.applyPatches.bind(on);on.createDraft.bind(on);on.finishDraft.bind(on);function nT(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var W3=nT(),K3=nT,G3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yu:yu.apply(null,arguments)},Q3=t=>t&&typeof t.match=="function";function Ps(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Mn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>L3(r)&&r.type===t,n}var rT=class ds extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ds.prototype)}static get[Symbol.species](){return ds}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ds(...e[0].concat(this)):new ds(...e.concat(this))}};function Vv(t){return er(t)?tT(t,()=>{}):t}function Fv(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Mn(10));const r=n.insert(e,t);return t.set(e,r),r}function Y3(t){return typeof t=="boolean"}var X3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new rT;return n&&(Y3(n)?s.push(W3):s.push(K3(n.extraArgument))),s},Z3="RTK_autoBatch",iT=t=>e=>{setTimeout(e,t)},J3=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iT(10),eV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?J3:t.type==="callback"?t.queueNotification:iT(t.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[Z3]),o=!i,o&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},tV=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new rT(t);return r&&i.push(eV(typeof r=="object"?r:void 0)),i};function nV(t){const e=X3(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Bp(n))a=x3(n);else throw new Error(Mn(1));let l;typeof r=="function"?l=r(e):l=e();let c=yu;i&&(c=G3({trace:!1,...typeof i=="object"&&i}));const d=D3(...l),h=tV(d);let f=typeof s=="function"?s(h):h();const p=c(...f);return Gw(a,o,p)}function oT(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Mn(28));if(a in e)throw new Error(Mn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function rV(t){return typeof t=="function"}function iV(t,e){let[n,r,i]=oT(e),o;if(rV(t))o=()=>Vv(t());else{const a=Vv(t);o=()=>a}function s(a=o(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(gi(d)){const p=h(d,l);return p===void 0?d:p}else{if(er(d))return tT(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return s.getInitialState=o,s}var oV=(t,e)=>Q3(t)?t.match(e):t(e);function sV(...t){return e=>t.some(n=>oV(n,e))}var aV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sT=(t=21)=>{let e="",n=t;for(;n--;)e+=aV[Math.random()*64|0];return e},lV=["name","message","stack","code"],bf=class{constructor(t,e){Cc(this,"_type");this.payload=t,this.meta=e}},jv=class{constructor(t,e){Cc(this,"_type");this.payload=t,this.meta=e}},uV=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of lV)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},pc=(()=>{function t(e,n,r){const i=Ps(e+"/fulfilled",(l,c,d,h)=>({payload:l,meta:{...h||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),o=Ps(e+"/pending",(l,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:l,requestStatus:"pending"}})),s=Ps(e+"/rejected",(l,c,d,h,f)=>({payload:h,error:(r&&r.serializeError||uV)(l||"Rejected"),meta:{...f||{},arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,d,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(l):sT(),p=new AbortController;let _,E;function w(m){E=m,p.abort()}const g=async function(){var y,k;let m;try{let C=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:d,extra:h});if(fV(C)&&(C=await C),C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((T,O)=>{_=()=>{O({name:"AbortError",message:E||"Aborted"})},p.signal.addEventListener("abort",_)});c(o(f,l,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:f,arg:l},{getState:d,extra:h}))),m=await Promise.race([A,Promise.resolve(n(l,{dispatch:c,getState:d,extra:h,requestId:f,signal:p.signal,abort:w,rejectWithValue:(T,O)=>new bf(T,O),fulfillWithValue:(T,O)=>new jv(T,O)})).then(T=>{if(T instanceof bf)throw T;return T instanceof jv?i(T.payload,f,l,T.meta):i(T,f,l)})])}catch(C){m=C instanceof bf?s(null,f,l,C.payload,C.meta):s(C,f,l)}finally{_&&p.signal.removeEventListener("abort",_)}return r&&!r.dispatchConditionRejection&&s.match(m)&&m.meta.condition||c(m),m}();return Object.assign(g,{abort:w,requestId:f,arg:l,unwrap(){return g.then(cV)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:sV(s,i),typePrefix:e})}return t.withTypes=()=>t,t})();function cV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function fV(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var hV=Symbol.for("rtk-slice-createasyncthunk");function dV(t,e){return`${t}/${e}`}function pV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[hV];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Mn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(yV()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(v,y){const k=typeof v=="string"?v:v.type;if(!k)throw new Error(Mn(12));if(k in c.sliceCaseReducersByType)throw new Error(Mn(13));return c.sliceCaseReducersByType[k]=y,d},addMatcher(v,y){return c.sliceMatchers.push({matcher:v,reducer:y}),d},exposeAction(v,y){return c.actionCreators[v]=y,d},exposeCaseReducer(v,y){return c.sliceCaseReducersByName[v]=y,d}};l.forEach(v=>{const y=a[v],k={reducerName:v,type:dV(o,v),createNotation:typeof i.reducers=="function"};_V(y)?wV(k,y,d,e):vV(k,y,d)});function h(){const[v={},y=[],k=void 0]=typeof i.extraReducers=="function"?oT(i.extraReducers):[i.extraReducers],C={...v,...c.sliceCaseReducersByType};return iV(i.initialState,A=>{for(let T in C)A.addCase(T,C[T]);for(let T of c.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of y)A.addMatcher(T.matcher,T.reducer);k&&A.addDefaultCase(k)})}const f=v=>v,p=new Map;let _;function E(v,y){return _||(_=h()),_(v,y)}function w(){return _||(_=h()),_.getInitialState()}function g(v,y=!1){function k(A){let T=A[v];return typeof T>"u"&&y&&(T=w()),T}function C(A=f){const T=Fv(p,y,{insert:()=>new WeakMap});return Fv(T,A,{insert:()=>{const O={};for(const[I,S]of Object.entries(i.selectors??{}))O[I]=mV(S,A,w,y);return O}})}return{reducerPath:v,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const m={name:o,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...g(s),injectInto(v,{reducerPath:y,...k}={}){const C=y??s;return v.inject({reducerPath:C,reducer:E},k),{...m,...g(C,!0)}}};return m}}function mV(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var gV=pV();function yV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function vV({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!EV(r))throw new Error(Mn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Ps(t,s):Ps(t))}function _V(t){return t._reducerDefinitionType==="asyncThunk"}function EV(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wV({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Mn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:d}=n,h=i(t,o,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||rl,pending:a||rl,rejected:l||rl,settled:c||rl})}function rl(){}function Mn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const TV={posts:[],status:"idle",error:null},Il=pc("posts/fetchPostsFromFirebase",async()=>{const t=Ju(Io,"posts");return(await aw(t)).docs.map(r=>{const i=r.data();return{id:r.id,title:i.title||"",body:i.body||"",date:i.date||"",reactions:i.reactions||{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},file:i.file||null}})}),bV=pc("posts/addPostToFirebase",async t=>{const e=Ju(Io,"posts"),n=await lw(e,{title:t.title,body:t.body,date:t.date,reactions:t.reactions,file:t.file});return{...t,id:n.id}});pc("posts/updatePost",async t=>{const e=bp(Io,"posts",t.id);return await sO(e,{title:t.title,body:t.body,reactions:t.reactions,date:t.date,file:t.file}),t});const aT=pc("posts/deletePost",async t=>{const e=bp(Io,"posts",t);return await aO(e),t}),lT=gV({name:"posts",initialState:TV,reducers:{postAdded:{reducer(t,{payload:e}){t.posts.push(e)},prepare(t,e,n){return{payload:{id:sT(),title:t,body:e,date:new Date().toISOString(),reactions:{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},file:n}}}},postDeleted(t,e){t.posts=t.posts.filter(n=>n.id!==e.payload)},reactionAdded(t,e){const{postId:n,reaction:r}=e.payload,i=t.posts.find(o=>o.id===n);i&&(i.reactions[r]=(i.reactions[r]||0)+1)}},extraReducers(t){t.addCase(Il.pending,e=>{e.status="loading"}).addCase(Il.fulfilled,(e,n)=>{e.status="succeeded",e.posts=n.payload}).addCase(Il.rejected,(e,n)=>{e.status="failed",e.error=n.error.message||null}).addCase(bV.fulfilled,(e,n)=>{e.posts.push(n.payload)}).addCase(aT.fulfilled,(e,n)=>{e.posts=e.posts.filter(r=>r.id!==n.payload)})}}),{postAdded:k9,postDeleted:P9,reactionAdded:AV}=lT.actions,SV=(t,e)=>t.posts.posts.find(n=>n.id===e),IV=lT.reducer,uT=6e4,cT=36e5,il=43200,Bv=1440,Uv=Symbol.for("constructDateFrom");function mc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Uv in t?t[Uv](e):t instanceof Date?new t.constructor(e):new Date(e)}function jn(t,e){return mc(e||t,t)}let kV={};function PV(){return kV}function qv(t){const e=jn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $p(t,...e){const n=mc.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function kl(t,e){const n=+jn(t)-+jn(e);return n<0?-1:n>0?1:n}function RV(t){return mc(t,Date.now())}function OV(t,e,n){const[r,i]=$p(n==null?void 0:n.in,t,e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function NV(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function CV(t,e){return+jn(t)-+jn(e)}function xV(t,e){const n=jn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function DV(t,e){const n=jn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function LV(t,e){const n=jn(t,e==null?void 0:e.in);return+xV(n,e)==+DV(n,e)}function MV(t,e,n){const[r,i,o]=$p(n==null?void 0:n.in,t,t,e),s=kl(i,o),a=Math.abs(OV(i,o));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*a);let l=kl(i,o)===-s;LV(r)&&a===1&&kl(r,o)===1&&(l=!1);const c=s*(a-+l);return c===0?0:c}function VV(t,e,n){const r=CV(t,e)/1e3;return NV(n==null?void 0:n.roundingMethod)(r)}const FV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jV=(t,e,n)=>{let r;const i=FV[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Af(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$V={date:Af({formats:BV,defaultWidth:"full"}),time:Af({formats:UV,defaultWidth:"full"}),dateTime:Af({formats:qV,defaultWidth:"full"})},zV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HV=(t,e,n,r)=>zV[t];function rs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const WV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JV={ordinalNumber:ZV,era:rs({values:WV,defaultWidth:"wide"}),quarter:rs({values:KV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rs({values:GV,defaultWidth:"wide"}),day:rs({values:QV,defaultWidth:"wide"}),dayPeriod:rs({values:YV,defaultWidth:"wide",formattingValues:XV,defaultFormattingWidth:"wide"})};function is(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?t5(a,h=>h.test(s)):e5(a,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function e5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function t5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function n5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const r5=/^(\d+)(th|st|nd|rd)?/i,i5=/\d+/i,o5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s5={any:[/^b/i,/^(a|c)/i]},a5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l5={any:[/1/i,/2/i,/3/i,/4/i]},u5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},h5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m5={ordinalNumber:n5({matchPattern:r5,parsePattern:i5,valueCallback:t=>parseInt(t,10)}),era:is({matchPatterns:o5,defaultMatchWidth:"wide",parsePatterns:s5,defaultParseWidth:"any"}),quarter:is({matchPatterns:a5,defaultMatchWidth:"wide",parsePatterns:l5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:is({matchPatterns:u5,defaultMatchWidth:"wide",parsePatterns:c5,defaultParseWidth:"any"}),day:is({matchPatterns:f5,defaultMatchWidth:"wide",parsePatterns:h5,defaultParseWidth:"any"}),dayPeriod:is({matchPatterns:d5,defaultMatchWidth:"any",parsePatterns:p5,defaultParseWidth:"any"})},g5={code:"en-US",formatDistance:jV,formatLong:$V,formatRelative:HV,localize:JV,match:m5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y5(t,e,n){const r=PV(),i=(n==null?void 0:n.locale)??r.locale??g5,o=2520,s=kl(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[l,c]=$p(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),d=VV(c,l),h=(qv(c)-qv(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,a):d<10?i.formatDistance("lessThanXSeconds",10,a):d<20?i.formatDistance("lessThanXSeconds",20,a):d<40?i.formatDistance("halfAMinute",0,a):d<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):f===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",f,a);if(f<45)return i.formatDistance("xMinutes",f,a);if(f<90)return i.formatDistance("aboutXHours",1,a);if(f<Bv){const _=Math.round(f/60);return i.formatDistance("aboutXHours",_,a)}else{if(f<o)return i.formatDistance("xDays",1,a);if(f<il){const _=Math.round(f/Bv);return i.formatDistance("xDays",_,a)}else if(f<il*2)return p=Math.round(f/il),i.formatDistance("aboutXMonths",p,a)}if(p=MV(c,l),p<12){const _=Math.round(f/il);return i.formatDistance("xMonths",_,a)}else{const _=p%12,E=Math.trunc(p/12);return _<3?i.formatDistance("aboutXYears",E,a):_<9?i.formatDistance("overXYears",E,a):i.formatDistance("almostXYears",E+1,a)}}function v5(t,e){return y5(t,RV(t),e)}function _5(t,e){const n=()=>mc(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=b5(t);let o;if(i.date){const c=A5(i.date,r);o=S5(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=I5(i.time),isNaN(a)))return n();if(i.timezone){if(l=k5(i.timezone),isNaN(l))return n()}else{const c=new Date(s+a),d=jn(0,e==null?void 0:e.in);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return jn(s+a+l,e==null?void 0:e.in)}const ol={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},E5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,w5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function b5(t){const e={},n=t.split(ol.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ol.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ol.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=ol.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function A5(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function S5(t,e){if(e===null)return new Date(NaN);const n=t.match(E5);if(!n)return new Date(NaN);const r=!!n[4],i=os(n[1]),o=os(n[2])-1,s=os(n[3]),a=os(n[4]),l=os(n[5])-1;if(r)return C5(e,a,l)?P5(e,a,l):new Date(NaN);{const c=new Date(0);return!O5(e,o,s)||!N5(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function os(t){return t?parseInt(t):1}function I5(t){const e=t.match(w5);if(!e)return NaN;const n=Sf(e[1]),r=Sf(e[2]),i=Sf(e[3]);return x5(n,r,i)?n*cT+r*uT+i*1e3:NaN}function Sf(t){return t&&parseFloat(t.replace(",","."))||0}function k5(t){if(t==="Z")return 0;const e=t.match(T5);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return D5(r,i)?n*(r*cT+i*uT):NaN}function P5(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const R5=[31,null,31,30,31,30,31,31,30,31,30,31];function fT(t){return t%400===0||t%4===0&&t%100!==0}function O5(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(R5[e]||(fT(t)?29:28))}function N5(t,e){return e>=1&&e<=(fT(t)?366:365)}function C5(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function x5(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function D5(t,e){return e>=0&&e<=59}const L5=({timestamp:t})=>{let e="";if(t){const n=_5(t);e=`${v5(n)} ago`}return se("span",{title:t,children:[" ",j("i",{children:e})]})},M5={thumbsUp:"",wow:"",heart:"",rocket:"",coffee:""},V5=({post:t})=>{const e=Kw(),n=t.reactions||{thumbsUp:0,wow:0,heart:0,rocket:0,coffee:0},r=Object.entries(M5).map(([i,o])=>se("button",{type:"button",className:"reactionButton",onClick:()=>e(AV({postId:t.id,reaction:i})),children:[o," ",n[i],"  "]},i));return j("div",{children:r})},F5=()=>{const{postId:t}=GS(),e=_3(o=>SV(o,t||"")),n=Kw(),r=Zd();if(!e)return j("section",{children:j("h2",{children:"Post not found!"})});const i=async()=>{t&&(await n(aT(t)),r("/posts"))};return se("article",{children:[j("h2",{children:e.title}),j("div",{className:"post-body",dangerouslySetInnerHTML:{__html:e.body}}),e.file&&j("div",{className:"post-image",children:j("img",{src:e.file,alt:"Post Image",className:"post-image__img"})}),j("p",{className:"postCredit",children:j(L5,{timestamp:e.date})}),j(V5,{post:e}),j("button",{onClick:i,children:"Delete Post"})]})},j5=()=>se("header",{className:"Header",children:[j("h1",{children:"Redux Blog"}),j("nav",{children:se("ul",{children:[j("li",{children:j(Qt,{to:"/",children:"Home"})}),j("li",{children:j(Qt,{to:"post",children:"Post"})})]})})]}),B5=()=>se(jr,{children:[j(j5,{}),j("main",{className:"App",children:j(lI,{})})]});const U5="/vanessa_portfolio/assets/logo-header-785415d7.svg",q5="/vanessa_portfolio/assets/CV_VANESSA-MORENO-79892f4a.pdf",Ai=()=>se("header",{className:"header-container",children:[j("div",{className:"logo",children:se(Qt,{to:"/",children:[" ",j("img",{src:U5,alt:"logo",className:"logo-img"})]})}),se("nav",{className:"menu",children:[j(Qt,{to:"/About",children:"About"}),j(Qt,{to:"/Projects",children:"Projects"}),j(Qt,{to:"/Contact",children:"Contact"}),j(Qt,{to:"/Blog",children:"Blog"}),j(Qt,{to:"/Gallery",children:"Gallery"}),j(Qt,{to:"/Videogallery",children:"VideoGallery"})]}),j("div",{className:"download-button",children:j("a",{href:q5,download:"CV_VANESSA-MORENO.pdf",className:"btn",children:"Download CV"})})]});const $5="/vanessa_portfolio/assets/logo-blanco-de5732a7.svg",z5="/vanessa_portfolio/assets/email-icon-3ec457f1.svg",H5="/vanessa_portfolio/assets/phone-icon-890f5a98.svg",Si=()=>j("footer",{className:"footer",children:se("div",{className:"footer-content",children:[se("div",{className:"footer-left",children:[j("img",{src:$5,alt:"Logo",className:"footer-logo"}),j("span",{className:"footer-name",children:"Vanessa Moreno"})]}),se("div",{className:"footer-right",children:[se("div",{className:"footer-item",children:[j("img",{src:z5,alt:"Email Icon",className:"footer-icon"}),j("span",{className:"footer-text",children:"vanessamorenoperez55@gmail.com"})]}),se("div",{className:"footer-item",children:[j("img",{src:H5,alt:"Phone Icon",className:"footer-icon"}),j("span",{className:"footer-text",children:"+353 89 945 1920"})]})]})]})});const W5="/vanessa_portfolio/assets/foto-yo-395e7f7f.png",K5="/vanessa_portfolio/assets/expertise1-ee655838.svg",G5="/vanessa_portfolio/assets/expertise2-60307fe1.svg",Q5="/vanessa_portfolio/assets/expertise3-7580b34d.svg",Y5="/vanessa_portfolio/assets/expertise4-3904ed02.svg",X5="/vanessa_portfolio/assets/expertise5-e0fa7572.svg",Z5="/vanessa_portfolio/assets/expertise6-59fb021b.svg",hT="/vanessa_portfolio/assets/project1-b8bde737.png",dT="/vanessa_portfolio/assets/project2-2cbc25b1.png",pT="/vanessa_portfolio/assets/project3-79540a6c.png",mT="/vanessa_portfolio/assets/project4-65dc9061.png",gT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEESURBVHgBtVRREYMwDC07BCABCUjAwSYBB8PBkIADmIJtCugUMAeVwBxkr3dlV0rKuMLe3ftpLi+8JEQQUSL+gAN4grgCGzAVewFiBU1xA3OxFZbw4BRQJpaKEFjCEszAluZodCxY2HpLzbtyCvT6PVjYieeMC/Vz2JawWrJrXLSMi451QfOt0EPUm1H6Cpkcybg4f10wwnaBljw9NS3qmZzKFR6FSl/v8J6AF5qvpjR5CdcKKfz9HQc4OF9Xk+dnihfEdPUCPIK5FXqBD7COoujty48ZwcyIlaB9oJ5gBTEp1oCm69Zxw6CQC0j8VkjaeIjsVuh+XcH7artLMBMvaeeD/wHz4BsG9h9+7wAAAABJRU5ErkJggg==",J5=()=>se(jr,{children:[j(Ai,{}),se("div",{className:"flex-container",children:[" ",se("div",{className:"descripcion",children:[j("span",{style:{color:"black",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:"HI, I AM"}),se("span",{style:{color:"#9C0000",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:["VANESSA, ",j("br",{})]}),se("span",{style:{color:"black",fontSize:"60px",fontFamily:"Arial, sans-serif",fontWeight:700,lineHeight:"70px",textAlign:"left"},children:["AN UI DESIGNER ",j("br",{})," BASED IN LIMERICK"]})]}),j("div",{className:"foto-yo",children:j("img",{src:W5,width:"350",alt:"Foto de Vanessa"})})]}),se("div",{className:"banda",children:[j("div",{className:"banda-background"}),j("div",{className:"banda-item",children:"interface"}),j("div",{className:"banda-separator",children:"/"}),j("div",{className:"banda-item",children:"user experience"}),j("div",{className:"banda-separator",children:"/"}),j("div",{className:"banda-item",children:"web development"}),j("div",{className:"banda-separator",children:"/"}),j("div",{className:"banda-item",children:"branding & merch"}),j("div",{className:"banda-separator",children:"/"}),j("div",{className:"banda-item",children:"layout design"}),j("div",{className:"banda-separator",children:"/"}),j("div",{className:"banda-item",children:"motion graphics"})]}),j("div",{className:"What-can-do",style:{fontFamily:"Arial, sans-serif"},children:"What I can do"}),se("div",{className:"expertise",children:[" ",j("div",{className:"grid-item",children:j("img",{src:K5,alt:"Expertise 1"})}),j("div",{className:"grid-item",children:j("img",{src:G5,alt:"Expertise 2"})}),j("div",{className:"grid-item",children:j("img",{src:Q5,alt:"Expertise 3"})}),j("div",{className:"grid-item",children:j("img",{src:Y5,alt:"Expertise 4"})}),j("div",{className:"grid-item",children:j("img",{src:X5,alt:"Expertise 5"})}),j("div",{className:"grid-item",children:j("img",{src:Z5,alt:"Expertise 6"})})]}),se("div",{className:"featured-works-section",children:[j("h2",{className:"featured-works-title",style:{fontFamily:"Arial, sans-serif"},children:"Featured Works"}),se("div",{className:"featured-works",children:[se("div",{className:"work-box",children:[j("img",{src:hT,alt:"Project 1",className:"project-image-home"}),j("div",{className:"project-label",children:"Project"}),j("h3",{className:"project-title",children:"os! Gofio"}),j("p",{className:"project-skills",children:"Logo Design  Packaging  Web Design  Merchandising"}),j("a",{href:"#",className:"view-more-btn",children:"View More "})]}),se("div",{className:"work-box",children:[j("img",{src:dT,alt:"Project 2",className:"project-image-home"}),j("div",{className:"project-label",children:"Project"}),j("h3",{className:"project-title",children:"Cinedfest"}),j("p",{className:"project-skills",children:"Logo Design  Social Media  Poster  Merchandising"}),j("a",{href:"#",className:"view-more-btn",children:"View More "})]}),se("div",{className:"work-box",children:[j("img",{src:pT,alt:"Project 3",className:"project-image-home"}),j("div",{className:"project-label",children:"Project"}),j("h3",{className:"project-title",children:"Cipselas"}),j("p",{className:"project-skills",children:"Layout Design  Visual System  Microtypography"}),j("a",{href:"#",className:"view-more-btn",children:"View More "})]}),se("div",{className:"work-box",children:[j("img",{src:mT,alt:"Project 4",className:"project-image-home"}),j("div",{className:"project-label",children:"Project"}),j("h3",{className:"project-title",children:"Greenport Dashboard"}),j("p",{className:"project-skills",children:"Logo Design  UI Design  Visual System  Diagrams"}),j("a",{href:"#",className:"view-more-btn",children:"View More "})]})]})]}),se("div",{className:"contact-form-section",children:[j("h2",{className:"contact-form-title",style:{fontFamily:"Arial, sans-serif"},children:"Let's chat!"}),se("form",{className:"contact-form",children:[se("div",{className:"form-row",children:[j("input",{type:"text",placeholder:"Name",className:"form-input"})," ",j("input",{type:"email",placeholder:"Email",className:"form-input"})," "]}),j("textarea",{placeholder:"Message",className:"form-textarea"})," ",se("button",{type:"submit",className:"submit-btn",children:[" ",j("span",{children:"Get in touch"}),j("img",{src:gT,alt:"Send",className:"send-icon"})]})]})]}),j("footer",{children:j(Si,{})})]}),e9="/vanessa_portfolio/assets/foto-yo-about-a86483d2.png";const t9=()=>se(jr,{children:[j(Ai,{}),se("div",{className:"about-container",children:[se("div",{className:"about-text",children:[j("h2",{className:"about-title",children:"About Me"}),se("p",{className:"about-description",children:["Im an Interaction and Experience Designer with a background ",j("br",{}),"in Graphic Design, holding a Bachelors in Design and ",j("br",{}),"currently pursuing a Masters in Interaction Design at the ",j("br",{}),"University of Limerick."]}),se("p",{className:"about-description",children:["Since 2021, Ive worked as a UX/UI Designer and Graphic ",j("br",{}),"Designer with clients and studios in Gran Canaria. I have led ",j("br",{}),"projects ranging from resource management dashboards to ",j("br",{}),"branding, merchandising, and logo design."]}),se("p",{className:"about-description",children:["Im proficient in tools like Figma, React, WordPress, and Adobe ",j("br",{}),"Suite. I bring a research-driven approach to creating ",j("br",{}),"functional and impactful designs."]}),se("div",{className:"contact-info",children:[j("p",{children:"vanessamorenoperez55@gmail.com"}),j("p",{children:"+353 89 945 1920"})]})]}),j("div",{className:"about-image-container",children:j("div",{className:"about-image-placeholder",children:j("img",{src:e9,alt:"Descripcin de la imagen",className:"about-image"})})})]}),j("footer",{children:j(Si,{})})]});const n9="/vanessa_portfolio/assets/gallery-icon-cb84195d.svg",r9="/vanessa_portfolio/assets/videogallery-icon-2bfb7147.svg",i9=()=>se(jr,{children:[j(Ai,{}),se("div",{className:"row",children:[se("div",{className:"column-project",children:[j("h2",{className:"column-title-project",children:"Projects"}),se("p",{className:"column-text-project",children:["With a background in Graphic Design, Ive developed a refined ",j("br",{}),"visual sensitivity that, combined with my UX/UI specialization, ",j("br",{}),"allows me to create impactful projects across various fields of ",j("br",{}),"visual communication. From branding and logo design to web ",j("br",{}),"development and interface design, my experience spans ",j("br",{}),"multiple aspects of digital and visual storytelling."]}),se("p",{className:"column-text-project",children:["Feel free to explore individual projects or browse ",j("br",{}),"through the galleries for a closer look at my work."]}),se("button",{type:"button",className:"gallery-btn",children:[" ",se(Qt,{to:"/gallery",className:"gallery-link",children:[j("span",{children:"Gallery"}),j("img",{src:n9,alt:"gallery",className:"gallery-icon"})]})]}),se("button",{type:"button",className:"videogallery-btn",children:[" ",se(Qt,{to:"/videogallery",className:"gallery-link",children:[j("span",{children:"Video Gallery"}),j("img",{src:r9,alt:"video gallery",className:"gallery-icon"})]})]})]}),j("div",{className:"column",children:se("div",{className:"work-boxes",children:[j(sl,{imgSrc:hT,title:"os! Gofio",skills:"Logo Design  Packaging  Web Design  Merchandising"}),j(sl,{imgSrc:dT,title:"Cinedfest",skills:"Logo Design  Social Media  Poster  Merchandising"}),j(sl,{imgSrc:pT,title:"Cipselas",skills:"Layout Design  Visual System  Microtypography"}),j(sl,{imgSrc:mT,title:"Greenport Dashboard",skills:"Logo Design  UI Design  Visual System  Diagrams"})]})})]}),j("footer",{children:j(Si,{})})]}),sl=({imgSrc:t,title:e,skills:n})=>se("div",{className:"work-item",children:[j("img",{src:t,alt:e,className:"project-image"}),j("div",{className:"project-label",children:"Project"}),j("h3",{className:"project-title",children:e}),j("p",{className:"project-skills",children:n}),j("a",{href:"#",className:"view-more-btn",children:"View More "})]});const o9="/vanessa_portfolio/assets/email-icon-red-377e465c.svg",s9="/vanessa_portfolio/assets/phone-icon-red-6dc880c5.svg",a9=()=>se(jr,{children:[j(Ai,{}),se("div",{className:"row",children:[se("div",{className:"column",children:[j("h2",{className:"column-title",children:"Contact"}),se("p",{className:"column-text",children:[j("img",{src:o9,alt:"Email Icon",style:{width:"20px",marginRight:"8px"}}),"vanessamorenoperez55@gmail.com ",j("br",{}),j("img",{src:s9,alt:"Phone Icon",style:{width:"20px",marginRight:"8px"}}),"+353 89 945 1920"]})]}),j("div",{className:"column",children:se("div",{className:"contact-form-section",children:[j("h2",{className:"contact-form-title",children:"Let's chat!"}),se("form",{className:"contact-form",children:[se("div",{className:"form-row",children:[j("input",{type:"text",placeholder:"Name",className:"form-input"}),j("input",{type:"email",placeholder:"Email",className:"form-input"})]}),j("textarea",{placeholder:"Message",className:"form-textarea"}),se("button",{type:"submit",className:"submit-btn",children:[j("span",{children:"Get in touch"}),j("img",{src:gT,alt:"Send",className:"send-icon"})]})]})]})})]}),j("footer",{children:j(Si,{})})]});const l9="/vanessa_portfolio/assets/gallery-image_A-bddfba88.jpg",u9="/vanessa_portfolio/assets/gallery-image_B-6027bc0b.jpg",c9="/vanessa_portfolio/assets/gallery-image_C-8ba110e2.jpg",f9="/vanessa_portfolio/assets/gallery-image_D-dc945784.jpg",h9="/vanessa_portfolio/assets/gallery-image_E-f2cc8720.jpg",d9="/vanessa_portfolio/assets/gallery-image_F-ce6048d6.jpg",p9="/vanessa_portfolio/assets/gallery-image_G-bc9e3569.jpg",m9="/vanessa_portfolio/assets/gallery-image_H-c4b1494d.jpg",g9="/vanessa_portfolio/assets/gallery-image_I-e22792ed.jpg",al=[l9,u9,c9,f9,h9,d9,p9,m9,g9],y9=()=>{const[t,e]=le.useState(!1),[n,r]=le.useState(0),i=a=>{r(a),e(!0)},o=()=>{r(a=>a===al.length-1?0:a+1)},s=()=>{r(a=>a===0?al.length-1:a-1)};return se(jr,{children:[j(Ai,{}),se("div",{className:"row",children:[" ",se("div",{className:"column-gallery",children:[j(Qt,{to:"/projects",className:"go-back-btn-gallery",children:" Go back"})," ",j("h2",{className:"column-title-gallery",children:"Gallery"})," "]}),se("div",{className:"image-gallery",children:[" ",al.map((a,l)=>j("img",{src:a,alt:`Gallery Image ${l+1}`,className:"gallery-image",onClick:()=>i(l)},l))]})]}),t&&se("div",{className:"overlay",onClick:()=>e(!1),children:[" ",j("button",{className:"arrow left-arrow",onClick:a=>{a.stopPropagation(),s()},children:" "}),j("img",{src:al[n],alt:"Expanded view",className:"expanded-image"})," ",j("button",{className:"arrow right-arrow",onClick:a=>{a.stopPropagation(),o()},children:" "})]}),j("footer",{children:j(Si,{})})]})};const $v="/vanessa_portfolio/assets/0-64e5cb58.png",zv="/vanessa_portfolio/assets/1-95da7fa2.png",Hv="/vanessa_portfolio/assets/2-990fac7e.png",Wv="/vanessa_portfolio/assets/3-464fb5e0.png",Kv="/vanessa_portfolio/assets/4-67e1bbf3.png",Gv="/vanessa_portfolio/assets/5-f34686dd.png",Qv="/vanessa_portfolio/assets/6-6cd5c656.png",Yv="/vanessa_portfolio/assets/7-88acc73e.png",Xv="/vanessa_portfolio/assets/8-5c9353f6.png",Zv="/vanessa_portfolio/assets/9-8f6001aa.png",Jv="/vanessa_portfolio/assets/business-headshot-b19fd069.jpg",e_="/vanessa_portfolio/assets/aesthetic-shot-009a19fc.jpg",t_="/vanessa_portfolio/assets/passion-shot-28249c96.jpg",v9=()=>{const[t,e]=le.useState(!1),[n,r]=le.useState(""),i=[{src:$v,alt:"Image 0"},{src:zv,alt:"Image 1"},{src:Hv,alt:"Image 2"},{src:Wv,alt:"Image 3"},{src:Kv,alt:"Image 4"},{src:Gv,alt:"Image 5"},{src:Qv,alt:"Image 6"},{src:Yv,alt:"Image 7"},{src:Xv,alt:"Image 8"},{src:Zv,alt:"Image 9"},{src:Jv,alt:"Business Headshot"},{src:e_,alt:"Aesthetic Shot"},{src:t_,alt:"Passion Shot"}],o=a=>{r(i[a].src),e(!0)};return se(jr,{children:[j(Ai,{}),se("div",{className:"container",children:[" ",j("h1",{className:"blog-title",children:"Blog"})," ",se("div",{className:"post",children:[j("h2",{className:"post-title",children:"Photography Series Analysis"}),se("div",{className:"post-meta",children:[j("span",{className:"post-date",children:"Published: 30/10/2024"})," |",j("span",{className:"post-read-time",children:"Reading time: 8 min"})]}),j("p",{className:"post-content",children:"This photography series includes three different images: a professional headshot, an aesthetic portrait, and a photo that shows my personal passion. Each image is designed to share a specific message or mood, highlighting different aspects of portrait photography and thematic expression."}),j("p",{className:"post-content",children:"To develop each idea, I started with a brainstorming session to get my thoughts in line with the project brief. I listed possible themes and visual elements that would help to communicate the message I wanted. After picking the key concepts, I sketched out each idea, thinking about important details like location, lighting, camera angles, clothes and props. I also looked for visual references and created mood boards to clarify the overall direction for each shot. All the photos were edited in Adobe Photoshop."}),j("h3",{className:"post-subtitle",children:"Business-Type Headshot"}),j("img",{className:"post-image",src:Jv,alt:"Business Headshot",onClick:()=>o(10)}),j("p",{className:"post-content",children:"For the business headshot, I wanted to create an image that balances professionalism with approachability. I chose soft frontal lighting to keep the exposure even across my face and avoid harsh shadows, giving a clean and polished look. I went with a plain white background, which I planned to replace later with a softly blurred office background, adding context without distracting from the subject."}),j("p",{className:"post-content",children:"In terms of framing, I opted for a close-up shot, focusing on the upper part of my torso and my face to draw attention to my expression. Unlike other portraits where I might not wear my glasses, I decided to wear them here to project a more intellectual appearance, as glasses are often associated with reading and screen work. To strike a balance between formality and friendliness, I tilted my head slightly to the left, breaking the symmetry to avoid a stiff look. I also wore a simple headband to keep my hair back, ensuring my face was clear and focused, along with a turtleneck blouse that added a touch of professionalism while maintaining a modern feel."}),j("p",{className:"post-content",children:"For facial expressions, I tried out a few options: a big smile, a soft smile without showing my teeth and a neutral look. After checking them out, I chose the full smile for its friendly quality. Including a warm smile gives the image a sense of reliability, which is boosted by the lighting and wardrobe choices."}),j("h3",{className:"post-subtitle",children:"Aesthetic Shot"}),j("img",{className:"post-image",src:e_,alt:"Aesthetic Shot",onClick:()=>o(11)}),j("p",{className:"post-content",children:"For the aesthetic shot, I drew inspiration from cinematic photography that features deep shadows and rich colours, aiming to create a moody and thoughtful atmosphere. I set up the composition with a centered point of interest: a window right in the middle, with me sitting on the window ledge in a relaxed and introspective pose looking at the outside. This setup was meant to symbolize a contrast between inner darkness and the colourful world outside, serving as a reminder of hope in tough times."}),j("p",{className:"post-content",children:"To achieve the right atmosphere, I relied entirely on natural light, avoiding artificial sources to enhance the room's darkness. By positioning the camera to focus on the window, I let the outside light shape the composition, creating a strong contrast between the bright window and the shadowy interior. This lighting choice highlighted my silhouette against the brighter outdoor scene."}),j("p",{className:"post-content",children:"For my outfit, I went with an all-black look to keep the focus on the light and mood without adding any distractions. In post-production, I made a few adjustments to enhance the atmosphere of the image. I boosted the greens visible through the window and subtly increased the contrast to sharpen the silhouette and enrich the tonal range, allowing the main elements of the composition to stand out."}),j("h3",{className:"post-subtitle",children:"Passion Shot"}),j("img",{className:"post-image",src:t_,alt:"Passion Shot",onClick:()=>o(12)}),j("p",{className:"post-content",children:"For the passion shot, I wanted to capture my favourite activity since moving to Ireland: traveling and exploring new places. To visually share this topic, I carefully arranged a composition with key items related to trip planning. These included a map with some locations circled, a pen, a Pinterest board full of ideas, a tourist brochure with potential destinations and some decorative elements like a small plant and a cup of coffee. This setup was meant to evoke the feeling of getting ready for an adventure."}),j("p",{className:"post-content",children:"To create a balanced and visually interesting composition, I arranged these items within the frame, making sure each element contributed to the overall story without overcrowding the space. I had to ensure that details, especially the circled spots on the map, were clear for the viewer. This took several tries to position the objects and adjust the camera angle for the best shot. The goal was to keep things organized while creating a casual, inviting atmosphere that reflects the excitement of planning a trip."}),j("p",{className:"post-content",children:"The background for this shot was my desk, which is originally brown and did not fit the colour palette and look I was looking for. To fix this, I used Photoshop to edit the image by selecting the table and adjusting its colour, brightness and contrast, turning it into a white surface. This change made the composition pop, allowing the travel-related items to stand out and creating a cohesive visual experience that matched the theme of exploration and creativity."})]}),j("hr",{}),se("div",{className:"post",children:[j("h2",{className:"post-title",children:"Contribution to Video Assignment: Drink for Thought"}),se("div",{className:"post-meta",children:[j("span",{className:"post-date",children:"Published: 23/11/2024"})," |",j("span",{className:"post-read-time",children:"Reading time: 8 min"})]}),j("p",{className:"post-content",children:"During the production of the video Drink for Thought, I played as the Manager for the meeting scenes and in production I took on the role of editor. My responsibilities included reviewing and enhancing the quality of the footage by balancing brightness, colours and contrast, combining all the shots and incorporating special effects and music."}),j("p",{className:"post-content",children:"For the editing process, I used Adobe After Effects. Once all the footage was recorded, the team uploaded the clips to a shared folder, where I retrieved them. I began by cutting and arranging the footage into a cohesive timeline in After Effects, ensuring the final video would not exceed two minutes."}),se("div",{className:"post-images-container",children:[j("img",{className:"post-image2",src:$v,alt:"after-effects",onClick:()=>o(0)}),j("img",{className:"post-image2",src:zv,alt:"acting role",onClick:()=>o(1)})]}),j("h3",{className:"post-subtitle",children:"Visual Adjustments and Editing"}),j("p",{className:"post-content",children:"After organizing the footage, I focused on unifying brightness, colours and contrast, since some of the scenes were filmed from different angles and different illumination. I mainly used the Lumetri Color tool in After Effects to achieve a consistent look throughout the video."}),se("div",{className:"post-images-container",children:[j("img",{className:"post-image2",src:Hv,alt:"scene1-comparison",onClick:()=>o(2)}),j("img",{className:"post-image2",src:Wv,alt:"scene2-comparison",onClick:()=>o(3)}),j("img",{className:"post-image2",src:Kv,alt:"scene3-comparison",onClick:()=>o(4)}),j("img",{className:"post-image2",src:Gv,alt:"sequence-comparison",onClick:()=>o(5)})]}),j("h3",{className:"post-subtitle",children:"Special Effects and Compositions"}),j("p",{className:"post-content",children:'Next, I added special effects to enhance the storytelling. For the final shot of the apple juice, I replaced the background with a graphic composition created in Adobe Photoshop. Secondly, I animated a light bulb that appears when the designer conceives a new packaging idea. I also created fade-in and fade-out compositions in Adobe Illustrator and incorporated a translucent screen transition with the "two weeks later."'}),se("div",{className:"post-images-container",children:[j("img",{className:"post-image2",src:Qv,alt:"product-composition",onClick:()=>o(6)}),j("img",{className:"post-image2",src:Yv,alt:"idea-icon",onClick:()=>o(7)}),j("img",{className:"post-image2",src:Xv,alt:"credits",onClick:()=>o(8)})]}),j("h3",{className:"post-subtitle",children:"Audio Design"}),j("p",{className:"post-content",children:'Since all the scenes were silent, I selected music and sound effects to complement the video. Using Bensound.com and Freesound.org, I matched music to the three narrative sections: failure, change and success, ensuring the mood aligned with the emotions of the protagonist. For sound effects, I synchronized the "idea" sound and the apple-biting sound, both downloaded from Freesound, with the composed shoots.'}),j("h3",{className:"post-subtitle",children:"Export and Final Details"}),j("p",{className:"post-content",children:"Finally, I exported the final video using Adobe Media Encoder. To meet the 25 MB size limit without sacrificing quality, I adjusted the bitrate encoding to VBR 2-pass, with bitrates set between 1.57 and 5.37. This optimization ensured the video maintained high quality while adhering to file size constraints."}),j("div",{className:"post-images-container",children:j("img",{className:"post-image2",src:Zv,alt:"export-configuration",onClick:()=>o(9)})}),j("h3",{className:"post-subtitle",children:"Outcome Reflection"}),j("p",{className:"post-content",children:"This project allowed me to manage post-production editing and creative enhancements. My role was instrumental in unifying the team's efforts into a cohesive final product that communicated our idea. I particularly learnt a lot about video compression because of the file size limits, it required a lot of research and trial-error."}),j("p",{className:"post-content",children:"I feel satisfied and proud with how my contributions brought the project all together and how it aligned with the teams collective vision."})]})]}),t&&j("div",{className:"lightbox",onClick:()=>{e(!1)},children:j("div",{className:"lightbox-content",children:j("img",{className:"lightbox-image",src:n,alt:"Enlarged view"})})}),j("footer",{children:j(Si,{})})]})};function _9(){const[t,e]=le.useState(0),n=["./video1.mp4","./video2.mp4","./video3.mp4"];function r(){e(o=>(o+1)%n.length)}function i(){e(o=>(o-1+n.length)%n.length)}return se(jr,{children:[j(Ai,{}),se("div",{className:"row",children:[se("div",{className:"column-videogallery",children:[" ",j(Qt,{to:"/projects",className:"go-back-btn",children:" Go back"}),j("h2",{className:"column-title-videogallery",children:"VideoGallery"})]}),se("div",{className:"video-gallery-container",children:[" ",j("video",{src:n[t],controls:!0,className:"video-player"},n[t]),se("div",{className:"video-gallery-buttons",children:[j("button",{onClick:i,className:"video-gallery-button",children:"Previous"}),j("button",{onClick:r,className:"video-gallery-button",children:"Next"})]})]})]}),j(Si,{})]})}const E9=()=>se(yI,{basename:"/vanessa_portfolio",children:[" ",j("div",{className:"app-container",children:se(cI,{children:[j(Kt,{path:"/",element:j(J5,{})}),j(Kt,{path:"/about",element:j(t9,{})}),j(Kt,{path:"/projects",element:j(i9,{})}),j(Kt,{path:"/contact",element:j(a9,{})}),j(Kt,{path:"/gallery",element:j(y9,{})}),j(Kt,{path:"/blog",element:j(v9,{})}),j(Kt,{path:"/videogallery",element:j(_9,{})}),se(Kt,{path:"/",element:j(B5,{}),children:[j(Kt,{index:!0,element:j(AN,{})}),se(Kt,{path:"post",children:[j(Kt,{index:!0,element:j(o3,{})}),j(Kt,{path:":postId",element:j(F5,{})})]})]})]})})]}),yT=nV({reducer:{posts:IV}}),w9=()=>(le.useEffect(()=>{yT.dispatch(Il())},[]),j(E9,{}));y1(document.getElementById("root")).render(j(le.StrictMode,{children:j(k3,{store:yT,children:j(w9,{})})}));
